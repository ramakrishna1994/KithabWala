var module;UMD(module,{"minted:m":["M"],"minted:template":[],"minted:vendor/underscore-1.8.2.min":"_"})(this,function(m_module,m_template,_){var M=m_module.M;M.Template||(M.Template={});M.Template.Base||(M.Template.Base={});M.Template.Base.LoginNav=M.templateWrapper(function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";__p+='\n\n\n<a href="/login" rel="nofollow">Sign In</a>\n'}return __p});M.Template.Base.StatusNotifications=M.templateWrapper(function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";__p+='\n\n<div class="ordersToggle ';if(data.length==1){__p+=" hidden "}__p+='">\n  <div class="leftArrow"></div>\n  ORDER <span id="currentOrderNumber">1</span> OF '+((__t=data.length)==null?"":__t)+'\n  <div class="rightArrow active"></div>\n</div>\n<div class="statusWrapper">\n  <div class="notificationTextArea">\n    ';_.each(data,function(e,t){__p+='\n      <div class="singleOrder ';if(t!=0){__p+=" hidden "}__p+='">\n        ';if(e.isDigitalInvitation){__p+='\n          <div class="orderInfo">\n            <a class="orderDetailsLink" href="'+((__t=e.CTA_url)==null?"":__t)+'">'+((__t=e.po_number)==null?"":__t)+'</a> |\n            <span class="notificationTextHeavy">'+((__t=e.eventLabel)==null?"":__t)+'</span>\n          </div>\n          <div class="floatR">\n            <span class="orderStatus">'+((__t=e.status_message)==null?"":__t)+'</span>\n            <a class="notificationButton greenButton" href="'+((__t=e.CTA_url)==null?"":__t)+'">\n              '+((__t=e.button_text)==null?"":__t)+"\n            </a>\n          </div>\n        "}else{__p+='\n          <div class="orderInfo">\n            ';if(!shouldRenderVisitorVersion){__p+='\n              ORDER #<a class="orderDetailsLink" href="'+((__t=M.View.Order.OrderStatus.getDetailsLinkUrl(e))==null?"":__t)+'">'+((__t=e.po_number)==null?"":__t)+"</a> |\n            "}__p+='\n            <span class="notificationTextHeavy">'+((__t=M.View.Order.OrderStatus.friendlyTextMapping[e.eventLabel])==null?"":__t)+'</span>\n          </div>\n          <div class="floatR">\n            <span class="orderStatus">'+((__t=e.status_message)==null?"":__t)+'</span>\n            <a class="notificationButton ';if(e.button_text!="review order details"){__p+=" greenButton "}__p+='" href="'+((__t=M.View.Order.OrderStatus.getButtonClickUrl(e))==null?"":__t)+'">\n              '+((__t=e.button_text)==null?"":__t)+"\n            </a>\n          </div>\n        "}__p+="\n        </div>\n    "});__p+="\n  </div>\n</div>\n"}return __p});M.Template.Base.UserNav=M.templateWrapper(function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";__p+='\n\n\n<div class="pullDownNav userNav">\n  <a>'+((__t=firstName)==null?"":__t)+'\n    <img class="sprite expandLinkIcon"\n      src="'+((__t=M.img_src("/static/images/sprite_placeholder.png"))==null?"":__t)+'"/>\n  </a>\n  <ul>\n    <li>'+((__t=firstName)==null?"":__t)+'</li>\n    <li><a href="/order/list/'+((__t=userId)==null?"":__t)+'">Orders</a></li>\n    <li><a href="/my-saved-designs">Account</a></li>\n    ';if(isDesigner){__p+='\n      <li><a href="/artist/manage">Artist Dashboard</a></li>\n    '}__p+='\n    <li><a href="/addressbook/my-account/finalize/0">Address Assistant</a></li>\n    <li><a href="/referral/dashboard">Refer a Friend</a></li>\n    <li><a href="/myboards">My Boards</a></li>\n    ';if(DiIsEnabled){__p+='\n      <li><a href="/di/my-online-invitations/hosting">My Online Invitations</a></li>\n    '}__p+='\n    <li><a href="/logout">Logout</a></li>\n  </ul>\n</div>\n'}return __p});return{}});var module;UMD(module,{"minted:m":["M"],"minted:template":[],"minted:vendor/underscore-1.8.2.min":"_"})(this,function(m_module,m_template,_){var M=m_module.M;M.Template||(M.Template={});M.Template.DropdownPicker||(M.Template.DropdownPicker={});M.Template.DropdownPicker.DropdownPicker=M.templateWrapper(function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";__p+="\n\n";if(pickerLabel){__p+="\n<div class='floatL'>\n  <h5>\n    "+((__t=M.html.htmlAttributeEscape(pickerLabel))==null?"":__t)+'\n  </h5>\n</div>\n<div class="floatR dropdownPickerContainer">\n'}else{__p+='\n<div class="floatL dropdownPickerContainer">\n'}__p+='\n\n\n  <div class="dropdownPickerTrigger">\n    <div class="pickerTriggerText pickerText">\n      '+((__t=M.html.htmlAttributeEscape(selectedOptionDisplayStr))==null?"":__t)+'\n    </div>\n    <div class="pickerTriggerImage">\n      <img class="sprite arrowDownDefaultIcon"\n        src="'+((__t=M.html.htmlAttributeEscape(M.img_src("/static/images/sprite_placeholder.png")))==null?"":__t)+'"/>\n    </div>\n  </div>\n\n  <ul class="dropdownPickerDataSource pickerList">\n    ';for(var i in sortOptionsList){__p+='\n      <li class="dropdownPickerItem pickerText"\n          val="'+((__t=sortOptionsList[i]["option_val"])==null?"":__t)+'">\n        '+((__t=M.html.htmlAttributeEscape(sortOptionsList[i]["display_str"]))==null?"":__t)+"\n      </li>\n    "}__p+="\n  </ul>\n\n</div>\n\n"}return __p});return{}});var module;UMD(module,{"minted:m":["M"],"minted:template":[],"minted:vendor/underscore-1.8.2.min":"_"})(this,function(m_module,m_template,_){var M=m_module.M;M.Template||(M.Template={});M.Template.Community||(M.Template.Community={});M.Template.Community.Util||(M.Template.Community.Util={});M.Template.Community.Util.ActivityFeedTile=M.templateWrapper(function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";__p+='\n\n<div class="feedContent">\n  <div class="userInfo floatL">\n    ';if(typeof userProfileUrl==="undefined"){__p+='\n      <img class="userProfileImg floatL"\n          src="'+((__t=M.html.htmlAttributeEscape(userAvatarUrl))==null?"":__t)+'">\n    '}else{__p+='\n      <a href="'+((__t=M.html.htmlAttributeEscape(userProfileUrl))==null?"":__t)+'">\n        <img class="userProfileImg floatL"\n            src="'+((__t=M.html.htmlAttributeEscape(userAvatarUrl))==null?"":__t)+'">\n      </a>\n    '}__p+='\n    <div class="userInfoText floatL">\n      <div class="nameLabel">\n      ';if(typeof userProfileUrl==="undefined"){__p+="\n        "+((__t=M.html.htmlEscape(userName))==null?"":__t)+"\n      "}else{__p+='\n        <a href="'+((__t=M.html.htmlAttributeEscape(userProfileUrl))==null?"":__t)+'">\n          '+((__t=M.html.htmlEscape(userName))==null?"":__t)+"\n        </a>\n      "}__p+='\n      </div>\n      <p class="activityDescription">'+((__t=M.html.htmlEscape(activityDescription))==null?"":__t)+'</p>\n      <div class="activityCaption">\n        <img class="activityTypeIcon floatL"\n          src="'+((__t=M.img_src("/static/images/sprite_placeholder.png"))==null?"":__t)+'">\n        <div class="activityCaption floatL">\n          '+((__t=M.html.htmlEscape(timingStr))==null?"":__t)+'\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class="activityPreview floatL">\n    ';if(hasCallout===true){__p+='\n      <div class="activityCalloutContainer">\n        ';if(hasMessage===true){__p+='\n          <div class="calloutText">\n            <i>'+((__t=M.html.htmlEscape(messagePreviewDisplay))==null?"":__t)+"</i>\n          </div>\n        "}__p+="\n        ";if(typeof calloutUrl!=="undefined"){__p+='\n          <div class="activityCalloutActionLink">\n            <a href="'+((__t=M.html.htmlEscape(calloutUrl))==null?"":__t)+'">\n              '+((__t=M.html.htmlEscape(calloutLinkText))==null?"":__t)+"\n            </a>\n          </div>\n        "}__p+="\n      </div>\n    "}__p+="\n    ";if(hasThumbnail===true){__p+="\n      ";if(typeof activityLinkUrl==="undefined"){__p+='\n        <img class="activityThumbnail"\n          src="'+((__t=M.html.htmlAttributeEscape(activityThumbnailUrl))==null?"":__t)+'">\n      '}else{__p+='\n        <a href="'+((__t=M.html.htmlAttributeEscape(activityLinkUrl))==null?"":__t)+'">\n          <img class="activityThumbnail"\n            src="'+((__t=M.html.htmlAttributeEscape(activityThumbnailUrl))==null?"":__t)+'">\n        </a>\n      '}__p+="\n    "}__p+="\n  </div>\n</div>"}return __p});M.Template.Community.Util.DropdownButton=M.templateWrapper(function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";__p+='\n\n<div class="dropdownButtonContainer">\n  <div class="dropdownButtonTrigger">\n    ';if(isButton){__p+='\n      <button class="buttonFlat buttonSmall buttonGhost dropdownButtonButton">\n    '}else{__p+='\n      <div class="dropdownText">\n        <a>\n    '}__p+="\n        "+((__t=M.html.htmlAttributeEscape(buttonTextStr))==null?"":__t)+'\n        <img class="sprite arrowDownGreyIcon"\n          src="'+((__t=M.img_src("/static/images/sprite_placeholder.png"))==null?"":__t)+'"/>\n    ';if(isButton){__p+="\n      </button>\n    "}else{__p+="\n        </a>\n      </div>\n    "}__p+='\n  </div>\n  <div class="dropdownList">\n    <div class="dropdownListItemContainer">\n    </div>\n  </div>\n</div>\n\n'}return __p});M.Template.Community.Util.DropdownListItemLink=M.templateWrapper(function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";__p+='\n\n<div class="dropdownListItem">\n  <div class="dropdownListItemLinkWrapper">\n    <a href="'+((__t=M.html.htmlAttributeEscape(listItemLink))==null?"":__t)+'">\n      ';if(isButton){__p+="\n        <h6>\n      "}__p+="\n          "+((__t=M.html.htmlAttributeEscape(listItemLinkText))==null?"":__t)+"\n      ";if(isButton){__p+="\n        </h6>\n      "}__p+="\n    </a>\n  </div>\n</div>\n"}return __p});M.Template.Community.Util.DropdownListItemText=M.templateWrapper(function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";__p+='\n\n<div class="dropdownListItem">\n  <h6>'+((__t=M.html.htmlAttributeEscape(listItemText))==null?"":__t)+"</h6>\n</div>"}return __p});M.Template.Community.Util.EventTile=M.templateWrapper(function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";__p+='\n\n<div class="eventInfo">\n  <p class="eventTitle nameLabel">'+((__t=M.html.htmlAttributeEscape(title))==null?"":__t)+'</p>\n  <p class="eventDate">\n    <span class="startDate">'+((__t=M.html.htmlAttributeEscape(startDateStr))==null?"":__t)+"</span>\n    ";if(endDateStr!=""){__p+='\n      to\n      <br />\n      <span class="endDate">'+((__t=M.html.htmlAttributeEscape(endDateStr))==null?"":__t)+"</span>\n    "}__p+='\n  </p>\n</div>\n<a class="button buttonFlat buttonGhost buttonMedium"\n  href="'+((__t=M.html.htmlAttributeEscape(facebook_url))==null?"":__t)+'"\n  target="_blank">\n  view\n</a>\n'}return __p});M.Template.Community.Util.InPageNavigationBar=M.templateWrapper(function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";__p+='\n\n<ul class="inPageNavList">\n  ';for(var i in inPageSections){__p+="\n    ";if(tabSelectedIndex!=undefined&&tabSelectedIndex==i){__p+='\n      <li class="inPageNavItem active">\n    '}else{__p+='\n      <li class="inPageNavItem">\n    '}__p+='\n      <a class="inPageNavLink"\n        href="'+((__t=M.html.htmlAttributeEscape(inPageSections[i]["sectionId"]))==null?"":__t)+'"\n      >\n        '+((__t=M.html.htmlAttributeEscape(inPageSections[i]["sectionTitle"]))==null?"":__t)+"\n      </a>\n    </li>\n  "}__p+='\n  <li class="inPageNavItem moreButtonContainer floatR"></li>\n</ul>\n'}return __p});M.Template.Community.Util.ListPanel=M.templateWrapper(function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";__p+='\n\n<div class="listPanel">\n  <div class="panelHeader">\n    <h1 class="listTitle">'+((__t=M.html.htmlAttributeEscape(title))==null?"":__t)+"</h1>\n    ";if(buttonText!=""){__p+='\n    <div class="buttonContainer">\n      <a class="button buttonFlat buttonGhost buttonMedium">\n        <span class="buttonLabel">'+((__t=M.html.htmlAttributeEscape(buttonText))==null?"":__t)+"</span>\n      </a>\n    </div>\n    "}__p+="\n  </div>\n  ";if(list.length==0){__p+='\n    <div class="emptyStateText">\n      '+((__t=M.html.htmlAttributeEscape(emptyPanelText))==null?"":__t)+"\n    </div>\n  "}__p+="\n</div>\n"}return __p});M.Template.Community.Util.NavChallengeItem=M.templateWrapper(function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";__p+='\n\n<a class="navChallengeLinkContainer"\n    href="'+((__t=M.html.htmlAttributeEscape(model.challenge_url))==null?"":__t)+'">\n  <div class="navChallengeBlock">\n    <div class="navChallengeInfo">\n      <h2 class="navChallengeTitle"></h2>\n      <h6 class="navChallengeCategory">'+((__t=M.html.htmlAttributeEscape(model.category))==null?"":__t)+'</h6>\n      <button class="button buttonMedium buttonFlat buttonPrimary\n      navChallengeButton">'+((__t=M.html.htmlAttributeEscape(buttonText))==null?"":__t)+"</button>\n    </div>\n  </div>\n</a>\n"}return __p});M.Template.Community.Util.SecondaryNavOverlay=M.templateWrapper(function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";__p+='\n\n<div class="flyoutWrapper">\n  <div class="navOverlayContainer"></div>\n  <a class="navOverlayLink"\n    href="'+((__t=M.html.htmlAttributeEscape(model.get("redirectUrl")))==null?"":__t)+'">\n      <h6>see all</h6>\n  </a>\n</div>'}return __p});M.Template.Community.Util.ShowHide=M.templateWrapper(function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";__p+='\n\n<a class="toggleSwitch"></a>\n'}return __p});return{}});var module;UMD(module,{"minted:m":["M"],"minted:template":[],"minted:vendor/underscore-1.8.2.min":"_"})(this,function(m_module,m_template,_){var M=m_module.M;M.Template||(M.Template={});M.Template.DesignerStorefront||(M.Template.DesignerStorefront={});M.Template.DesignerStorefront.Fan=M.templateWrapper(function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";__p+='\n<div class="pill storefrontFan">\n  ';if(isFan){__p+='\n    <div class="pillLabel pillLabelRounded floatL inactive">\n      <h6>YOU\'RE A FAN</h6>\n      <img class="sprite fanIconActive"\n        src="'+((__t=M.img_src("/static/images/sprite_placeholder.png"))==null?"":__t)+'"/>\n    </div>\n  '}else{__p+='\n    <div class="pillLabel pillLabelRounded floatL">\n      <h6>BECOME A FAN</h6>\n      <img class="sprite fanIconInactive"\n        src="'+((__t=M.img_src("/static/images/sprite_placeholder.png"))==null?"":__t)+'"/>\n    </div>\n  '}__p+='\n  <div class="pillPointerWrap floatR">\n    <div class="pillPointerArrowLeft"></div>\n    <span class="pillPointer">'+((__t=M.html.htmlEscape(fanCount))==null?"":__t)+" FANS</span>\n  </div>\n</div>\n"}return __p});M.Template.DesignerStorefront.Popover=M.templateWrapper(function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";__p+='\n<iframe class="storefront-iframe" src="'+((__t=M.html.htmlEscape(src))==null?"":__t)+'"></iframe>\n<div class="loading"><div class="loading-message">loading...</div></div>\n'}return __p});M.Template.DesignerStorefront.PreviewBar=M.templateWrapper(function(obj){var __t,__p="",__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,"")};with(obj||{}){__p+="";__p+='\n<div id="statusContainer" class="floatL">\n  <span>\n    <img class="sprite checkmarkGreen16 '+((__t=M.html.htmlAttributeEscape(spriteClass))==null?"":__t)+'"\n    src="'+((__t=M.img_src("/static/images/sprite_placeholder.png"))==null?"":__t)+'"/>\n  </span>\n  <span class="previewMode upper '+((__t=M.html.htmlAttributeEscape(statusExtraClass))==null?"":__t)+'">\n    '+((__t=M.html.htmlAttributeEscape(statusText))==null?"":__t)+'\n  </span>\n</div>\n<div class="floatR buttonGroup">\n  <div id="secondaryButtonContainer" class="floatR buttonContainer"></div>\n  <div id="makeChangesButtonContainer" class="floatR buttonContainer"></div>\n</div>\n'}return __p});return{}});(function(){var e=this;var t=e._;var n=Array.prototype,i=Object.prototype,r=Function.prototype;var a=n.push,o=n.slice,s=i.toString,l=i.hasOwnProperty;var _=Array.isArray,c=Object.keys,u=r.bind,d=Object.create;var h=function(){};var f=function(e){if(e instanceof f)return e;if(!(this instanceof f))return new f(e);this._wrapped=e};if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=f}exports._=f}else{e._=f}f.VERSION="1.8.2";var p=function(e,t,n){if(t===void 0)return e;switch(n==null?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,a){return e.call(t,n,i,r,a)}}return function(){return e.apply(t,arguments)}};var E=function(e,t,n){if(e==null)return f.identity;if(f.isFunction(e))return p(e,t,n);if(f.isObject(e))return f.matcher(e);return f.property(e)};f.iteratee=function(e,t){return E(e,t,Infinity)};var g=function(e,t){return function(n){var i=arguments.length;if(i<2||n==null)return n;for(var r=1;r<i;r++){var a=arguments[r],o=e(a),s=o.length;for(var l=0;l<s;l++){var _=o[l];if(!t||n[_]===void 0)n[_]=a[_]}}return n}};var m=function(e){if(!f.isObject(e))return{};if(d)return d(e);h.prototype=e;var t=new h;h.prototype=null;return t};var A=Math.pow(2,53)-1;var T=function(e){var t=e&&e.length;return typeof t=="number"&&t>=0&&t<=A};f.each=f.forEach=function(e,t,n){t=p(t,n);var i,r;if(T(e)){for(i=0,r=e.length;i<r;i++){t(e[i],i,e)}}else{var a=f.keys(e);for(i=0,r=a.length;i<r;i++){t(e[a[i]],a[i],e)}}return e};f.map=f.collect=function(e,t,n){t=E(t,n);var i=!T(e)&&f.keys(e),r=(i||e).length,a=Array(r);for(var o=0;o<r;o++){var s=i?i[o]:o;a[o]=t(e[s],s,e)}return a};function v(e){function t(t,n,i,r,a,o){for(;a>=0&&a<o;a+=e){var s=r?r[a]:a;i=n(i,t[s],s,t)}return i}return function(n,i,r,a){i=p(i,a,4);var o=!T(n)&&f.keys(n),s=(o||n).length,l=e>0?0:s-1;if(arguments.length<3){r=n[o?o[l]:l];l+=e}return t(n,i,r,o,l,s)}}f.reduce=f.foldl=f.inject=v(1);f.reduceRight=f.foldr=v(-1);f.find=f.detect=function(e,t,n){var i;if(T(e)){i=f.findIndex(e,t,n)}else{i=f.findKey(e,t,n)}if(i!==void 0&&i!==-1)return e[i]};f.filter=f.select=function(e,t,n){var i=[];t=E(t,n);f.each(e,function(e,n,r){if(t(e,n,r))i.push(e)});return i};f.reject=function(e,t,n){return f.filter(e,f.negate(E(t)),n)};f.every=f.all=function(e,t,n){t=E(t,n);var i=!T(e)&&f.keys(e),r=(i||e).length;for(var a=0;a<r;a++){var o=i?i[a]:a;if(!t(e[o],o,e))return false}return true};f.some=f.any=function(e,t,n){t=E(t,n);var i=!T(e)&&f.keys(e),r=(i||e).length;for(var a=0;a<r;a++){var o=i?i[a]:a;if(t(e[o],o,e))return true}return false};f.contains=f.includes=f.include=function(e,t,n){if(!T(e))e=f.values(e);return f.indexOf(e,t,typeof n=="number"&&n)>=0};f.invoke=function(e,t){var n=o.call(arguments,2);var i=f.isFunction(t);return f.map(e,function(e){var r=i?t:e[t];return r==null?r:r.apply(e,n)})};f.pluck=function(e,t){return f.map(e,f.property(t))};f.where=function(e,t){return f.filter(e,f.matcher(t))};f.findWhere=function(e,t){return f.find(e,f.matcher(t))};f.max=function(e,t,n){var i=-Infinity,r=-Infinity,a,o;if(t==null&&e!=null){e=T(e)?e:f.values(e);for(var s=0,l=e.length;s<l;s++){a=e[s];if(a>i){i=a}}}else{t=E(t,n);f.each(e,function(e,n,a){o=t(e,n,a);if(o>r||o===-Infinity&&i===-Infinity){i=e;r=o}})}return i};f.min=function(e,t,n){var i=Infinity,r=Infinity,a,o;if(t==null&&e!=null){e=T(e)?e:f.values(e);for(var s=0,l=e.length;s<l;s++){a=e[s];if(a<i){i=a}}}else{t=E(t,n);f.each(e,function(e,n,a){o=t(e,n,a);if(o<r||o===Infinity&&i===Infinity){i=e;r=o}})}return i};f.shuffle=function(e){var t=T(e)?e:f.values(e);var n=t.length;var i=Array(n);for(var r=0,a;r<n;r++){a=f.random(0,r);if(a!==r)i[r]=i[a];i[a]=t[r]}return i};f.sample=function(e,t,n){if(t==null||n){if(!T(e))e=f.values(e);return e[f.random(e.length-1)]}return f.shuffle(e).slice(0,Math.max(0,t))};f.sortBy=function(e,t,n){t=E(t,n);return f.pluck(f.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria;var i=t.criteria;if(n!==i){if(n>i||n===void 0)return 1;if(n<i||i===void 0)return-1}return e.index-t.index}),"value")};var C=function(e){return function(t,n,i){var r={};n=E(n,i);f.each(t,function(i,a){var o=n(i,a,t);e(r,i,o)});return r}};f.groupBy=C(function(e,t,n){if(f.has(e,n))e[n].push(t);else e[n]=[t]});f.indexBy=C(function(e,t,n){e[n]=t});f.countBy=C(function(e,t,n){if(f.has(e,n))e[n]++;else e[n]=1});f.toArray=function(e){if(!e)return[];if(f.isArray(e))return o.call(e);if(T(e))return f.map(e,f.identity);return f.values(e)};f.size=function(e){if(e==null)return 0;return T(e)?e.length:f.keys(e).length};f.partition=function(e,t,n){t=E(t,n);var i=[],r=[];f.each(e,function(e,n,a){(t(e,n,a)?i:r).push(e)});return[i,r]};f.first=f.head=f.take=function(e,t,n){if(e==null)return void 0;if(t==null||n)return e[0];return f.initial(e,e.length-t)};f.initial=function(e,t,n){return o.call(e,0,Math.max(0,e.length-(t==null||n?1:t)))};f.last=function(e,t,n){if(e==null)return void 0;if(t==null||n)return e[e.length-1];return f.rest(e,Math.max(0,e.length-t))};f.rest=f.tail=f.drop=function(e,t,n){return o.call(e,t==null||n?1:t)};f.compact=function(e){return f.filter(e,f.identity)};var O=function(e,t,n,i){var r=[],a=0;for(var o=i||0,s=e&&e.length;o<s;o++){var l=e[o];if(T(l)&&(f.isArray(l)||f.isArguments(l))){if(!t)l=O(l,t,n);var _=0,c=l.length;r.length+=c;while(_<c){r[a++]=l[_++]}}else if(!n){r[a++]=l}}return r};f.flatten=function(e,t){return O(e,t,false)};f.without=function(e){return f.difference(e,o.call(arguments,1))};f.uniq=f.unique=function(e,t,n,i){if(e==null)return[];if(!f.isBoolean(t)){i=n;n=t;t=false}if(n!=null)n=E(n,i);var r=[];var a=[];for(var o=0,s=e.length;o<s;o++){var l=e[o],_=n?n(l,o,e):l;if(t){if(!o||a!==_)r.push(l);a=_}else if(n){if(!f.contains(a,_)){a.push(_);r.push(l)}}else if(!f.contains(r,l)){r.push(l)}}return r};f.union=function(){return f.uniq(O(arguments,true,true))};f.intersection=function(e){if(e==null)return[];var t=[];var n=arguments.length;for(var i=0,r=e.length;i<r;i++){var a=e[i];if(f.contains(t,a))continue;for(var o=1;o<n;o++){if(!f.contains(arguments[o],a))break}if(o===n)t.push(a)}return t};f.difference=function(e){var t=O(arguments,true,true,1);return f.filter(e,function(e){return!f.contains(t,e)})};f.zip=function(){return f.unzip(arguments)};f.unzip=function(e){var t=e&&f.max(e,"length").length||0;var n=Array(t);for(var i=0;i<t;i++){n[i]=f.pluck(e,i)}return n};f.object=function(e,t){var n={};for(var i=0,r=e&&e.length;i<r;i++){if(t){n[e[i]]=t[i]}else{n[e[i][0]]=e[i][1]}}return n};f.indexOf=function(e,t,n){var i=0,r=e&&e.length;if(typeof n=="number"){i=n<0?Math.max(0,r+n):n}else if(n&&r){i=f.sortedIndex(e,t);return e[i]===t?i:-1}if(t!==t){return f.findIndex(o.call(e,i),f.isNaN)}for(;i<r;i++)if(e[i]===t)return i;return-1};f.lastIndexOf=function(e,t,n){var i=e?e.length:0;if(typeof n=="number"){i=n<0?i+n+1:Math.min(i,n+1)}if(t!==t){return f.findLastIndex(o.call(e,0,i),f.isNaN)}while(--i>=0)if(e[i]===t)return i;return-1};function I(e){return function(t,n,i){n=E(n,i);var r=t!=null&&t.length;var a=e>0?0:r-1;for(;a>=0&&a<r;a+=e){if(n(t[a],a,t))return a}return-1}}f.findIndex=I(1);f.findLastIndex=I(-1);f.sortedIndex=function(e,t,n,i){n=E(n,i,1);var r=n(t);var a=0,o=e.length;while(a<o){var s=Math.floor((a+o)/2);if(n(e[s])<r)a=s+1;else o=s}return a};f.range=function(e,t,n){if(arguments.length<=1){t=e||0;e=0}n=n||1;var i=Math.max(Math.ceil((t-e)/n),0);var r=Array(i);for(var a=0;a<i;a++,e+=n){r[a]=e}return r};var S=function(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var a=m(e.prototype);var o=e.apply(a,r);if(f.isObject(o))return o;return a};f.bind=function(e,t){if(u&&e.bind===u)return u.apply(e,o.call(arguments,1));if(!f.isFunction(e))throw new TypeError("Bind must be called on a function");var n=o.call(arguments,2);var i=function(){return S(e,i,t,this,n.concat(o.call(arguments)))};return i};f.partial=function(e){var t=o.call(arguments,1);var n=function(){var i=0,r=t.length;var a=Array(r);for(var o=0;o<r;o++){a[o]=t[o]===f?arguments[i++]:t[o]}while(i<arguments.length)a.push(arguments[i++]);return S(e,n,this,this,a)};return n};f.bindAll=function(e){var t,n=arguments.length,i;if(n<=1)throw new Error("bindAll must be passed function names");for(t=1;t<n;t++){i=arguments[t];e[i]=f.bind(e[i],e)}return e};f.memoize=function(e,t){var n=function(i){var r=n.cache;var a=""+(t?t.apply(this,arguments):i);if(!f.has(r,a))r[a]=e.apply(this,arguments);return r[a]};n.cache={};return n};f.delay=function(e,t){var n=o.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)};f.defer=f.partial(f.delay,f,1);f.throttle=function(e,t,n){var i,r,a;var o=null;var s=0;if(!n)n={};var l=function(){s=n.leading===false?0:f.now();o=null;a=e.apply(i,r);if(!o)i=r=null};return function(){var _=f.now();if(!s&&n.leading===false)s=_;var c=t-(_-s);i=this;r=arguments;if(c<=0||c>t){if(o){clearTimeout(o);o=null}s=_;a=e.apply(i,r);if(!o)i=r=null}else if(!o&&n.trailing!==false){o=setTimeout(l,c)}return a}};f.debounce=function(e,t,n){var i,r,a,o,s;var l=function(){var _=f.now()-o;if(_<t&&_>=0){i=setTimeout(l,t-_)}else{i=null;if(!n){s=e.apply(a,r);if(!i)a=r=null}}};return function(){a=this;r=arguments;o=f.now();var _=n&&!i;if(!i)i=setTimeout(l,t);if(_){s=e.apply(a,r);a=r=null}return s}};f.wrap=function(e,t){return f.partial(t,e)};f.negate=function(e){return function(){return!e.apply(this,arguments)}};f.compose=function(){var e=arguments;var t=e.length-1;return function(){var n=t;var i=e[t].apply(this,arguments);while(n--)i=e[n].call(this,i);return i}};f.after=function(e,t){return function(){if(--e<1){return t.apply(this,arguments)}}};f.before=function(e,t){var n;return function(){if(--e>0){n=t.apply(this,arguments)}if(e<=1)t=null;return n}};f.once=f.partial(f.before,2);var R=!{toString:null}.propertyIsEnumerable("toString");var D=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function N(e,t){var n=D.length;var r=e.constructor;var a=f.isFunction(r)&&r.prototype||i;var o="constructor";if(f.has(e,o)&&!f.contains(t,o))t.push(o);while(n--){o=D[n];if(o in e&&e[o]!==a[o]&&!f.contains(t,o)){t.push(o)}}}f.keys=function(e){if(!f.isObject(e))return[];if(c)return c(e);var t=[];for(var n in e)if(f.has(e,n))t.push(n);if(R)N(e,t);return t};f.allKeys=function(e){if(!f.isObject(e))return[];var t=[];for(var n in e)t.push(n);if(R)N(e,t);return t};f.values=function(e){var t=f.keys(e);var n=t.length;var i=Array(n);for(var r=0;r<n;r++){i[r]=e[t[r]]}return i};f.mapObject=function(e,t,n){t=E(t,n);var i=f.keys(e),r=i.length,a={},o;for(var s=0;s<r;s++){o=i[s];a[o]=t(e[o],o,e)}return a};f.pairs=function(e){var t=f.keys(e);var n=t.length;var i=Array(n);for(var r=0;r<n;r++){i[r]=[t[r],e[t[r]]]}return i};f.invert=function(e){var t={};var n=f.keys(e);for(var i=0,r=n.length;i<r;i++){t[e[n[i]]]=n[i]}return t};f.functions=f.methods=function(e){var t=[];for(var n in e){if(f.isFunction(e[n]))t.push(n)}return t.sort()};f.extend=g(f.allKeys);f.extendOwn=f.assign=g(f.keys);f.findKey=function(e,t,n){t=E(t,n);var i=f.keys(e),r;for(var a=0,o=i.length;a<o;a++){r=i[a];if(t(e[r],r,e))return r}};f.pick=function(e,t,n){var i={},r=e,a,o;if(r==null)return i;if(f.isFunction(t)){o=f.allKeys(r);a=p(t,n)}else{o=O(arguments,false,false,1);a=function(e,t,n){return t in n};r=Object(r)}for(var s=0,l=o.length;s<l;s++){var _=o[s];var c=r[_];if(a(c,_,r))i[_]=c}return i};f.omit=function(e,t,n){if(f.isFunction(t)){t=f.negate(t)}else{var i=f.map(O(arguments,false,false,1),String);t=function(e,t){return!f.contains(i,t)}}return f.pick(e,t,n)};f.defaults=g(f.allKeys,true);f.clone=function(e){if(!f.isObject(e))return e;return f.isArray(e)?e.slice():f.extend({},e)};f.tap=function(e,t){t(e);return e};f.isMatch=function(e,t){var n=f.keys(t),i=n.length;if(e==null)return!i;var r=Object(e);for(var a=0;a<i;a++){var o=n[a];if(t[o]!==r[o]||!(o in r))return false}return true};var y=function(e,t,n,i){if(e===t)return e!==0||1/e===1/t;if(e==null||t==null)return e===t;if(e instanceof f)e=e._wrapped;if(t instanceof f)t=t._wrapped;var r=s.call(e);if(r!==s.call(t))return false;switch(r){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":if(+e!==+e)return+t!==+t;return+e===0?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t}var a=r==="[object Array]";if(!a){if(typeof e!="object"||typeof t!="object")return false;var o=e.constructor,l=t.constructor;if(o!==l&&!(f.isFunction(o)&&o instanceof o&&f.isFunction(l)&&l instanceof l)&&("constructor"in e&&"constructor"in t)){return false}}n=n||[];i=i||[];var _=n.length;while(_--){if(n[_]===e)return i[_]===t}n.push(e);i.push(t);if(a){_=e.length;if(_!==t.length)return false;while(_--){if(!y(e[_],t[_],n,i))return false}}else{var c=f.keys(e),u;_=c.length;if(f.keys(t).length!==_)return false;while(_--){u=c[_];if(!(f.has(t,u)&&y(e[u],t[u],n,i)))return false}}n.pop();i.pop();return true};f.isEqual=function(e,t){return y(e,t)};f.isEmpty=function(e){if(e==null)return true;if(T(e)&&(f.isArray(e)||f.isString(e)||f.isArguments(e)))return e.length===0;return f.keys(e).length===0};f.isElement=function(e){return!!(e&&e.nodeType===1)};f.isArray=_||function(e){return s.call(e)==="[object Array]"};f.isObject=function(e){var t=typeof e;return t==="function"||t==="object"&&!!e};f.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){f["is"+e]=function(t){return s.call(t)==="[object "+e+"]"}});if(!f.isArguments(arguments)){f.isArguments=function(e){return f.has(e,"callee")}}if(typeof/./!="function"&&typeof Int8Array!="object"){f.isFunction=function(e){return typeof e=="function"||false}}f.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))};f.isNaN=function(e){return f.isNumber(e)&&e!==+e};f.isBoolean=function(e){return e===true||e===false||s.call(e)==="[object Boolean]"};f.isNull=function(e){return e===null};f.isUndefined=function(e){return e===void 0};f.has=function(e,t){return e!=null&&l.call(e,t)};f.noConflict=function(){e._=t;return this};f.identity=function(e){return e};f.constant=function(e){return function(){return e}};f.noop=function(){};f.property=function(e){return function(t){return t==null?void 0:t[e]}};f.propertyOf=function(e){return e==null?function(){}:function(t){return e[t]}};f.matcher=f.matches=function(e){e=f.extendOwn({},e);return function(t){return f.isMatch(t,e)}};f.times=function(e,t,n){var i=Array(Math.max(0,e));t=p(t,n,1);for(var r=0;r<e;r++)i[r]=t(r);return i};f.random=function(e,t){if(t==null){t=e;e=0}return e+Math.floor(Math.random()*(t-e+1))};f.now=Date.now||function(){return(new Date).getTime()};var P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var M=f.invert(P);var L=function(e){var t=function(t){return e[t]};var n="(?:"+f.keys(e).join("|")+")";var i=RegExp(n);var r=RegExp(n,"g");return function(e){e=e==null?"":""+e;return i.test(e)?e.replace(r,t):e}};f.escape=L(P);f.unescape=L(M);f.result=function(e,t,n){var i=e==null?void 0:e[t];if(i===void 0){i=n}return f.isFunction(i)?i.call(e):i};var b=0;f.uniqueId=function(e){var t=++b+"";return e?e+t:t};f.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var w=/(.)^/;var U={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"};var k=/\\|'|\r|\n|\u2028|\u2029/g;var x=function(e){return"\\"+U[e]};f.template=function(e,t,n){if(!t&&n)t=n;t=f.defaults({},t,f.templateSettings);var i=RegExp([(t.escape||w).source,(t.interpolate||w).source,(t.evaluate||w).source].join("|")+"|$","g");var r=0;var a="__p+='";

e.replace(i,function(t,n,i,o,s){a+=e.slice(r,s).replace(k,x);r=s+t.length;if(n){a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"}else if(i){a+="'+\n((__t=("+i+"))==null?'':__t)+\n'"}else if(o){a+="';\n"+o+"\n__p+='"}return t});a+="';\n";if(!t.variable)a="with(obj||{}){\n"+a+"}\n";a="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var o=new Function(t.variable||"obj","_",a)}catch(s){s.source=a;throw s}var l=function(e){return o.call(this,e,f)};var _=t.variable||"obj";l.source="function("+_+"){\n"+a+"}";return l};f.chain=function(e){var t=f(e);t._chain=true;return t};var B=function(e,t){return e._chain?f(t).chain():t};f.mixin=function(e){f.each(f.functions(e),function(t){var n=f[t]=e[t];f.prototype[t]=function(){var e=[this._wrapped];a.apply(e,arguments);return B(this,n.apply(f,e))}})};f.mixin(f);f.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];f.prototype[e]=function(){var n=this._wrapped;t.apply(n,arguments);if((e==="shift"||e==="splice")&&n.length===0)delete n[0];return B(this,n)}});f.each(["concat","join","slice"],function(e){var t=n[e];f.prototype[e]=function(){return B(this,t.apply(this._wrapped,arguments))}});f.prototype.value=function(){return this._wrapped};f.prototype.valueOf=f.prototype.toJSON=f.prototype.value;f.prototype.toString=function(){return""+this._wrapped};if(typeof define==="function"&&define.amd){define("underscore",[],function(){return f})}}).call(this);(function(){var e=this;var t=e.Backbone;var n=[];var i=n.push;var r=n.slice;var a=n.splice;var o;if(typeof exports!=="undefined"){o=exports}else{o=e.Backbone={}}o.VERSION="1.0.0";var s=e._;if(!s&&typeof require!=="undefined")s=require("underscore");o.$=e.jQuery||e.Zepto||e.ender||e.$;o.noConflict=function(){e.Backbone=t;return this};o.emulateHTTP=false;o.emulateJSON=false;var l=o.Events={on:function(e,t,n){if(!c(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);i.push({callback:t,context:n,ctx:n||this});return this},once:function(e,t,n){if(!c(this,"once",e,[t,n])||!t)return this;var i=this;var r=s.once(function(){i.off(e,r);t.apply(this,arguments)});r._callback=t;return this.on(e,r,n)},off:function(e,t,n){var i,r,a,o,l,_,u,d;if(!this._events||!c(this,"off",e,[t,n]))return this;if(!e&&!t&&!n){this._events={};return this}o=e?[e]:s.keys(this._events);for(l=0,_=o.length;l<_;l++){e=o[l];if(a=this._events[e]){this._events[e]=i=[];if(t||n){for(u=0,d=a.length;u<d;u++){r=a[u];if(t&&t!==r.callback&&t!==r.callback._callback||n&&n!==r.context){i.push(r)}}}if(!i.length)delete this._events[e]}}return this},trigger:function(e){if(!this._events)return this;var t=r.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e];var i=this._events.all;if(n)u(n,t);if(i)u(i,arguments);return this},stopListening:function(e,t,n){var i=this._listeners;if(!i)return this;var r=!t&&!n;if(typeof t==="object")n=this;if(e)(i={})[e._listenerId]=e;for(var a in i){i[a].off(t,n,this);if(r)delete this._listeners[a]}return this}};var _=/\s+/;var c=function(e,t,n,i){if(!n)return true;if(typeof n==="object"){for(var r in n){e[t].apply(e,[r,n[r]].concat(i))}return false}if(_.test(n)){var a=n.split(_);for(var o=0,s=a.length;o<s;o++){e[t].apply(e,[a[o]].concat(i))}return false}return true};var u=function(e,t){var n,i=-1,r=e.length,a=t[0],o=t[1],s=t[2];switch(t.length){case 0:while(++i<r)(n=e[i]).callback.call(n.ctx);return;case 1:while(++i<r)(n=e[i]).callback.call(n.ctx,a);return;case 2:while(++i<r)(n=e[i]).callback.call(n.ctx,a,o);return;case 3:while(++i<r)(n=e[i]).callback.call(n.ctx,a,o,s);return;default:while(++i<r)(n=e[i]).callback.apply(n.ctx,t)}};var d={listenTo:"on",listenToOnce:"once"};s.each(d,function(e,t){l[t]=function(t,n,i){var r=this._listeners||(this._listeners={});var a=t._listenerId||(t._listenerId=s.uniqueId("l"));r[a]=t;if(typeof n==="object")i=this;t[e](n,i,this);return this}});l.bind=l.on;l.unbind=l.off;s.extend(o,l);var h=o.Model=function(e,t){var n;var i=e||{};t||(t={});this.cid=s.uniqueId("c");this.attributes={};s.extend(this,s.pick(t,f));if(t.parse)i=this.parse(i,t)||{};if(n=s.result(this,"defaults")){i=s.defaults({},i,n)}this.set(i,t);this.changed={};this.initialize.apply(this,arguments)};var f=["url","urlRoot","collection"];s.extend(h.prototype,l,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return s.clone(this.attributes)},sync:function(){return o.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return s.escape(this.get(e))},has:function(e){return this.get(e)!=null},set:function(e,t,n){var i,r,a,o,l,_,c,u;if(e==null)return this;if(typeof e==="object"){r=e;n=t}else{(r={})[e]=t}n||(n={});if(!this._validate(r,n))return false;a=n.unset;l=n.silent;o=[];_=this._changing;this._changing=true;if(!_){this._previousAttributes=s.clone(this.attributes);this.changed={}}u=this.attributes,c=this._previousAttributes;if(this.idAttribute in r)this.id=r[this.idAttribute];for(i in r){t=r[i];if(!s.isEqual(u[i],t))o.push(i);if(!s.isEqual(c[i],t)){this.changed[i]=t}else{delete this.changed[i]}a?delete u[i]:u[i]=t}if(!l){if(o.length)this._pending=true;for(var d=0,h=o.length;d<h;d++){this.trigger("change:"+o[d],this,u[o[d]],n)}}if(_)return this;if(!l){while(this._pending){this._pending=false;this.trigger("change",this,n)}}this._pending=false;this._changing=false;return this},unset:function(e,t){return this.set(e,void 0,s.extend({},t,{unset:true}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,s.extend({},e,{unset:true}))},hasChanged:function(e){if(e==null)return!s.isEmpty(this.changed);return s.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?s.clone(this.changed):false;var t,n=false;var i=this._changing?this._previousAttributes:this.attributes;for(var r in e){if(s.isEqual(i[r],t=e[r]))continue;(n||(n={}))[r]=t}return n},previous:function(e){if(e==null||!this._previousAttributes)return null;return this._previousAttributes[e]},previousAttributes:function(){return s.clone(this._previousAttributes)},fetch:function(e){e=e?s.clone(e):{};if(e.parse===void 0)e.parse=true;var t=this;var n=e.success;e.success=function(i){if(!t.set(t.parse(i,e),e))return false;if(n)n(t,i,e);t.trigger("sync",t,i,e)};x(this,e);return this.sync("read",this,e)},save:function(e,t,n){var i,r,a,o=this.attributes;if(e==null||typeof e==="object"){i=e;n=t}else{(i={})[e]=t}if(i&&(!n||!n.wait)&&!this.set(i,n))return false;n=s.extend({validate:true},n);if(!this._validate(i,n))return false;if(i&&n.wait){this.attributes=s.extend({},o,i)}if(n.parse===void 0)n.parse=true;var l=this;var _=n.success;n.success=function(e){l.attributes=o;var t=l.parse(e,n);if(n.wait)t=s.extend(i||{},t);if(s.isObject(t)&&!l.set(t,n)){return false}if(_)_(l,e,n);l.trigger("sync",l,e,n)};x(this,n);r=this.isNew()?"create":n.patch?"patch":"update";if(r==="patch")n.attrs=i;a=this.sync(r,this,n);if(i&&n.wait)this.attributes=o;return a},destroy:function(e){e=e?s.clone(e):{};var t=this;var n=e.success;var i=function(){t.trigger("destroy",t,t.collection,e)};e.success=function(r){if(e.wait||t.isNew())i();if(n)n(t,r,e);if(!t.isNew())t.trigger("sync",t,r,e)};if(this.isNew()){e.success();return false}x(this,e);var r=this.sync("delete",this,e);if(!e.wait)i();return r},url:function(){var e=s.result(this,"urlRoot")||s.result(this.collection,"url")||k();if(this.isNew())return e;return e+(e.charAt(e.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(e){return this._validate({},s.extend(e||{},{validate:true}))},_validate:function(e,t){if(!t.validate||!this.validate)return true;e=s.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;if(!n)return true;this.trigger("invalid",this,n,s.extend(t||{},{validationError:n}));return false}});var p=["keys","values","pairs","invert","pick","omit"];s.each(p,function(e){h.prototype[e]=function(){var t=r.call(arguments);t.unshift(this.attributes);return s[e].apply(s,t)}});var E=o.Collection=function(e,t){t||(t={});if(t.url)this.url=t.url;if(t.model)this.model=t.model;if(t.comparator!==void 0)this.comparator=t.comparator;this._reset();this.initialize.apply(this,arguments);if(e)this.reset(e,s.extend({silent:true},t))};var g={add:true,remove:true,merge:true};var m={add:true,merge:false,remove:false};s.extend(E.prototype,l,{model:h,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return o.sync.apply(this,arguments)},add:function(e,t){return this.set(e,s.defaults(t||{},m))},remove:function(e,t){e=s.isArray(e)?e.slice():[e];t||(t={});var n,i,r,a;for(n=0,i=e.length;n<i;n++){a=this.get(e[n]);if(!a)continue;delete this._byId[a.id];delete this._byId[a.cid];r=this.indexOf(a);this.models.splice(r,1);this.length--;if(!t.silent){t.index=r;a.trigger("remove",a,this,t)}this._removeReference(a)}return this},set:function(e,t){t=s.defaults(t||{},g);if(t.parse)e=this.parse(e,t);if(!s.isArray(e))e=e?[e]:[];var n,r,o,l,_,c;var u=t.at;var d=this.comparator&&u==null&&t.sort!==false;var h=s.isString(this.comparator)?this.comparator:null;var f=[],p=[],E={};for(n=0,r=e.length;n<r;n++){if(!(o=this._prepareModel(e[n],t)))continue;if(_=this.get(o)){if(t.remove)E[_.cid]=true;if(t.merge){_.set(o.attributes,t);if(d&&!c&&_.hasChanged(h))c=true}}else if(t.add){f.push(o);o.on("all",this._onModelEvent,this);this._byId[o.cid]=o;if(o.id!=null)this._byId[o.id]=o}}if(t.remove){for(n=0,r=this.length;n<r;++n){if(!E[(o=this.models[n]).cid])p.push(o)}if(p.length)this.remove(p,t)}if(f.length){if(d)c=true;this.length+=f.length;if(u!=null){a.apply(this.models,[u,0].concat(f))}else{i.apply(this.models,f)}}if(c)this.sort({silent:true});if(t.silent)return this;for(n=0,r=f.length;n<r;n++){(o=f[n]).trigger("add",o,this,t)}if(c)this.trigger("sort",this,t);return this},reset:function(e,t){t||(t={});for(var n=0,i=this.models.length;n<i;n++){this._removeReference(this.models[n])}t.previousModels=this.models;this._reset();this.add(e,s.extend({silent:true},t));if(!t.silent)this.trigger("reset",this,t);return this},push:function(e,t){e=this._prepareModel(e,t);this.add(e,s.extend({at:this.length},t));return e},pop:function(e){var t=this.at(this.length-1);this.remove(t,e);return t},unshift:function(e,t){e=this._prepareModel(e,t);this.add(e,s.extend({at:0},t));return e},shift:function(e){var t=this.at(0);this.remove(t,e);return t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){if(e==null)return void 0;return this._byId[e.id!=null?e.id:e.cid||e]},at:function(e){return this.models[e]},where:function(e,t){if(s.isEmpty(e))return t?void 0:[];return this[t?"find":"filter"](function(t){for(var n in e){if(e[n]!==t.get(n))return false}return true})},findWhere:function(e){return this.where(e,true)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");e||(e={});if(s.isString(this.comparator)||this.comparator.length===1){this.models=this.sortBy(this.comparator,this)}else{this.models.sort(s.bind(this.comparator,this))}if(!e.silent)this.trigger("sort",this,e);return this},sortedIndex:function(e,t,n){t||(t=this.comparator);var i=s.isFunction(t)?t:function(e){return e.get(t)};return s.sortedIndex(this.models,e,i,n)},pluck:function(e){return s.invoke(this.models,"get",e)},fetch:function(e){e=e?s.clone(e):{};if(e.parse===void 0)e.parse=true;var t=e.success;var n=this;e.success=function(i){var r=e.reset?"reset":"set";n[r](i,e);if(t)t(n,i,e);n.trigger("sync",n,i,e)};x(this,e);return this.sync("read",this,e)},create:function(e,t){t=t?s.clone(t):{};if(!(e=this._prepareModel(e,t)))return false;if(!t.wait)this.add(e,t);var n=this;var i=t.success;t.success=function(r){if(t.wait)n.add(e,t);if(i)i(e,r,t)};e.save(null,t);return e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(e,t){if(e instanceof h){if(!e.collection)e.collection=this;return e}t||(t={});t.collection=this;var n=new this.model(e,t);if(!n._validate(e,t)){this.trigger("invalid",this,e,t);return false}return n},_removeReference:function(e){if(this===e.collection)delete e.collection;e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){if((e==="add"||e==="remove")&&n!==this)return;if(e==="destroy")this.remove(t,i);if(t&&e==="change:"+t.idAttribute){delete this._byId[t.previous(t.idAttribute)];if(t.id!=null)this._byId[t.id]=t}this.trigger.apply(this,arguments)}});var A=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];s.each(A,function(e){E.prototype[e]=function(){var t=r.call(arguments);t.unshift(this.models);return s[e].apply(s,t)}});var T=["groupBy","countBy","sortBy"];s.each(T,function(e){E.prototype[e]=function(t,n){var i=s.isFunction(t)?t:function(e){return e.get(t)};return s[e](this.models,i,n)}});var v=o.View=function(e){this.cid=s.uniqueId("view");this._configure(e||{});this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var C=/^(\S+)\s*(.*)$/;var O=["model","collection","el","id","attributes","className","tagName","events"];s.extend(v.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(e,t){if(this.$el)this.undelegateEvents();this.$el=e instanceof o.$?e:o.$(e);this.el=this.$el[0];if(t!==false)this.delegateEvents();return this},delegateEvents:function(e){if(!(e||(e=s.result(this,"events"))))return this;this.undelegateEvents();for(var t in e){var n=e[t];if(!s.isFunction(n))n=this[e[t]];if(!n)continue;var i=t.match(C);var r=i[1],a=i[2];n=s.bind(n,this);r+=".delegateEvents"+this.cid;if(a===""){this.$el.on(r,n)}else{this.$el.on(r,a,n)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_configure:function(e){if(this.options)e=s.extend({},s.result(this,"options"),e);s.extend(this,s.pick(e,O));this.options=e},_ensureElement:function(){if(!this.el){var e=s.extend({},s.result(this,"attributes"));if(this.id)e.id=s.result(this,"id");if(this.className)e["class"]=s.result(this,"className");var t=o.$("<"+s.result(this,"tagName")+">").attr(e);this.setElement(t,false)}else{this.setElement(s.result(this,"el"),false)}}});o.sync=function(e,t,n){var i=I[e];s.defaults(n||(n={}),{emulateHTTP:o.emulateHTTP,emulateJSON:o.emulateJSON});var r={type:i,dataType:"json"};if(!n.url){r.url=s.result(t,"url")||k()}if(n.data==null&&t&&(e==="create"||e==="update"||e==="patch")){r.contentType="application/json";r.data=JSON.stringify(n.attrs||t.toJSON(n))}if(n.emulateJSON){r.contentType="application/x-www-form-urlencoded";r.data=r.data?{model:r.data}:{}}if(n.emulateHTTP&&(i==="PUT"||i==="DELETE"||i==="PATCH")){r.type="POST";if(n.emulateJSON)r.data._method=i;var a=n.beforeSend;n.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",i);if(a)return a.apply(this,arguments)}}if(r.type!=="GET"&&!n.emulateJSON){r.processData=false}if(r.type==="PATCH"&&window.ActiveXObject&&!(window.external&&window.external.msActiveXFilteringEnabled)){r.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}var l=n.xhr=o.ajax(s.extend(r,n));t.trigger("request",t,l,n);return l};var I={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};o.ajax=function(){return o.$.ajax.apply(o.$,arguments)};var S=o.Router=function(e){e||(e={});if(e.routes)this.routes=e.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var R=/\((.*?)\)/g;var D=/(\(\?)?:\w+/g;var N=/\*\w+/g;var y=/[\-{}\[\]+?.,\\\^$|#\s]/g;s.extend(S.prototype,l,{initialize:function(){},route:function(e,t,n){if(!s.isRegExp(e))e=this._routeToRegExp(e);if(s.isFunction(t)){n=t;t=""}if(!n)n=this[t];var i=this;o.history.route(e,function(r){var a=i._extractParameters(e,r);n&&n.apply(i,a);i.trigger.apply(i,["route:"+t].concat(a));i.trigger("route",t,a);o.history.trigger("route",i,t,a)});return this},navigate:function(e,t){o.history.navigate(e,t);return this},_bindRoutes:function(){if(!this.routes)return;this.routes=s.result(this,"routes");var e,t=s.keys(this.routes);while((e=t.pop())!=null){this.route(e,this.routes[e])}},_routeToRegExp:function(e){e=e.replace(y,"\\$&").replace(R,"(?:$1)?").replace(D,function(e,t){return t?e:"([^/]+)"}).replace(N,"(.*?)");return new RegExp("^"+e+"$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return s.map(n,function(e){return e?decodeURIComponent(e):null})}});var P=o.History=function(){this.handlers=[];s.bindAll(this,"checkUrl");if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var M=/^[#\/]|\s+$/g;var L=/^\/+|\/+$/g;var b=/msie [\w.]+/;var w=/\/$/;P.started=false;s.extend(P.prototype,l,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(e==null){if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(w,"");if(!e.indexOf(n))e=e.substr(n.length)}else{e=this.getHash()}}return e.replace(M,"")},start:function(e){if(P.started)throw new Error("Backbone.history has already been started");P.started=true;this.options=s.extend({},{root:"/"},this.options,e);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var t=this.getFragment();var n=document.documentMode;var i=b.exec(navigator.userAgent.toLowerCase())&&(!n||n<=7);this.root=("/"+this.root+"/").replace(L,"/");if(i&&this._wantsHashChange){this.iframe=o.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow;this.navigate(t)}if(this._hasPushState){o.$(window).on("popstate",this.checkUrl)}else if(this._wantsHashChange&&"onhashchange"in window&&!i){o.$(window).on("hashchange",this.checkUrl)}else if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}this.fragment=t;var r=this.location;var a=r.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!a){this.fragment=this.getFragment(null,true);this.location.replace(this.root+this.location.search+"#"+this.fragment);return true}else if(this._wantsPushState&&this._hasPushState&&a&&r.hash){this.fragment=this.getHash().replace(M,"");this.history.replaceState({},document.title,this.root+this.fragment+r.search)}if(!this.options.silent)return this.loadUrl()},stop:function(){o.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);clearInterval(this._checkUrlInterval);P.started=false},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe){t=this.getFragment(this.getHash(this.iframe))}if(t===this.fragment)return false;if(this.iframe)this.navigate(t);this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(e){var t=this.fragment=this.getFragment(e);var n=s.any(this.handlers,function(e){if(e.route.test(t)){e.callback(t);return true}});return n},navigate:function(e,t){if(!P.started)return false;if(!t||t===true)t={trigger:t};e=this.getFragment(e||"");if(this.fragment===e)return;this.fragment=e;var n=this.root+e;if(this._hasPushState){this.history[t.replace?"replaceState":"pushState"]({},document.title,n)}else if(this._wantsHashChange){this._updateHash(this.location,e,t.replace);if(this.iframe&&e!==this.getFragment(this.getHash(this.iframe))){if(!t.replace)this.iframe.document.open().close();this._updateHash(this.iframe.location,e,t.replace)}}else{return this.location.assign(n)}if(t.trigger)this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else{e.hash="#"+t}}});o.history=new P;var U=function(e,t){var n=this;var i;if(e&&s.has(e,"constructor")){i=e.constructor}else{i=function(){return n.apply(this,arguments)}}s.extend(i,n,t);var r=function(){this.constructor=i};r.prototype=n.prototype;i.prototype=new r;if(e)s.extend(i.prototype,e);i.__super__=n.prototype;return i};h.extend=E.extend=S.extend=v.extend=P.extend=U;var k=function(){throw new Error('A "url" property or function must be specified')};var x=function(e,t){var n=t.error;t.error=function(i){if(n)n(e,i,t);e.trigger("error",e,i,t)}}}).call(this);Backbone.ChildViewContainer=function(e,t){var n=function(e){this._views={};this._indexByModel={};this._indexByCustom={};this._updateLength();t.each(e,this.add,this)};t.extend(n.prototype,{add:function(e,t){var n=e.cid;this._views[n]=e;if(e.model){this._indexByModel[e.model.cid]=n}if(t){this._indexByCustom[t]=n}this._updateLength()},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var n=e.cid;if(e.model){delete this._indexByModel[e.model.cid]}t.any(this._indexByCustom,function(e,t){if(e===n){delete this._indexByCustom[t];return true}},this);delete this._views[n];this._updateLength()},call:function(e){this.apply(e,t.tail(arguments))},apply:function(e,n){t.each(this._views,function(i){if(t.isFunction(i[e])){i[e].apply(i,n||[])}})},_updateLength:function(){this.length=t.size(this._views)}});var i=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];t.each(i,function(e){n.prototype[e]=function(){var n=t.values(this._views);var i=[n].concat(t.toArray(arguments));return t[e].apply(t,i)}});return n}(Backbone,_);Backbone.Wreqr=function(e,t,n){"use strict";var i={};i.Handlers=function(e,t){"use strict";var n=function(e){this.options=e;this._wreqrHandlers={};if(t.isFunction(this.initialize)){this.initialize(e)}};n.extend=e.Model.extend;t.extend(n.prototype,e.Events,{setHandlers:function(e){t.each(e,function(e,n){var i=null;if(t.isObject(e)&&!t.isFunction(e)){i=e.context;e=e.callback}this.setHandler(n,e,i)},this)},setHandler:function(e,t,n){var i={callback:t,context:n};this._wreqrHandlers[e]=i;this.trigger("handler:add",e,t,n)},hasHandler:function(e){return!!this._wreqrHandlers[e]},getHandler:function(e){var t=this._wreqrHandlers[e];if(!t){throw new Error("Handler not found for '"+e+"'")}return function(){var e=Array.prototype.slice.apply(arguments);return t.callback.apply(t.context,e)}},removeHandler:function(e){delete this._wreqrHandlers[e]},removeAllHandlers:function(){this._wreqrHandlers={}}});return n}(e,n);i.CommandStorage=function(){"use strict";var t=function(e){this.options=e;this._commands={};if(n.isFunction(this.initialize)){this.initialize(e)}};n.extend(t.prototype,e.Events,{getCommands:function(e){var t=this._commands[e];if(!t){t={command:e,instances:[]};this._commands[e]=t}return t},addCommand:function(e,t){var n=this.getCommands(e);n.instances.push(t)},clearCommands:function(e){var t=this.getCommands(e);t.instances=[]}});return t}();i.Commands=function(e){"use strict";return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(t){this.options=t||{};this._initializeStorage(this.options);this.on("handler:add",this._executeCommands,this);var n=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,n)},execute:function(e,t){e=arguments[0];t=Array.prototype.slice.call(arguments,1);if(this.hasHandler(e)){this.getHandler(e).apply(this,t)}else{this.storage.addCommand(e,t)}},_executeCommands:function(e,t,i){var r=this.storage.getCommands(e);n.each(r.instances,function(e){t.apply(i,e)});this.storage.clearCommands(e)},_initializeStorage:function(e){var t;var i=e.storageType||this.storageType;if(n.isFunction(i)){t=new i}else{t=i}this.storage=t}})}(i);i.RequestResponse=function(e){"use strict";return e.Handlers.extend({request:function(){var e=arguments[0];var t=Array.prototype.slice.call(arguments,1);return this.getHandler(e).apply(this,t)}})}(i);i.EventAggregator=function(e,t){"use strict";var n=function(){};n.extend=e.Model.extend;t.extend(n.prototype,e.Events);return n}(e,n);return i}(Backbone,Backbone.Marionette,_);var Marionette=function(e,t,n){"use strict";var i={};t.Marionette=i;i.$=t.$;var r=Array.prototype.slice;function a(e){return r.call(e)}function o(e,t){var n=new Error(e);n.name=t||"Error";throw n}i.extend=t.Model.extend;i.getOption=function(e,t){if(!e||!t){return}var n;if(e.options&&t in e.options&&e.options[t]!==undefined){n=e.options[t]}else{n=e[t]}return n};i.triggerMethod=function(){var e=/(^|:)(\w)/gi;function t(e,t,n){return n.toUpperCase()}var i=function(i){var r="on"+i.replace(e,t);var a=this[r];if(n.isFunction(this.trigger)){this.trigger.apply(this,arguments)}if(n.isFunction(a)){return a.apply(this,n.tail(arguments))}};return i}();i.MonitorDOMRefresh=function(){function e(e){e._isShown=true;i(e)}function t(e){e._isRendered=true;i(e)}function i(e){if(e._isShown&&e._isRendered){if(n.isFunction(e.triggerMethod)){e.triggerMethod("dom:refresh")}}}return function(n){n.listenTo(n,"show",function(){e(n)});n.listenTo(n,"render",function(){t(n)})}}();(function(e){"use strict";function t(e,t,i,r){var a=r.split(/\s+/);n.each(a,function(n){var r=e[n];if(!r){o("Method '"+n+"' was configured as an event handler, but does not exist.")}e.listenTo(t,i,r,e)})}function i(e,t,n,i){e.listenTo(t,n,i,e)}function r(e,t,i,r){var a=r.split(/\s+/);n.each(a,function(n){var r=e[n];e.stopListening(t,i,r,e)})}function a(e,t,n,i){e.stopListening(t,n,i,e)}function s(e,t,i,r,a){if(!t||!i){return}if(n.isFunction(i)){i=i.call(e)}n.each(i,function(i,o){if(n.isFunction(i)){r(e,t,o,i)}else{a(e,t,o,i)}})}e.bindEntityEvents=function(e,n,r){s(e,n,r,i,t)};e.unbindEntityEvents=function(e,t,n){s(e,t,n,a,r)}})(i);i.Callbacks=function(){this._deferred=i.$.Deferred();this._callbacks=[]};n.extend(i.Callbacks.prototype,{add:function(e,t){this._callbacks.push({cb:e,ctx:t});this._deferred.done(function(n,i){if(t){n=t}e.call(n,i)})},run:function(e,t){this._deferred.resolve(t,e)},reset:function(){var e=this._callbacks;this._deferred=i.$.Deferred();this._callbacks=[];n.each(e,function(e){this.add(e.cb,e.ctx)},this)}});i.Controller=function(e){this.triggerMethod=i.triggerMethod;this.options=e||{};if(n.isFunction(this.initialize)){this.initialize(this.options)}};i.Controller.extend=i.extend;n.extend(i.Controller.prototype,t.Events,{close:function(){this.stopListening();this.triggerMethod("close");this.unbind()}});i.Region=function(e){this.options=e||{};this.el=i.getOption(this,"el");if(!this.el){var t=new Error("An 'el' must be specified for a region.");t.name="NoElError";throw t}if(this.initialize){var n=Array.prototype.slice.apply(arguments);this.initialize.apply(this,n)}};n.extend(i.Region,{buildRegion:function(e,t){var i=typeof e==="string";var r=typeof e.selector==="string";var a=typeof e.regionType==="undefined";var o=typeof e==="function";if(!o&&!i&&!r){throw new Error("Region must be specified as a Region type, a selector string or an object with selector property")}var s,l;if(i){s=e}if(e.selector){s=e.selector}if(o){l=e}if(!o&&a){l=t}if(e.regionType){l=e.regionType}var _=new l({el:s});if(e.parentEl){_.getEl=function(t){var i=e.parentEl;if(n.isFunction(i)){i=i()}return i.find(t)}}return _}});n.extend(i.Region.prototype,t.Events,{show:function(e){this.ensureEl();var t=e.isClosed||n.isUndefined(e.$el);var r=e!==this.currentView;if(r){this.close()}e.render();if(r||t){this.open(e)}this.currentView=e;i.triggerMethod.call(this,"show",e);i.triggerMethod.call(e,"show")},ensureEl:function(){if(!this.$el||this.$el.length===0){this.$el=this.getEl(this.el)}},getEl:function(e){return i.$(e)},open:function(e){this.$el.empty().append(e.el)},close:function(){var e=this.currentView;if(!e||e.isClosed){return}if(e.close){e.close()}else if(e.remove){e.remove()}i.triggerMethod.call(this,"close");delete this.currentView},attachView:function(e){this.currentView=e},reset:function(){this.close();delete this.$el}});i.Region.extend=i.extend;i.RegionManager=function(e){var t=e.Controller.extend({constructor:function(t){this._regions={};e.Controller.prototype.constructor.call(this,t)},addRegions:function(e,t){var i={};n.each(e,function(e,r){if(typeof e==="string"){e={selector:e}}if(e.selector){e=n.defaults({},e,t)}var a=this.addRegion(r,e);i[r]=a},this);return i},addRegion:function(t,i){var r;var a=n.isObject(i);var o=n.isString(i);var s=!!i.selector;if(o||a&&s){r=e.Region.buildRegion(i,e.Region)}else if(n.isFunction(i)){r=e.Region.buildRegion(i,e.Region)}else{r=i}this._store(t,r);this.triggerMethod("region:add",t,r);return r},get:function(e){return this._regions[e]},removeRegion:function(e){var t=this._regions[e];this._remove(e,t)},removeRegions:function(){n.each(this._regions,function(e,t){this._remove(t,e)},this)},closeRegions:function(){n.each(this._regions,function(e,t){e.close()},this)},close:function(){this.removeRegions();var t=Array.prototype.slice.call(arguments);e.Controller.prototype.close.apply(this,t)},_store:function(e,t){this._regions[e]=t;this._setLength()},_remove:function(e,t){t.close();delete this._regions[e];this._setLength();this.triggerMethod("region:remove",e,t)},_setLength:function(){this.length=n.size(this._regions)}});var i=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];n.each(i,function(e){t.prototype[e]=function(){var t=n.values(this._regions);var i=[t].concat(n.toArray(arguments));return n[e].apply(n,i)}});return t}(i);i.TemplateCache=function(e){this.templateId=e};n.extend(i.TemplateCache,{templateCaches:{},get:function(e){var t=this.templateCaches[e];if(!t){t=new i.TemplateCache(e);this.templateCaches[e]=t}return t.load()},clear:function(){var e;var t=a(arguments);var n=t.length;if(n>0){for(e=0;e<n;e++){delete this.templateCaches[t[e]]}}else{this.templateCaches={}}}});n.extend(i.TemplateCache.prototype,{load:function(){if(this.compiledTemplate){return this.compiledTemplate}var e=this.loadTemplate(this.templateId);this.compiledTemplate=this.compileTemplate(e);return this.compiledTemplate},loadTemplate:function(e){var t=i.$(e).html();if(!t||t.length===0){o("Could not find template: '"+e+"'","NoTemplateError")}return t},compileTemplate:function(e){return n.template(e)}});i.Renderer={render:function(e,t){if(!e){var n=new Error("Cannot render the template since it's false, null or undefined.");n.name="TemplateNotFoundError";throw n}var r;if(typeof e==="function"){r=e}else{r=i.TemplateCache.get(e)}return r(t)}};i.View=t.View.extend({constructor:function(){n.bindAll(this,"render");var e=Array.prototype.slice.apply(arguments);t.View.prototype.constructor.apply(this,e);i.MonitorDOMRefresh(this);this.listenTo(this,"show",this.onShowCalled,this)},triggerMethod:i.triggerMethod,getTemplate:function(){return i.getOption(this,"template")},mixinTemplateHelpers:function(e){e=e||{};var t=i.getOption(this,"templateHelpers");if(n.isFunction(t)){t=t.call(this)}return n.extend(e,t)},configureTriggers:function(){if(!this.triggers){return}var e={};var t=n.result(this,"triggers");n.each(t,function(t,n){e[n]=function(e){if(e&&e.preventDefault){e.preventDefault()}if(e&&e.stopPropagation){e.stopPropagation()}var n={
view:this,model:this.model,collection:this.collection};this.triggerMethod(t,n)}},this);return e},delegateEvents:function(e){this._delegateDOMEvents(e);i.bindEntityEvents(this,this.model,i.getOption(this,"modelEvents"));i.bindEntityEvents(this,this.collection,i.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(e){e=e||this.events;if(n.isFunction(e)){e=e.call(this)}var i={};var r=this.configureTriggers();n.extend(i,e,r);t.View.prototype.delegateEvents.call(this,i)},undelegateEvents:function(){var e=Array.prototype.slice.call(arguments);t.View.prototype.undelegateEvents.apply(this,e);i.unbindEntityEvents(this,this.model,i.getOption(this,"modelEvents"));i.unbindEntityEvents(this,this.collection,i.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){if(this.isClosed){return}var e=this.triggerMethod("before:close");if(e===false){return}this.isClosed=true;this.triggerMethod("close");this.unbindUIElements();this.remove()},bindUIElements:function(){if(!this.ui){return}if(!this._uiBindings){this._uiBindings=this.ui}var e=n.result(this,"_uiBindings");this.ui={};n.each(n.keys(e),function(t){var n=e[t];this.ui[t]=this.$(n)},this)},unbindUIElements:function(){if(!this.ui||!this._uiBindings){return}n.each(this.ui,function(e,t){delete this.ui[t]},this);this.ui=this._uiBindings;delete this._uiBindings}});i.ItemView=i.View.extend({constructor:function(){i.View.prototype.constructor.apply(this,a(arguments))},serializeData:function(){var e={};if(this.model){e=this.model.toJSON()}else if(this.collection){e={items:this.collection.toJSON()}}return e},render:function(){this.isClosed=false;this.triggerMethod("before:render",this);this.triggerMethod("item:before:render",this);var e=this.serializeData();e=this.mixinTemplateHelpers(e);var t=this.getTemplate();var n=i.Renderer.render(t,e);this.$el.html(n);this.bindUIElements();this.triggerMethod("render",this);this.triggerMethod("item:rendered",this);return this},close:function(){if(this.isClosed){return}this.triggerMethod("item:before:close");i.View.prototype.close.apply(this,a(arguments));this.triggerMethod("item:closed")}});i.CollectionView=i.View.extend({itemViewEventPrefix:"itemview",constructor:function(e){this._initChildViewStorage();i.View.prototype.constructor.apply(this,a(arguments));this._initialEvents()},_initialEvents:function(){if(this.collection){this.listenTo(this.collection,"add",this.addChildView,this);this.listenTo(this.collection,"remove",this.removeItemView,this);this.listenTo(this.collection,"reset",this.render,this)}},addChildView:function(e,t,n){this.closeEmptyView();var i=this.getItemView(e);var r=this.collection.indexOf(e);this.addItemView(e,i,r)},onShowCalled:function(){this.children.each(function(e){i.triggerMethod.call(e,"show")})},triggerBeforeRender:function(){this.triggerMethod("before:render",this);this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this);this.triggerMethod("collection:rendered",this)},render:function(){this.isClosed=false;this.triggerBeforeRender();this._renderChildren();this.triggerRendered();return this},_renderChildren:function(){this.closeEmptyView();this.closeChildren();if(this.collection&&this.collection.length>0){this.showCollection()}else{this.showEmptyView()}},showCollection:function(){var e;this.collection.each(function(t,n){e=this.getItemView(t);this.addItemView(t,e,n)},this)},showEmptyView:function(){var e=i.getOption(this,"emptyView");if(e&&!this._showingEmptyView){this._showingEmptyView=true;var n=new t.Model;this.addItemView(n,e,0)}},closeEmptyView:function(){if(this._showingEmptyView){this.closeChildren();delete this._showingEmptyView}},getItemView:function(e){var t=i.getOption(this,"itemView");if(!t){o("An `itemView` must be specified","NoItemViewError")}return t},addItemView:function(e,t,r){var a=i.getOption(this,"itemViewOptions");if(n.isFunction(a)){a=a.call(this,e,r)}var o=this.buildItemView(e,t,a);this.addChildViewEventForwarding(o);this.triggerMethod("before:item:added",o);this.children.add(o);this.renderItemView(o,r);if(this._isShown){i.triggerMethod.call(o,"show")}this.triggerMethod("after:item:added",o)},addChildViewEventForwarding:function(e){var t=i.getOption(this,"itemViewEventPrefix");this.listenTo(e,"all",function(){var n=a(arguments);n[0]=t+":"+n[0];n.splice(1,0,e);i.triggerMethod.apply(this,n)},this)},renderItemView:function(e,t){e.render();this.appendHtml(this,e,t)},buildItemView:function(e,t,i){var r=n.extend({model:e},i);return new t(r)},removeItemView:function(e){var t=this.children.findByModel(e);this.removeChildView(t);this.checkEmpty()},removeChildView:function(e){if(e){this.stopListening(e);if(e.close){e.close()}else if(e.remove){e.remove()}this.children.remove(e)}this.triggerMethod("item:removed",e)},checkEmpty:function(){if(!this.collection||this.collection.length===0){this.showEmptyView()}},appendHtml:function(e,t,n){e.$el.append(t.el)},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},close:function(){if(this.isClosed){return}this.triggerMethod("collection:before:close");this.closeChildren();this.triggerMethod("collection:closed");i.View.prototype.close.apply(this,a(arguments))},closeChildren:function(){this.children.each(function(e){this.removeChildView(e)},this);this.checkEmpty()}});i.CompositeView=i.CollectionView.extend({constructor:function(){i.CollectionView.prototype.constructor.apply(this,a(arguments))},_initialEvents:function(){if(this.collection){this.listenTo(this.collection,"add",this.addChildView,this);this.listenTo(this.collection,"remove",this.removeItemView,this);this.listenTo(this.collection,"reset",this._renderChildren,this)}},getItemView:function(e){var t=i.getOption(this,"itemView")||this.constructor;if(!t){o("An `itemView` must be specified","NoItemViewError")}return t},serializeData:function(){var e={};if(this.model){e=this.model.toJSON()}return e},render:function(){this.isRendered=true;this.isClosed=false;this.resetItemViewContainer();this.triggerBeforeRender();var e=this.renderModel();this.$el.html(e);this.bindUIElements();this.triggerMethod("composite:model:rendered");this._renderChildren();this.triggerMethod("composite:rendered");this.triggerRendered();return this},_renderChildren:function(){if(this.isRendered){i.CollectionView.prototype._renderChildren.call(this);this.triggerMethod("composite:collection:rendered")}},renderModel:function(){var e={};e=this.serializeData();e=this.mixinTemplateHelpers(e);var t=this.getTemplate();return i.Renderer.render(t,e)},appendHtml:function(e,t,n){var i=this.getItemViewContainer(e);i.append(t.el)},getItemViewContainer:function(e){if("$itemViewContainer"in e){return e.$itemViewContainer}var t;var r=i.getOption(e,"itemViewContainer");if(r){var a=n.isFunction(r)?r():r;t=e.$(a);if(t.length<=0){o("The specified `itemViewContainer` was not found: "+e.itemViewContainer,"ItemViewContainerMissingError")}}else{t=e.$el}e.$itemViewContainer=t;return t},resetItemViewContainer:function(){if(this.$itemViewContainer){delete this.$itemViewContainer}}});i.Layout=i.ItemView.extend({regionType:i.Region,constructor:function(e){e=e||{};this._firstRender=true;this._initializeRegions(e);i.ItemView.prototype.constructor.call(this,e)},render:function(){if(this.isClosed){this._initializeRegions()}if(this._firstRender){this._firstRender=false}else if(!this.isClosed){this._reInitializeRegions()}var e=Array.prototype.slice.apply(arguments);var t=i.ItemView.prototype.render.apply(this,e);return t},close:function(){if(this.isClosed){return}this.regionManager.close();var e=Array.prototype.slice.apply(arguments);i.ItemView.prototype.close.apply(this,e)},addRegion:function(e,t){var n={};n[e]=t;return this._buildRegions(n)[e]},addRegions:function(e){this.regions=n.extend({},this.regions,e);return this._buildRegions(e)},removeRegion:function(e){delete this.regions[e];return this.regionManager.removeRegion(e)},_buildRegions:function(e){var t=this;var n={regionType:i.getOption(this,"regionType"),parentEl:function(){return t.$el}};return this.regionManager.addRegions(e,n)},_initializeRegions:function(e){var t;this._initRegionManager();if(n.isFunction(this.regions)){t=this.regions(e)}else{t=this.regions||{}}this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.closeRegions();this.regionManager.each(function(e){e.reset()})},_initRegionManager:function(){this.regionManager=new i.RegionManager;this.listenTo(this.regionManager,"region:add",function(e,t){this[e]=t;this.trigger("region:add",e,t)});this.listenTo(this.regionManager,"region:remove",function(e,t){delete this[e];this.trigger("region:remove",e,t)})}});i.AppRouter=t.Router.extend({constructor:function(e){t.Router.prototype.constructor.apply(this,a(arguments));this.options=e||{};var n=i.getOption(this,"appRoutes");var r=this._getController();this.processAppRoutes(r,n)},appRoute:function(e,t){var n=this._getController();this._addAppRoute(n,e,t)},processAppRoutes:function(e,t){if(!t){return}var i=n.keys(t).reverse();n.each(i,function(n){this._addAppRoute(e,n,t[n])},this)},_getController:function(){return i.getOption(this,"controller")},_addAppRoute:function(e,t,i){var r=e[i];if(!r){throw new Error("Method '"+i+"' was not found on the controller")}this.route(t,i,n.bind(r,e))}});i.Application=function(e){this._initRegionManager();this._initCallbacks=new i.Callbacks;this.vent=new t.Wreqr.EventAggregator;this.commands=new t.Wreqr.Commands;this.reqres=new t.Wreqr.RequestResponse;this.submodules={};n.extend(this,e);this.triggerMethod=i.triggerMethod};n.extend(i.Application.prototype,t.Events,{execute:function(){var e=Array.prototype.slice.apply(arguments);this.commands.execute.apply(this.commands,e)},request:function(){var e=Array.prototype.slice.apply(arguments);return this.reqres.request.apply(this.reqres,e)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("initialize:before",e);this._initCallbacks.run(e,this);this.triggerMethod("initialize:after",e);this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},closeRegions:function(){this._regionManager.closeRegions()},removeRegion:function(e){this._regionManager.removeRegion(e)},getRegion:function(e){return this._regionManager.get(e)},module:function(e,t){var n=a(arguments);n.unshift(this);return i.Module.create.apply(i.Module,n)},_initRegionManager:function(){this._regionManager=new i.RegionManager;this.listenTo(this._regionManager,"region:add",function(e,t){this[e]=t});this.listenTo(this._regionManager,"region:remove",function(e,t){delete this[e]})}});i.Application.extend=i.extend;i.Module=function(e,t){this.moduleName=e;this.submodules={};this._setupInitializersAndFinalizers();this.app=t;this.startWithParent=true;this.triggerMethod=i.triggerMethod};n.extend(i.Module.prototype,t.Events,{addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){if(this._isInitialized){return}n.each(this.submodules,function(t){if(t.startWithParent){t.start(e)}});this.triggerMethod("before:start",e);this._initializerCallbacks.run(e,this);this._isInitialized=true;this.triggerMethod("start",e)},stop:function(){if(!this._isInitialized){return}this._isInitialized=false;i.triggerMethod.call(this,"before:stop");n.each(this.submodules,function(e){e.stop()});this._finalizerCallbacks.run(undefined,this);this._initializerCallbacks.reset();this._finalizerCallbacks.reset();i.triggerMethod.call(this,"stop")},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(e,r){if(!e){return}var a=n.flatten([this,this.app,t,i,i.$,n,r]);e.apply(this,a)},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new i.Callbacks;this._finalizerCallbacks=new i.Callbacks}});n.extend(i.Module,{create:function(e,t,i){var r=e;var o=a(arguments);o.splice(0,3);t=t.split(".");var s=t.length;var l=[];l[s-1]=i;n.each(t,function(t,n){var i=r;r=this._getModule(i,t,e);this._addModuleDefinition(i,r,l[n],o)},this);return r},_getModule:function(e,t,n,r,a){var o=e[t];if(!o){o=new i.Module(t,n);e[t]=o;e.submodules[t]=o}return o},_addModuleDefinition:function(e,t,i,r){var a;var o;if(n.isFunction(i)){a=i;o=true}else if(n.isObject(i)){a=i.define;o=i.startWithParent}else{o=true}if(a){t.addDefinition(a,r)}t.startWithParent=t.startWithParent&&o;if(t.startWithParent&&!t.startWithParentIsConfigured){t.startWithParentIsConfigured=true;e.addInitializer(function(e){if(t.startWithParent){t.start(e)}})}}});return i}(this,Backbone,_);if(!this.JSON){this.JSON={}}(function(){function f(e){return e<10?"0"+e:e}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(e){escapable.lastIndex=0;return escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t==="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,i,r,a,o=gap,s,l=t[e];if(l&&typeof l==="object"&&typeof l.toJSON==="function"){l=l.toJSON(e)}if(typeof rep==="function"){l=rep.call(t,e,l)}switch(typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l){return"null"}gap+=indent;s=[];if(Object.prototype.toString.apply(l)==="[object Array]"){a=l.length;for(n=0;n<a;n+=1){s[n]=str(n,l)||"null"}r=s.length===0?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+o+"]":"["+s.join(",")+"]";gap=o;return r}if(rep&&typeof rep==="object"){a=rep.length;for(n=0;n<a;n+=1){i=rep[n];if(typeof i==="string"){r=str(i,l);if(r){s.push(quote(i)+(gap?": ":":")+r)}}}}else{for(i in l){if(Object.hasOwnProperty.call(l,i)){r=str(i,l);if(r){s.push(quote(i)+(gap?": ":":")+r)}}}}r=s.length===0?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+o+"}":"{"+s.join(",")+"}";gap=o;return r}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(e,t,n){var i;gap="";indent="";if(typeof n==="number"){for(i=0;i<n;i+=1){indent+=" "}}else if(typeof n==="string"){indent=n}rep=t;if(t&&typeof t!=="function"&&(typeof t!=="object"||typeof t.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":e})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(e,t){var n,i,r=e[t];if(r&&typeof r==="object"){for(n in r){if(Object.hasOwnProperty.call(r,n)){i=walk(r,n);if(i!==undefined){r[n]=i}else{delete r[n]}}}}return reviver.call(e,t,r)}cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}})();var Webtoolkit=Webtoolkit||{};Webtoolkit.Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e,t){var n="";var i,r,a,o,s,l,_;var c=0;if(!t){e=Webtoolkit.Base64._utf8_encode(e)}while(c<e.length){i=e.charCodeAt(c++);r=e.charCodeAt(c++);a=e.charCodeAt(c++);o=i>>2;s=(i&3)<<4|r>>4;l=(r&15)<<2|a>>6;_=a&63;if(isNaN(r)){l=_=64}else if(isNaN(a)){_=64}n=n+this._keyStr.charAt(o)+this._keyStr.charAt(s)+this._keyStr.charAt(l)+this._keyStr.charAt(_)}return n},decode:function(e,t){var n="";var i,r,a;var o,s,l,_;var c=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(c<e.length){o=this._keyStr.indexOf(e.charAt(c++));s=this._keyStr.indexOf(e.charAt(c++));l=this._keyStr.indexOf(e.charAt(c++));_=this._keyStr.indexOf(e.charAt(c++));i=o<<2|s>>4;r=(s&15)<<4|l>>2;a=(l&3)<<6|_;n=n+String.fromCharCode(i);if(l!=64){n=n+String.fromCharCode(r)}if(_!=64){n=n+String.fromCharCode(a)}}if(!t){n=Webtoolkit.Base64._utf8_decode(n)}return n},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");var t="";for(var n=0;n<e.length;n++){var i=e.charCodeAt(n);if(i<128){t+=String.fromCharCode(i)}else if(i>127&&i<2048){t+=String.fromCharCode(i>>6|192);t+=String.fromCharCode(i&63|128)}else{t+=String.fromCharCode(i>>12|224);t+=String.fromCharCode(i>>6&63|128);t+=String.fromCharCode(i&63|128)}}return t},_utf8_decode:function(e){var t="";var n=0;var i=c1=c2=0;while(n<e.length){i=e.charCodeAt(n);if(i<128){t+=String.fromCharCode(i);n++}else if(i>191&&i<224){c2=e.charCodeAt(n+1);t+=String.fromCharCode((i&31)<<6|c2&63);n+=2}else{c2=e.charCodeAt(n+1);c3=e.charCodeAt(n+2);t+=String.fromCharCode((i&15)<<12|(c2&63)<<6|c3&63);n+=3}}return t}};(function(e){e.fn.hoverIntent=function(t,n){var i={sensitivity:7,interval:100,timeout:0};i=e.extend(i,n?{over:t,out:n}:t);var r,a,o,s;var l=function(e){r=e.pageX;a=e.pageY};var _=function(t,n){n.hoverIntent_t=clearTimeout(n.hoverIntent_t);if(Math.abs(o-r)+Math.abs(s-a)<i.sensitivity){e(n).unbind("mousemove",l);n.hoverIntent_s=1;return i.over.apply(n,[t])}else{o=r;s=a;n.hoverIntent_t=setTimeout(function(){_(t,n)},i.interval)}};var c=function(e,t){t.hoverIntent_t=clearTimeout(t.hoverIntent_t);t.hoverIntent_s=0;return i.out.apply(t,[e])};var u=function(t){var n=jQuery.extend({},t);var r=this;if(r.hoverIntent_t){r.hoverIntent_t=clearTimeout(r.hoverIntent_t)}if(t.type=="mouseenter"){o=n.pageX;s=n.pageY;e(r).bind("mousemove",l);if(r.hoverIntent_s!=1){r.hoverIntent_t=setTimeout(function(){_(n,r)},i.interval)}}else{e(r).unbind("mousemove",l);if(r.hoverIntent_s==1){r.hoverIntent_t=setTimeout(function(){c(n,r)},i.timeout)}}};return this.bind("mouseenter",u).bind("mouseleave",u)}})(jQuery);var module;UMD(module,{"minted:vendor/jquery-1.9.1.min":"$"})(this,function(e){var t=e({});e.ajaxQueue=function(n){var i,r=e.Deferred(),a=r.promise();function o(t){i=e.ajax(n);i.done(r.resolve).fail(r.reject).then(t,t)}t.queue(o);a.abort=function(s){if(i){return i.abort(s)}var l=t.queue(),_=e.inArray(o,l);if(_>-1){l.splice(_,1)}r.rejectWith(n.context||n,[a,s,""]);return a};return a};return{}});var module;UMD(module,{"minted:m":["M"]})(this,function(e){"use strict";var t=e.M;t.GA=t.GA||{};t.DIECUT=t.DIECUT||{};t.COOKIE=t.COOKIE||{};t.EXTENSION=t.EXTENSION||{};t.CHECKOUT=t.CHECKOUT||{};t.SHIPPING=t.SHIPPING||{};t.DESIGNER_SIGNATURE=t.DESIGNER_SIGNATURE||{};t.GA.EVENT_TRACKING_REDIRECT_DELAY=200;t.Scene7=t.Scene7||{};t.Scene7.RENDER_TYPE={LOAD:"scene7_load",TEXT:"scene7_text",IMAGE:"scene7_image",PHOTO:"scene7_photo",UNKNOWN:"scene7_unknown"};var n="http://api-s7.mintedcdn.net";var i=n+"/is/agm/Minted/";var r=n+"/is/image/Minted/";var a=7;t.GA.SHARE_CAMPAIGN={DEFAULT_CAMPAIGN:"shared_link",ART_LANDING:"art_landing",BOARDS:"boards",CATEGORY:"category",DESIGNS:"designs",PDP:"product_details_share",STOREFRONT:"storefront",PHOTOGRAPHER:"photographer"};t.GA.SHARE_MEDIUM={DEFAULT_MEDIUM:"default",ADDED_TO_BOARD_MY_BOARDS:"addedToBoard_myBoards",ADDED_TO_BOARD_BOARD_DETAIL:"addedToBoard_boardDetail",ADDED_TO_BOARD_VOTE:"addedToBoard_vote",ADDED_TO_BOARD_PREVIEW:"addedToBoard_preview",ADDED_TO_BOARD_DESIGN_RATING:"addedToBoard_designRating",BOARD_WIDGET:"board_widget",DESIGNER_CATEGORY:"designer_category",DESIGN_VOTE:"design_vote",DROPDOWN_ALL_BOARDS:"dropdown_allBoards",DROPDOWN_MY_BOARDS:"dropdown_myBoards",DROPDOWN_BOARD_DETAIL:"dropdown_boardDetail",DROPDOWN_BOARD_DETAIL_QUICKLOOK:"dropdown_quicklook",DROPDOWN_VOTE:"dropdown_vote",DROPDOWN_PREVIEW:"dropdown_preview",DROPDOWN_DESIGN_RATING:"dropdown_designRating",PDP_SHARE_THIS_DESIGN:"pdp_shareThisDesign",PDP_SOCIAL_ICONS:"social",PHOTOGRAPHER_PROMOTE:"photographer_promote",STOREFRONT_HOME:"storefront_home"};t.GA.SHARE_SOURCE={FACEBOOK:"facebook",PINTEREST:"pinterest",GOOGLE_PLUS:"google_plus",TWITTER:"twitter"};t.GA.TRACK_SOCIAL_NETWORK_PREFIX={ART:"art_",BOARDS:"boards_",CATEGORY:"category_",CHALLENGE:"challenge_",DESIGN_VOTE:"design_vote_",PDP:"PDP_",PHOTOGRAPHER:"photographer_"};t.GA.TRACK_SOCIAL_PAGE_TYPE={BOARD_DETAIL:1,BOARD_EXPLORE:2,BOARD_QUICK_LOOK:3,BOARD_MYBOARDS:4,DESIGN_VOTE:5,DESIGN_RATING:6,DESIGN_CHALLENGE:7,STOREFRONT:8,PRODUCT_DETAILS:9,BOARD_ADDED_TO_BOARD:10,DESIGNER_CATEGORY:11,PHOTOGRAPHER:12,BOARD_WIDGET:13,ART_WALL:14,CATEGORY_PAGE:15};t.GA.TRACK_SOCIAL_ACTION_TYPE={PINTEREST:1,FACEBOOK:2,GOOGLE_PLUS:3,EMBED:4,TWITTER:5};t.GA.TRACK_EVENT_CATEGORY={ADD_TO_CART_DIALOG:"add_to_cart_dialog",ADDRESSING:"Addressing",ADDRESSING_SHOWN:"addressing_shown",ACCOUNT:"Account",BOARDS:"Pinboards",BNPL:"buy_now_personalize_later",BROWSE:"Browse",CART:"cart",CHANGE_ATTRIBUTES:"change_attributes_dialog",CHECKOUT:"checkout",COMMUNITY:"community",COMMUNITY_ARTIST_DASHBOARD:"community_artist_dashboard",COMMUNITY_CHALLENGE_SUBMIT:"community_challenge_submit",COMMUNITY_CONTEST:"community_contest",COMMUNITY_CONTEST_SUMMARY:"community_contest_summary",COMMUNITY_DESIGNER:"community_designer",COMMUNITY_DESIGN_RATING:"community_design_rating",COMMUNITY_DESIGN_VOTE:"community_design_vote",COMMUNITY_PARTICIPATE_OVERVIEW:"community_participate_overview",COMMUNITY_FACEBOOK_CONNECT:"community_facebook_connect",COMMUNITY_WINNERS:"community_winners",COMMUNITY_VOTING_GALLERY:"community_voting_gallery",CU3:"CU3",CURATOR_STORE:"curator_store",EMAIL_LIGHTBOX:"email_lightbox",FIF:"find_it_fast",FACETED_PRODUCT_SEARCH:"Faceted Product Search",HOME:"homepage",HELP:"helppage",FORGOT:"forgot",KEEPSAKE:"keepsake",LEADERBOARD:"leaderboard",LOGIN:"login",MISSING_CONTENT:"cu3_missing_content",NOTIFICATION:"notification",ORDERS:"orders",ORDER_CONFIRM:"order_confirm",ORDERS_SHOWN:"orders_shown",ORDER_DETAIL:"order_detail",ORDER_DETAIL_SHOWN:"order_detail_shown",PAP:"PAP",PDP:"PDP",PDP_ART:"PDP_ART",POST_ORDER_CU3:"post_order_cu3",PHOTO_TRAY:"photo_tray",REGISTER:"register",MY_PROJECTS:"my_projects",REVIEW_ORDER:"review_order",SAMPLE_MODAL:"sample_modal",SCENE7:"scene7",STORES_CONSUMER_UI:"stores_consumer_ui",STORES_MERCH_TOOLS:"stores_merch_tools",WEBFORM:"webform",WEBFORM_CLICK:"web_form_click"};t.GA.TRACK_EVENT_ACTION={ABOUT_ARTIST_ARTIST_CLICK:"about_artist_artist_click",ABOUT_BINDINGS_CLICK:"about_bindings_click",ABOUT_FABRICS_CLICK:"about_fabrics_click",ABOUT_FORMATS_CLICK:"about_formats_click",ABOUT_PAPERS_CLICK:"about_papers_click",ABOUT_THE_ARTIST_CLICK:"about_the_artist_click",ACTIVATE:"activate",ADD_DESIGNER_TO_FAVORITES:"add_designer_to_favorites",ADD_RCP_CLICK:"add_rcp_click",ADD_BACKER_CLICK:"add_backer_click",ADD_TO_BOARD_CLICK:"add_to_board_click",ADD_TO_BOARD_ICON_CLICK:"add_to_board_icon_click",ADD_TO_ORDER_CLICK:"add_to_order_click",ADDON_CHANGE_CLICK:"addon_change_click",ADDON_CHANGE_SHOWN:"addon_change_shown",ADDRESSING_ADD:"Add addresses",ADDRESSING_UPLOAD:"Upload Addresses",ADDRESSING_RAP_OPTION_CLICK:"addressing_rap_option_click",ADDRESSING_RCP_OPTION_CLICK:"addressing_rcp_option_click",ART_PAPER_CLICK:"art_paper_click",ART_SIGNATURE_CHECKED:"art_signature_checked",ART_SIGNATURE_UNCHECKED:"art_signature_unchecked",ART_SHOW_FRAMED_CLICK:"art_show_framed_click",ARTIST_NAME_CLICK:"artist_name_click",ARTIST_PAGE_VISIT:"artist_page_visit",ARTICLE_CLICK:"featured_articles_click",AUTHENTICATION_MORE_LINK_CLICK:"authentication_more_link_click",AUTO_DETECT:"auto_detect",AVAILABLE_IN_OTHER_DESIGNS_CLICK:"available_in_other_designs_click",SEARCH_BOX:"search_box",BACK_TO_ORDERS_CLICK:"back_to_orders_click",BACK_TO_TOP_CLICK:"back_to_top_click",BADGE_CLICK:"badge_click",BANNER_CLICK:"banner_click",BACKER_LOGO_OPT_IN:"backer-logo-opt-in",BACKER_LOGO_VIEW_DIALOG:"backer-logo-view-dialog",BOARD_TYPE_SELECTED:"board_type_selected",BODY_ACTIVATE:"body_activate",BOTTOM_MODULE_MORE_BY_ARTIST_SKU_CLICK:"bottom_module_more_by_artist_sku_click",BOTTOM_MODULE_SHOP_MORE_BY_ARTIST:"bottom_module_shop_more_by_artist",BOTTOM_MODULE_SWITCH_TAB:"bottom_module_switch_tab",BREADCRUMB_1_CLICK:"breadcrumb_1_click",BREADCRUMB_2_CLICK:"breadcrumb_2_click",BROWSE_CAT_PAGE:"nav.browse category",BNPL_FINISH_LINK_CLICK:"bnpl_finish_link_click",BNPL_PRE_ORDER_ACTIONS:"buy_now_personalize_later_pre_order_actions",CANCEL:"cancel",CANCEL_CHANGES:"cancel_changes",CANCEL_CLICK:"cancel_click",CANCEL_DIALOG:"cancel_dialog",CANCEL_ITEM_CLICK:"cancel_item_click",CANCEL_ITEM_SHOWN:"cancel_item_shown",CANCEL_ITEM_DIALOG:"cancel_item_dialog",CANCEL_ORDER_CLICK:"cancel_order_click",CANCEL_ORDER_SHOWN:"cancel_order_shown",CAROUSEL_NEXT_CLICK:"carousel_next_click",CAROUSEL_PREVIOUS_CLICK:"carousel_previous_click",CART_PAGE_LOAD:"cart_page_load",CART_LINE_ITEM_LOAD:"cart_line_item_load",CART_ADD_RECIPIENT_ADDRESS_CLICKED:"add_recipient_address_clicked",CASE_CREATE_FAILURE:"case_create_failure",CASE_CREATE_SUCCESS:"case_create_success",CATEGORY_LINK_CLICK:"category_link_click",CAROUSEL_CLICK:"carousel_click",CHALLENGE_SUBMISSION_ERROR:"challenge_submission_error",CHANGE_BACKER:"change_backer",CHANGE_COLOR:"change_color",CHANGE_BINDING:"change_binding",CHANGE_DESIGN_OPTIONS_CLICK:"change_design_options_click",CHANGE_ENVELOPE:"change_envelope",CHANGE_FORMAT:"change_format",CHANGE_FRAME:"change_frame",CHANGE_LABEL:"change_label",CHANGE_LINER:"change_liner",CHANGE_PAPER:"change_paper",CHANGE_QUANTITY:"change_quantity",CHANGE_RAP:"change_rap",CHANGE_RCP:"change_rcp",CHANGE_SHAPE:"change_shape",CHANGE_SPECIAL_REQUEST:"change_special_request",CHANGE_STATUS:"change status",CHECKBOX_CLICK:"checkbox_click",CHECKOUT_PAGE_LOAD:"checkout_page_load",CHECKOUT_LINE_ITEM_LOAD:"checkout_line_item_load",CHOOSE_BOARD_TYPE_CLICK:"choose_board_type_click",CLOSE:"close",COLOR_ELEMENT_CHOICE_CLICK:"color_palette_click",COLOR_SWATCH_CLICK:"color_swatch_click",COLOR_SWATCH_HOVER:"color_swatch_hover",CONTACT_REASON:"contact_reason",CONTACT_US_CLICK:"contact_us_click",CONTEST_CALENDAR_DOWNLOAD:"contest_calendar_download",CHOOSE_FILE_BUTTON_CLICK:"choose_file_button_click",COMMUNITY_TAB_CLICK:"community_tab_click",COMMENT_ON_DESIGN:"comment_on_design",COMMENT_DESIGNER_NAME_CLICK:"comment_designer_name_click",COMMENT_SUBMIT_BUTTON_CLICK:"comment_submit_button_click",CURATE_LINK_CLICK:"curate_link_click",DASHBOARD_PANEL_HEADER_CLICK:"dashboard_panel_header_click",DELETE_LINE_ITEM_CLICK:"delete_line_item_click",DELIVERY_OPTIONS_CLICK:"delivery_options_click",DESIGN_LIKED:"design_liked",DESIGN_UNLIKED:"design_unliked",DESIGN_IMAGE_CLICK:"design_image_click",DESIGN_TITLE_CLICK:"design_title_click",DELETE_LINE_ITEM_DIALOG_CLICK:"delete_line_item_dialog_click",DESIGN_LINK_CLICK:"design_link_click ",DESIGNER_LINK_CLICK:"designer_link_click",DESIGNER_WEBSITE_LINK_CLICK:"designer_website_link_click",DIGITAL_PROOF_CLICK:"digital_proof_click",DIMENSION_INFO_CLICK:"dimension_info_click",DOWNLOAD_CHALLENGE_SUBMISSION_KIT:"download_challenge_submission_kit",DOWNLOAD_PRINTABLE:"download_printable",DOWNLOAD_WALLPAPER:"download_wallpaper",EDIT_BACKER:"edit_backer",EDIT_DESIGN_BUTTON_CLICK:"edit_design_button_click",EDIT_DESIGN_BUTTON_SHOWN:"edit_design_button_shown",EDIT_ENVELOPE:"edit_envelope",EDIT_INFO_CLICK:"edit_info_click",EDIT_LABEL:"edit_label",EDIT_LINER:"edit_liner",EDIT_RAP:"edit_rap",EDIT_RCP:"edit_rcp",EDIT_SHAPE:"edit_shape",EDIT_SHIPPING_ADDRESS_CLICK:"edit_shipping_address_click",EDIT_SHIPPING_ADDRESS_SHOWN:"edit_shipping_address_shown",EDIT_SHIPPING_CONFIRM:"edit_shipping_confirm",EDIT_SHIPPING_OPTION_CLICK:"edit_shipping_option_click",EDIT_SHIPPING_OPTION_SHOWN:"edit_shipping_option_shown",EDIT_TEXT:"edit_text",EMAIL_INPUT_KEYDOWN:"email_input_keydown",EMAIL_TO_A_FRIEND_CLICK:"email_to_a_friend_click",EMAIL_US_CLICK:"email_us_click",EMPTY_SEARCH_RESULTS:"nav.empty search result",ENVELOPE_COLOR_SELECTED:"envelope_color_selected",ENVELOPE_LINER_SELECTED:"envelope_liner_selected",EVENT_CALENDAR_DOWNLOAD:"event_calendar_download",FAQ_LINK_CLICK:"faq_link_click",FANCY_RAP_OPTION_CLICKED:"fancy_rap_option_clicked",FANCY_RCP_OPTION_CLICKED:"fancy_rcp_option_clicked",FAVORITE_DESIGNER_PAGE_CLICK:"favorite_designer_page_click",FAVORITES_TRAY_TRIGGERED:"favorites_tray_triggered",FAVORITES_TRAY_PRODUCT_CLICK:"favorites_tray_product_click",FILE_ATTACHMENT_START:"file_attachment_start",FILE_ATTACHMENT_SUCCESS:"file_attachment_success",FILE_ATTACHMENT_FAILURE:"file_attachment_failure",FILTER_PANEL_TOGGLE_COLLAPSE:"filter_panel_toggle_collapse",FILTER_TOGGLE_MORE_LESS:"filter_toggle_more_less",FILTER_DESELECTED:"filter_deselected",FILTER_SELECTED:"filter_selected",FIND_IT_FAST_SHOW:"find_it_fast_show",FIND_IT_FAST_TOGGLE:"find_it_fast_toggle",FIND_IT_FAST_CHANGE_PHOTO:"find_it_fast_change_photo",FIND_IT_FAST_INITIAL_DIALOG:"find_it_fast_initial_dialog",FIND_IT_FAST_CHANGE_PHOTO_PROCESSING_DIALOG:"find_it_fast_change_photo_processing_dialog",FIND_IT_FAST_CLOSE_WITHOUT_PHOTO:"find_it_fast_close_without_photo",FIND_IT_FAST_CLICK_LABEL:"find_it_fast_click_label",FIND_IT_FAST_OLD_CLICK_BUTTON:"find_it_fast_old_click_button",FIND_IT_FAST_TOP_TRAY_SHOW:"find_it_fast_top_tray_show",FIND_IT_FAST_TOP_TRAY_TOGGLE:"find_it_fast_top_tray_toggle",FINISH_PERSONALIZING_CLICK:"finish_personalizing_click",FOOTER_LINK_CLICK:"footer_link_click",FRAME_OPTION_CLICK:"frame_option_click",FRAME_OPTION_HOVER:"frame_option_hover",FRAME_SIZE_CHANGE_CLICK:"frame_size_change_click",FRAME_SIZE_SOLD_OUT_POPUP_SHOWN:"frame_size_sold_out_popup_shown",FRAME_SIZE_SOLD_OUT_TOOLTIP_SHOWN:"frame_size_sold_out_tooltip_shown",FRAME_SOLD_OUT_MESSAGE_CHANGE:"frame_sold_out_message_change",FRAME_SOLD_OUT_MESSAGE_SHOWN:"frame_sold_out_message_shown",FRAME_SOLD_OUT_POPUP_SHOWN:"frame_sold_out_popup_shown",FRAME_SOLD_OUT_TOOLTIP_SHOWN:"frame_sold_out_tooltip_shown",FRAME_DESCRIPTION_LESS_CLICK:"frame_description_less_click",FRAME_DESCRIPTION_MORE_CLICK:"frame_description_more_click",FRAMING_YOUR_PRINT_CLICK:"frameing_your_print_click",FRCP_PROMO_CLOSED:"Fancy_RCP_Promo_dialog_Closed",FRCP_PROMO_IGNORED:"Fancy_RCP_Promo_dialog_Ignored",FRCP_PROMO_NO:"Fancy_RCP_Promo_dialog_No",FRCP_PROMO_SHOWN:"Fancy_RCP_Promo_dialog",FRCP_PROMO_YES:"Fancy_RCP_Promo_dialog_Yes",FREE_TEXT_SEARCH:"nav.free text search",FORM_SUGGESTIONS_CLICK:"form_suggestions_click",GIVE_FEEDBACK_CLICK:"give_feedback_click",GIVE_POLL_FEEDBACK_CLICK:"give_poll_feedback_click",GLOBAL_GREETING_OPTION_CLICK:"global_greeting_option_click",HELPFUL_SUGGESTION_SHOWN:"autosuggest_shown",HOLIDAY_CATEGORY_BANNER_CLOSED:"holiday_category_banner_closed",IMAGE_LOAD_TIME:"load_time",INSPIRATION_BOARD_CLICK:"inspiration_board_click",INSPIRATION_BOARD_CYCLER_CLICK:"inspiration_board_cycler_click",ITEM_NO_LONGER_AVAILABLE_POPUP_SHOWN:"item_no_longer_available_popup_shown",ITEM_OPTION_BACK_VIEW_CLICK:"item_option_back_view_click",ITEM_OPTION_FOILPRESS_CLICK:"item_option_foilpress_click",LATEST_SUBMISSIONS_CLICK:"latest_submissions_click",LETTERPRESS_ABOUT_PRICING_CLICK:"letterpress_about_pricing_click",LIMITED_EDITION_PRINT_CLICK:"limited_edition_print_click",LIVE_CHAT_CLICK:"contact_chat_click",LOGIN_CLICK:"sign_in_click",MATERIAL_CHANGE:"material_change",MATERIALS_DROPDOWN_CLICK:"materials_dropdown_click",MATERIALS_INFO_CLICK:"materials_info_click",MERCH_BLOCK_CHANGE_PHOTO_CLICK:"merch_block_change_photo_click",MERCHANDISING_BLOCK_CLICK:"merchandising_block_click",MODULE_CLICK:"module_click",MY_BOARDS_LINK_CLICK:"my_boards_link_click",NEXT_BUTTON_CLICK:"next_button_click",OLD_EXPERIENCE:"old_experience",NEW_BOARD_CLICK:"new_board_click",NAME_ABOVE_INSPIRATION_BOARD_CLICK:"name_above_inspiration_board_click",NAME_BELOW_INSPIRATION_BOARD_CLICK:"name_below_inspiration_board_click",NEW_EXPERIENCE:"new_experience",OPEN:"open",OPT_OUT:"opt_out",ORDER_BUTTON_CLICK:"order_button_click",ORDER_CONFIRM_PAGE_LOAD:"order_confirm_page_load",
ORDER_CONFIRM_LINE_ITEM_LOAD:"order_confirm_line_item_load",ORDER_DETAILS_LINK_CLICK:"order_details_link_click",ORDER_DETAILS_PAGE_VIEW:"order_details_page_view",ORDER_NUMBER_CLICK:"order_number_click",ORDER_STATUS_SHOWN:"order_status_shown",ORDERS_PAGE_VIEW:"orders_page_view",PAGE_LINK_CLICK:"page_link_click",PAGE_NUMBER_CLICK:"page_number_click",PAGE_LOAD:"page_load",PAPER_OPTION_CHANGE:"paper_option_change",PAGINATION_CLICK:"pagination_click",PERSONALIZE_CLICK:"personalize_click",PHOTO_TRAY_UPLOAD_PHOTO:"photo_tray_upload_photo",PINIT_BUTTON_CLICK:"pinit_button_click",PO_NUMBER_CLICK:"po_number_click",POST_ORDER_ACTIONS:"post_order_actions",POST_ORDER_EDIT:"post_order_edit",PREVIEW_IMAGE_CLICK:"preview_image_click",PREVIOUS_CHALLENGE_LINK_CLICK:"previous_challenge_link_click",PRINTING_INFO_CLICK:"printing_info_click",PRODUCT_ADDED_TO_FAVORITES:"product_added_to_favorites",PRODUCT_BACKER_OPTION_CLICK:"product_backer_option_click",PRODUCT_GREETING_OPTION_CLICK:"product_greeting_option_click",PRODUCT_GREETING_CHANGE:"product_greeting_change",PRODUCT_IMAGE_CLICK:"product_image_click",PRODUCT_LINK_CLICK:"product_link_click",PRODUCT_OPTION_CHANGE_CLICK:"product_option_change_click",PRODUCT_OPTION_CHANGE_SHOWN:"product_option_change_shown",PRODUCT_OPTION_DESCRIPTION_TOGGLE:"product_option_description_toggle",PRODUCT_REMOVED_FROM_FAVORITES:"product_removed_from_favorites",PRODUCT_ROW_DRAGGED:"product_row_dragged",PRODUCT_ROW_POSITION_CHANGE:"product_row_position_change",PRODUCT_ROW_ACTION_LINK_CLICK:"product_row_action_link_click",PRODUCT_SHAPE_OPTION_CLICK:"product_shape_option_click",PRODUCT_SHAPE_CHANGE:"product_shape_change",PROMO_BAR_CLICK:"promo_bar_click",PROOF_APPROVE:"approve_proof",PROOF_DOWNLOAD:"download_proof",PROOF_EDIT_ITEM:"edit_item",PROOF_EDIT_SHIPPING_ADDRESS:"edit_shipping_address",PROOF_EDIT_SHIPPING_METHOD:"edit_shipping_method",PROOF_GET_IT_SOONER:"get_it_sooner",PROOF_MANAGE_RCP:"manage_recipient_addressing",PROOF_MESSAGE_NO_PROOF_CLICK:"proof_message_no_proof_click",PROOF_MESSAGE_WEDDING_PROOF_CLICK:"proof_message_wedding_proof_click",PROOF_MESSAGE_DEFAULT_PROOF_CLICK:"proof_message_default_proof_click",PROOF_MESSAGE_DEFAULT_CLICK:"proof_message_default_click",PROOF_REJECT:"reject_proof",PROOF_RCP_DIALOG_POP_UP:"rcp_pop_up_click",PROOF_RCP_PICKER_POP_UP:"rcp_picker_pop_up",QUANTITY_PICKER_CLICK:"quantity_picker_click",QUICKLOOK_BUTTON_CLICK:"quicklook_button_click",RAP_PICKER_CANCELED:"rap_picker_canceled",RAP_PICKER_CLOSED:"rap_picker_closed",RAP_PICKER_CONFIRMED:"rap_picker_confirmed",RAP_PICKER_DISPLAYED:"rap_picker_displayed",RAP_SIDEBAR_CLICKED:"rap_sidebar_clicked",RATE_DESIGN:"rate_design",RCP_PICKER_CANCELED:"rcp_picker_canceled",RCP_PICKER_CLOSED:"rcp_picker_closed",RCP_PICKER_CONFIRMED:"rcp_picker_confirmed",RCP_PICKER_DISPLAYED:"rcp_picker_displayed",RCP_SIDEBAR_CLICKED:"rcp_sidebar_clicked",RECENTLY_VIEWED_PAGINATION_CLICK:"recently_viewed_pagination_click",RECENTLY_VIEWED_SKU_CLICK:"recently_viewed_sku_click",RELATED_CATEGORIES_CLICK:"related_categories_click",RELATED_SKU_CLICK:"related_sku_click",REMOVE_BACKER:"remove_backer",REMOVE_ENVELOPE:"remove_envelope",REMOVE_FROM_ORDER_CLICK:"remove_from_order_click",REMOVE_LABEL:"remove_label",REMOVE_LINER:"remove_liner",REMOVE_RAP:"remove_rap",REMOVE_RCP:"remove_rcp",REMOVE_SHAPE:"remove_shape",REMOVED_SAVED_CARD:"removed_saved_card",REORDER_BUTTON_CLICK:"reorder_button_click",REORDER_BUTTON_SHOWN:"reorder_button_shown",RESET_FILTERS_CLICK:"reset_filters_click",RETIRED_RELATED_CATEGORIES_CLICK:"retired_related_categories_click",REVIEW_MISSING_CONTENT_CLICK:"review_missing_content_click",REVIEW_MISSING_CONTENT_SHOWN:"review_missing_content_shown",REVIEWORDER_PAGE_LOAD:"revieworder_page_load",REVIEWORDER_LINE_ITEM_LOAD:"revieworder_line_item_load",REVIEW_PROOF_BUTTON_CLICK:"review_proof_button_click",REVIEW_PROOF_BUTTON_SHOWN:"review_proof_button_shown",SAMPLE_DESIGN_MODAL_CANCEL_CLICK:"sample_design_modal_cancel_click",SAMPLE_DESIGN_MODAL_NEXT_CLICK:"sample_design_modal_next_click",SAMPLE_THIS_DESIGN_LINK_CLICK:"sample_this_design_link_click",SAVE:"save",SAVE_CLICK:"save_click",SAVED_CREDIT_CARD_STATUS:"saved_credit_card_status",SEE_ALL_DESIGNS_LINK_CLICK:"see_all_designs_link_click",SEE_ALL_FAVORITE_DESIGNERS_CLICK:"see_all_favourite_designers_click",SEE_CHALLENGE_ARCHIVES_CLICK:"see_challenge_archives_click",SEE_WINNERS_LINK_CLICK:"see_winners_link_click",SEE_OPEN_CHALLENGES_LINK_CLICK:"see_open_challenges_link_click",SELF_SERVE_CLICK:"self_service_click",SELF_SERVE_SHOWN:"self_service_shown",SEARCH_TERM:"search_term",SHAPE_OPTION_CLICK:"shape_option_click",SHARE_DESIGN_FACEBOOK:"share_design_facebook",SHARE_DESIGN_TWITTER:"share_design_twitter",SHARE_DESIGN_EMAIL:"share_design_email",SHARE_ON_FACEBOOK_ICON_CLICK:"share_on_facebook_icon_click",SHARE_ON_PINTEREST_ICON_CLICK:"share_on_pinterest_icon_click",SHARE_ON_TWITTER_ICON_CLICK:"share_on_twitter_icon_click",SHARE_ON_GOOGLE_PLUS_ICON_CLICK:"share_on_google_plus_icon_click",SHARE_ON_EXTERNAL_SITE_ICON_CLICK:"share_on_external_site_icon_click",SHOP_NOW_LINK_CLICK:"shop_now_link_click",SHOW_LESS_COLORS_CLICK:"show_less_colors_click",SHOW_MORE_COLORS_CLICK:"show_more_colors_click",SIZE_OPTION_CLICK:"size_option_click",SKIP_DESIGN:"skip_design",SKU_CLICK:"sku_click",SORT_DROPDOWN_CLICK:"sort_dropdown_click",SORT_RESULTS:"sort",STANDARD_RAP_OPTION_CLICKED:"standard_rap_option_clicked",STANDARD_RCP_OPTION_CLICKED:"standard_rcp_option_clicked",SUBJECT_ACTIVATE:"subject_activate",SUBMIT_CHANGES:"submit_changes",SUBMIT_CLICK:"submit_click",SUBMIT_CLICK_WITH_ERROR:"submit_click_with_error",SUBMIT_ITEM_DIALOG:"submit_item_dialog",SUBMIT_CLICK_WITH_ORDER_ID:"submit_with_orderID",SUBMIT_A_DESIGN_BUTTON_CLICK:"submit_a_design_button_click",SUBMIT_A_DESIGN_LINK_CLICK:"submit_a_design_link_click",SUBSCRIBE_TO_DESIGN_COMMENTS:"subscribe_to_design_comments",TABS_CLICK:"tabs_click",TOGGLE_2_4_UP:"toggle_2_4_up",TOGGLE_CHANGE_PHOTO:"toggle_change_photo",TRACKING_BUTTON_CLICK:"tracking_button_click",TRACKING_BUTTON_SHOWN:"tracking_button_shown",TRIGGER:"trigger",TURN_OFF_FROM_TOGGLE:"turn_off_from_toggle",TURN_ON_FROM_MERCH_BLOCK:"turn_on_from_merch_block",TURN_ON_FROM_TOGGLE:"turn_on_from_toggle",TURN_ON_MERCH_BLOCK_UPLOAD_PHOTO:"turn_on_merch_block_upload_photo",TURN_ON_MERCH_BLOCK_CHANGE_PHOTO:"turn_on_merch_block_change_photo",TURN_OFF_FROM_MERCH_BLOCK:"turn_off_from_merch_block",UNCURATE_LINK_CLICK:"uncurate_link_click",UPCOMING_EVENT_CLICK:"upcoming_event_click",UPDATE_QUANTITY:"update quantity",UPLOAD:"Upload",UPLOAD_CLICK:"upload_click",UPLOAD_IMAGE_REQUEST:"upload_image_request",UPLOAD_PHOTOS_CLICK:"upload_photos_click",UPLOAD_PHOTOS_SHOWN:"upload_photos_shown",UPSELL_ITEM_CLICK:"upsell_item_click",USER_TERMS_AGREEMENT_CLICK:"user_terms_agreement_click",VOTE_NOW_BUTTON_CLICK:"vote_now_button_click",VOTE_NOW_LINK_CLICK:"vote_now_link_click",VIEW_ALL_CLICK:"view_all_click",VIEW_LESS_CLICK:"view_less_click",PUSH_DOWN_BANNER_CLOSED:"push_down_banner_closed",VIEW_DETAILS_CLICK:"view_details_click",VIEW_DETAILS_SHOWN:"view_details_shown",VIEW_OPTION_CLICK:"view_option_click",VIRAL_LOGO_CHECKBOX_CHECKED:"viral_logo_checkbox_checked",VIRAL_LOGO_CHECKBOX_UNCHECKED:"viral_logo_checkbox_unchecked",VIRAL_LOGO_LEARN_MORE_CLICK:"viral_logo_learn_more",VISIT_EVENT:"visit",VOTING_BADGE_CLICK:"voting_badge_click",WOULD_BUY_THIS_CLICK:"would_buy_this_click",ZOOM_CLICK:"zoom_click",ZOOM_DIALOG_COLORWAY_CLICK:"zoom_dialog_colorway_click",ZOOM_DIALOG_SHAPE_CLICK:"zoom_dialog_shape_click",ZOOM_DIALOG_ALT_GREETING_CLICK:"zoom_dialog_alt_greeting_click",CHANGE_EXCLUSIVE_STATUS:"change_exclusive_status"};t.GA.TRACK_EVENT_RCP_REVIEW={ADD_ADDRESS:"add_address",UPLOAD_ADDRESS_FILE:"upload_address_file"};t.GA.TRACK_EVENT_PROOF_RCP_POP_UP_ACTIONS={ADD_ADDRESSES:"add_addresses",DONT_ADD_ADDRESSES:"dont_add_addresses",CONTINUE:"continue",VISIT_ADDRESS_BOOK:"visit_address_book",CLICK_X:"click_x"};t.GA.TRACK_EVENT_PROOF_BUTTONS={APPROVE:"approve_proof",REJECT:"reject_proof"};t.GA.TRACK_EVENT_WEBFORM_SEARCH_BOX={TEXT_ENTERED:"search_box_text_entered",CLICKED:"search_clicked",AUTOCOMPLETE_CLICKED:"search_autocomplete_clicked"};t.GA.TRACK_EVENT_WEBFORM_TOPICS={TOPIC_CLICKED:"featured_topic_clicked",SEE_ALL_FAQ:"see_all_FAQ",SHOW_MORE_FAQ:"show_more_FAQs"};t.GA.TRACK_EVENT_WEBFORM_EMAIL_US={CONTACT_REASON_DROPDOWN_SELECTED:"contact_reason_dropdown_selected",ORDER_DROPDOWN_SELECTED:"order_dropdown_selected",FILE_UPLOADED:"file_uploaded",SIGN_IN_SIGN_OUT:"sign_in_sign_out",SEND_EMAIL:"send_email",FAQ_SIDEBAR:"faq_sidebar_triggered",FAQ_SIDEBAR_CLICKED:"faq_sidebar_click"};t.GA.TRACK_EVENT_LOGGING_ACTIONS={SIGN_IN:"sign_in",SIGN_OUT:"sign_out"};t.GA.TRACK_EVENT_QUICK_SELF_SERVICE={SELF_SERVICE_LINK_CLICKED:"self_service_link_clicked"};t.GA.TRACK_EVENT_LIVE_CHAT={START_LIVE_CHAT:"start_live_chat"};t.GA.TRACK_EVENT_PHOTO_TRAY={EXPAND_YEAR:"expand_year",COLLAPSE_YEAR:"collapse_year",SORT_BY:"sort_by",CLICK_UPLOAD_PHOTOS:"click_upload_photos",AUTO_ENHANCE_DESELECT:"auto_enhance_deselect",AUTO_ENHANCE_SELECT:"auto_enhance_select",AUTO_ENHANCE_ON:"auto_enhance_on",AUTO_ENHANCE_OFF:"auto_enhance_off",COLOR_COLOR:"color_color",COLOR_SEPIA:"color_sepia",COLOR_BW:"color_bw",ZOOM_IN:"zoom_in",ZOOM_OUT:"zoom_out",ROTATE_LEFT:"rotate_left",ROTATE_RIGHT:"rotate_right",CANCEL:"cancel",SAVE:"save",SHOW_TIPS:"show_tips",FORCED_OLD_PHOTOTRAY:"party_customizer_forced",FORCED_NEW_PHOTOTRAY:"luxury_art_forced"};t.GA.CUSTOM_VARIABLE_SLOTS={SHOPPING_CART:1,USER_ROLES:2,SAVED_CREDIT_CARD:3};t.GA.CUSTOM_VARIABLES={SHOPPING_CART:"ShoppingCart",USER_ROLES:"User Roles",SAVED_CREDIT_CARD:"Saved Credit Card"};t.GA.CUSTOM_VARIABLE_SCOPE={VISITOR:1,SESSION:2,PAGE:3};t.COOKIE.SEM_USER="isSEMUser";t.COOKIE.SEO_USER="isSEOUser";t.COOKIE.DISPLAY_ADVERTISING_USER="isDisplayAdvertisingUser";t.COOKIE.PHOTO_CONTINUATION_GUID_COOKIE="photo_continuation_guid";t.COOKIE.PARTY_UPSOLD_SKUS="party_upsold_skus";t.COOKIE.PHOTOGRAPHER_SIGNUP_INFO="photographer_signup_info";t.COOKIE.RECIPIENT_ADDRESSING_V2_2013="rcp13";t.COOKIE.HAS_SEEN_FIND_IT_FAST_DIALOG="seen_fif_dialog";t.COOKIE.FIF_INITITAL_DIALOG_OPTIMIZELY="fif_dialog";t.COOKIE.COMMUNITY_REBUILD="comm_rebuild";t.COOKIE.AB_HOMEPAGE_REDESIGN="ab_homepage_redesign";t.COOKIE.AB_HOMEPAGE_REDESIGN_VIGNETTE_VS_PUSHDOWN="ab_homepage_redesign_vignette_vs_pushdown";t.COOKIE.AB_CU3_SMOOTH_LOADING="ab_cu3_smooth_loading";t.COOKIE.AB_SHOW_ADDRESS_TAB="ab_show_address_tab";t.COOKIE.AB_DI_USER_SIGNUP="ab_di_user_signup";t.COOKIE.AB_SHOW_NEW_PHOTOTRAY="ab_show_new_phototray";t.COOKIE.AB_RCP_POSITION="ab_rcp_position";t.COOKIE.AB_NAV_RESTRUCTURE="ab_nav";t.COOKIE.AB_PHOTOTRAY_COLOR_CORRECT="ab_phototray_color_correct";t.COOKIE.AB_EXPRESS_BY_DEFAULT="default_express_proofing";t.COOKIE.AB_HIDE_STANDARD_RCP="hide_std_rcp";var o=["ANC","BAC","BHF","BSI","CCA","DBY","DET","ENF","ENP","FPA","IFM","IFS","IMB","IMC","INV","PTF","PTY","RHD","RHF","RSV","SFS","SMB","SMG","STD","TYC","TYF","WMB","WTY"];t.AB_SHOW_ADDRESS_TAB=t.AB_SHOW_ADDRESS_TAB||{};t.AB_DI_USER_SIGNUP=t.AB_DI_USER_SIGNUP||{};t.AB_SHOW_ADDRESS_TAB.PRODUCT_KINDS=["INV","IFS","STD","SFS"];t.AB_SHOW_NEW_PHOTOTRAY=t.AB_SHOW_NEW_PHOTOTRAY||{};t.AB_PHOTOTRAY_COLOR_CORRECT=t.AB_PHOTOTRAY_COLOR_CORRECT||{};t.NODE_TITLES=t.NODE_TITLES||{};t.NODE_TITLES.TERMS_ARTIST_STORES="artist stores terms and conditions";t.MOGOTEST_IP="107.20.231.24";t.FormatOptions={FLAT:1,FOLDED_BLANK:2,YEARLINE:3,FOLDED_LETTER:4,FOLDED_TEXT:16,MINIBOOK_A:17,MINIBOOK_B:18,CALENDAR:39,BLANK_NOTEBOOK:45,LINED_NOTEBOOK:46,GRAPH_NOTEBOOK:48,MONTHLY_PLANNER_NOTEBOOK:64,WEEKLY_PLANNER_NOTEBOOK:65,ADDRESS_BOOK_NOTEBOOK:66,BOOKLETTE_A:67,BOOKLETTE_B:68,BOOKLETTE:69,DIGITAL_INVITATION:76,ONE_OUNCE_STAMP:88,TWO_OUNCE_STAMP:89,POSTCARD_STAMP:90};t.BindingOptions={GROMMETED:0,SPIRAL:1};t.DIECUT.SHAPE={};t.DIECUT.SHAPE.BUBBLE_SCALLOP_A7=1;t.DIECUT.SHAPE.DOTTED_SCALLOP_A7=2;t.DIECUT.SHAPE.CLASSIC_FRAME_A7=3;t.DIECUT.SHAPE.CURVED_FRAME_A7=4;t.DIECUT.SHAPE.TAG_A7=5;t.DIECUT.SHAPE.CIRCLE_SQ6=6;t.DIECUT.SHAPE.SWALLOWTAIL_5X7=7;t.DIECUT.SHAPE.ROUNDED_CORNERS_A7=8;t.DIECUT.SHAPE.BUNTING_CIRCLE_3_25X3_25=9;t.DIECUT.SHAPE.SWALLOWTAIL_1X1_5=10;t.DIECUT.SHAPE.WAVED_FRAME_A7=11;t.DIECUT.SHAPE.CIRCLE_5_8X5_8=12;t.DIECUT.SHAPE.WINE_GLASS_TAG_2_95X2_95=13;t.DIECUT.SHAPE.PARTY_CROWN=14;t.DIECUT.SHAPE.ROUNDED_CORNERS_SQ5=15;t.DIECUT.SHAPE.SCALLOPED_CIRCLE_SQ5=16;t.DIECUT.SHAPE.PINWHEEL=17;t.DIECUT.SHAPE.TREE_CENTERPIECE=18;t.DIECUT.SHAPE.CIRCLE_3_25X3_25=19;t.DIECUT.SHAPE.TRIANGLE_7_7x7_7=20;t.DIECUT.SHAPE.LARGE_SIGN=21;t.DIECUT.SHAPE.WISHING_TREE_CENTERPIECE=22;t.DIECUT.SHAPE.CLASSIC_FRAME_A2=23;t.DIECUT.SHAPE.OVAL_SCALLOP_A2=24;t.DIECUT.SHAPE.NOTCH_A2=25;t.DIECUT.SHAPE.OVAL_CLOUD_SCALLOP_A2=26;t.DIECUT.SHAPE.BUBBLE_SCALLOP_A2=27;t.DIECUT.SHAPE.ROUNDED_CORNERS_A2=28;t.DIECUT.SHAPE.CURVED_FRAME_A2=29;t.DIECUT.SHAPE.SCALLOPED_CIRCLE_SQ6=30;t.DIECUT.SHAPE.ROUNDED_CORNERS_SQ6=31;t.DIECUT.SHAPE.ROUNDED_CORNERS_6x425=32;t.DIECUT.SHAPE.SNOWFLAKE_ORNAMENT_SQ5=33;t.DIECUT.SHAPE.SCALLOPED_ORNAMENT_SQ5=34;t.DIECUT.SHAPE.VINTAGE_ORNAMENT_SQ5=35;t.DIECUT.SHAPE.VINTAGE_2_5x3_5=36;t.DIECUT.SHAPE.VINTAGE_SQ3=37;t.DIECUT.SHAPE.HEART_SQ3=38;t.DIECUT.SHAPE.TAG_2_5x3_5=39;t.DIECUT.SHAPE.CIRCLE_SQ3=40;t.DIECUT.SHAPE.SCALLOPED_CIRCLE_SQ3=41;t.DIECUT.SHAPE.WAVED_FRAME_2_5x3_5=42;t.DIECUT.SHAPE.ROUNDED_CORNERS_2_5x3_5=43;t.DIECUT.SHAPE.ROUNDED_CORNERS_SQ3=44;t.DIECUT.SHAPE.HEART_CUTOUT_ORNAMENT_SQ5=60;t.DIECUT.SHAPE.ROSE_SNOWFLAKE_ORNAMENT_SQ5=61;t.DIECUT.SHAPE.BANNER_FLAG_3_8x_6=62;t.DIECUT.SHAPE.BARREL_3x1_5=63;t.DIECUT.SHAPE.CIRCLE_1_5x1_5=64;t.DIECUT.SHAPE.CIRCLE_2_5x2_5=65;t.DIECUT.SHAPE.CURVED_FRAME_1_5x1_5=66;t.DIECUT.SHAPE.CURVED_FRAME_2_25x2_25=67;t.DIECUT.SHAPE.FLAG_4x1_5=68;t.DIECUT.SHAPE.HEART_1_5x1_5=69;t.DIECUT.SHAPE.HEART_2x2=70;t.DIECUT.SHAPE.NOTCHED_FRAME_2_75x1_75=71;t.DIECUT.SHAPE.ROUNDED_CORNERS_1_5x1_5=72;t.DIECUT.SHAPE.ROUNDED_CORNERS_2_25x_75=73;t.DIECUT.SHAPE.ROUNDED_CORNERS_2_25x2_25=74;t.DIECUT.SHAPE.ROUNDED_CORNERS_3_5X2=75;t.DIECUT.SHAPE.TICKET_2_25x1_25=76;t.DIECUT.SHAPE.TICKET_3_5X2=77;t.DIECUT.SHAPE.ROUNDED_CORNERS_8125X_375=78;t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE={};t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.BUBBLE_SCALLOP_A7]="bubble-scallop-a7";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.DOTTED_SCALLOP_A7]="dotted-scallop-a7";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.CLASSIC_FRAME_A7]="classic-frame-a7";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.CURVED_FRAME_A7]="curved-frame-a7";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.TAG_A7]="tag-a7";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.ROUNDED_CORNERS_A7]="rounded-corners-a7";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.WAVED_FRAME_A7]="waved-frame-a7";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.ROUNDED_CORNERS_SQ5]="rounded-corners-sq5";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.ROUNDED_CORNERS_SQ6]="rounded-corners-sq6";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.SCALLOPED_CIRCLE_SQ5]="scalloped-circle-sq5";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.SCALLOPED_CIRCLE_SQ6]="scalloped-circle-sq6";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.CLASSIC_FRAME_A2]="classic-frame-a2";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.OVAL_SCALLOP_A2]="oval-scallop-a2";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.NOTCH_A2]="notch-a2";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.OVAL_CLOUD_SCALLOP_A2]="oval-cloud-scallop-a2";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.BUBBLE_SCALLOP_A2]="bubble-scallop-a2";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.ROUNDED_CORNERS_A2]="rounded-corners-a2";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.CURVED_FRAME_A2]="curved-frame-a2";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.ROUNDED_CORNERS_6x425]="rounded-corners-MC";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.SNOWFLAKE_ORNAMENT_SQ5]="snowflake-ornament-sq5";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.SCALLOPED_ORNAMENT_SQ5]="scalloped-ornament-sq5";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.VINTAGE_ORNAMENT_SQ5]="vintage-ornament-sq5";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.ROSE_SNOWFLAKE_ORNAMENT_SQ5]="rose-snowflake-ornament-sq5";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.HEART_CUTOUT_ORNAMENT_SQ5]="heart-cutout-ornament-sq5";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.VINTAGE_2_5x3_5]="vintage-2-5x3-5";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.VINTAGE_SQ3]="vintage-sq3";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.HEART_SQ3]="heart-sq3";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.TAG_2_5x3_5]="tag-2-5x3-5";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.CIRCLE_SQ3]="circle-sq3";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.SCALLOPED_CIRCLE_SQ3]="scalloped-circle-sq3";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.WAVED_FRAME_2_5x3_5]="waved-frame-2-5x3-5";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.ROUNDED_CORNERS_SQ3]="rounded-corners-sq3";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.ROUNDED_CORNERS_2_5x3_5]="rounded-corners-2-5x3-5";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.BANNER_FLAG_3_8x_6]="wave-3-8x-6";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.BARREL_3x1_5]="barrel-3x1-5";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.CIRCLE_1_5x1_5]="circle-1-5x1-5";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.CIRCLE_2_5x2_5]="circle-2-5x2-5";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.CURVED_FRAME_1_5x1_5]="curved-frame-1-5x1-5";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.CURVED_FRAME_2_25x2_25]="curved-frame-2-25x2-25";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.FLAG_4x1_5]="flag-4x1-5";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.HEART_1_5x1_5]="heart-1-5x1-5";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.HEART_2x2]="heart-2x2";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.NOTCHED_FRAME_2_75x1_75]="notched-frame-2-75x1-75";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.ROUNDED_CORNERS_1_5x1_5]="rounded-corners-1-5x1-5";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.ROUNDED_CORNERS_2_25x_75]="smrec-2-25x-75";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.ROUNDED_CORNERS_2_25x2_25]="rounded-corners-2-25x2-25";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.ROUNDED_CORNERS_3_5X2]="lgrnd-3-5x2";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.TICKET_2_25x1_25]="ticket-2-25x1-25";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.TICKET_3_5X2]="ticket-3-5x2";t.DIECUT.ATTRIBUTE_NAME_FOR_SHAPE[t.DIECUT.SHAPE.ROUNDED_CORNERS_8125X_375]="xsmrec-8125x-375";t.SKU=t.SKU||{};t.SKU.PARTY_PERSONALIZABLE=["PBB","PGS","PG2","PTS","PT2","PBM","PRN","PBD"];t.SKU.PARTY_DISABLE_ADDONS=["PBB","PBM"];t.SKU.PARTY_PICK_AND_PACK_KINDS=["PLA","PPN","PSR","PCU","PFB","PCK","PAJ","PWT","PTR","PTW"];t.SKU.CROWDLAUNCH_PARTY_PRODUCT_TYPES=["GCS","GSS","PBB","PBC","PBS","PCC","PCR","PCT","PFS","PPC","PPW","PSN","PSS","PTC","PWG","PGS","PG2","PTS","PT2"];t.SKU.LARGER_QUICKLOOK_IMAGE=["PRN","PBD"];t.COLOR_ELEMENTS=t.COLOR_ELEMENTS||{};t.COLOR_ELEMENTS.DEFAULT_COLORS=[{cmykHex:"#47303005",name:"Matte Silver"},{cmykHex:"#496B7705",name:"Matte Gold"},{cmykHex:"#032BED08",name:"Mustard"},{cmykHex:"#006B6100",name:"Petal"},{cmykHex:"#756B1A08",name:"Lavender"},{cmykHex:"#47001F00",name:"Sea"},{cmykHex:"#2E00FA14",name:"Lime"},{cmykHex:"#8200E60A",name:"Grass"},{cmykHex:"#573D5205",name:"Slate"},{cmykHex:"#2E8FDB40",name:"Coffee"},{cmykHex:"#1C4DBF0A",name:"Faux Gold"},{cmykHex:"#00BA6E00",name:"Salmon"},{cmykHex:"#69D10000",name:"Plum"},{cmykHex:"#51001A00",name:"Pool"},{cmykHex:"#611F7005",name:"Moss"},{cmykHex:"#E800C700",name:"Emerald"},{cmykHex:"#3F2D2682",name:"Stone"},{cmykHex:"#2BA3E066",name:"Earth"},{cmykHex:"#0078ED0D",name:"Orange"},{cmykHex:"#03E82E05",name:"Fuchsia"},{cmykHex:"#E2F40726",name:"Purple"},{cmykHex:"#6E140F00",name:"Sky Blue"},{cmykHex:"#FFA6032B",name:"Cobalt"},{cmykHex:"#3829CF38",name:"Vintage Green"},{cmykHex:"#B28A9E4F",name:"Charcoal"},{cmykHex:"#4285D682",name:"Chocolate"},{cmykHex:"#12C4B221",name:"Ruby"},{cmykHex:"#03E8B808",name:"Cherry"},{cmykHex:"#0CEF4444",name:"Merlot"},{cmykHex:"#94431500",name:"Provincial Blue"},{cmykHex:"#F0781C73",name:"Navy"},{cmykHex:"#7A45C754",name:"Olive"},{cmykHex:"#DBB06E8C",name:"Black"},{cmykHex:"#8580851A",name:"Warm grey"},{cmykHex:"#00BD0F00",name:"Neon Pink"},{cmykHex:"#00A87A00",name:"Neon Orange"}];t.COLOR_ELEMENTS.LIGHT_COLORS=[{cmykHex:"#080F171A",name:"Cement"},{cmykHex:"#001CB200",name:"Lemon"},{cmykHex:"#00333300",name:"Blush"},{cmykHex:"#00401A00",name:"Classic Pink"},{cmykHex:"#30330A00",name:"Lilac"},{cmykHex:"#29000D00",name:"Baby Blue"},{cmykHex:"#2E082A00",name:"Mist"},{cmykHex:"#36036100",name:"Sage"},{cmykHex:"#0A0D0A00",name:"Blind Deboss *"}];t.COLOR_ELEMENTS.ALL_COLORS=t.COLOR_ELEMENTS.DEFAULT_COLORS.concat(t.COLOR_ELEMENTS.LIGHT_COLORS);t.CUSTOM_COLORS=t.CUSTOM_COLORS||{};t.CUSTOM_COLORS.DEFAULT_COLORS=[[{rgb:"192442",name:"Navy"},{rgb:"2770AB",name:"Cobalt"},{rgb:"7E94A0",name:"Blue Slate"},{rgb:"A1BFD7",name:"Sky Blue"},{rgb:"8DC7C8",name:"Sea"},{rgb:"B7E0DF",name:"Aqua"},{rgb:"E4F4F1",name:"Baby Blue"}],[{rgb:"4B6D41",name:"Forest"},{rgb:"535A2A",name:"Olive"},{rgb:"709D3F",name:"Grass"},{rgb:"B9CE35",name:"Lime"},{rgb:"B2C78E",name:"Sage"},{rgb:"E2EAC6",name:"Mist"}],[{rgb:"E0692A",name:"Orange"},{rgb:"E29D2F",name:"Tangerine"},{rgb:"DDBF31",name:"Mustard"},{rgb:"FEE45E",name:"Mimosa"},{rgb:"F9ECA0",name:"Buttercup"}],[{rgb:"882033",name:"Burgundy"},{rgb:"B12E30",name:"Ruby"},{rgb:"DB3A3B",name:"Cherry"},{rgb:"DF6563",name:"Salmon"},{rgb:"DC3774",name:"Fuschia"},{rgb:"EFC0BB",name:"Petal"},{rgb:"F9E0D7",name:"Blush"}],[{rgb:"3B2669",name:"Purple"},{rgb:"662667",name:"Plum"},{rgb:"A495AE",name:"Lavender"},{rgb:"E6D0DE",name:"Lilac"},{rgb:"E2E6ED",name:"Dusk"}],[{rgb:"000000",name:"Black"},{rgb:"484A48",name:"Charcoal"},{rgb:"6C6C5D",name:"Warm Grey"},{rgb:"717471",name:"Cool Grey"},{rgb:"A8A799",name:"Slate"},{rgb:"D1D3CA",name:"Cement"}],[{rgb:"40271E",name:"Chocolate"},{rgb:"957056",name:"Earth"},{rgb:"D6CEC0",name:"Taupe"},{rgb:"F8F2E7",name:"Tusk"},{rgb:"FFFBF0",name:"Ecru"},{rgb:"FFFFFF",name:"White"}]];t.PRODUCT_IMAGE=t.PRODUCT_IMAGE||{};t.PRODUCT_IMAGE.PHOTO_CODE={ACP:"ACP",APF:"APF",APU:"APU",APDF:"APDF",APDU:"APDU",APZ:"APZ",CP:"CP",PD:"PD",PZ:"PZ",QL:"QL",TH:"TH"};t.PRODUCT_IMAGE.VIEW_CODE={FRONT_COMPOSITE:"001",BACKER:"002",TABLET:"005",BACKER_CURL_UP:"010B",WHITE_FRAME:"002A",BLACK_FRAME:"002B",WOOD_FRAME:"002F",WHITE_FRAME_TIER2:"002G",BLACK_FRAME_TIER2:"002H",BACKER_OPTIONS:"002C",INTERIOR:"002D",INTERIOR_PARTIAL:"002E",QUICKLOOK:"004",FRONT:"007",FRONT_WITH_SHAPE:"011",HOME_DECOR_PRIMARY:"011A",SEARCH:"007B",FOLDED:"012",FRONT_SPIRAL_JOURNAL:"001E"};t.PRODUCT_IMAGE.LAYOUT_NAME={L1:"L1",L2:"L2",L3:"L3"};t.PRODUCT_IMAGE.LAYOUT_MAPPINGS={"007_L1":"007","007B_L1":"007B","007B_L2":"011B","007B_L3":"011C","001_L1":"001","001_L2":"001B","001_L3":"001C"};t.LOCAL_STORAGE_KEYS={CATEGORY:{INTRODUCE_FILTERS:"CATEGORY.INTRODUCE_FILTERS",FLAG_SEEN_ALT_GREETING_HELP:"CATEGORY.FLAG_SEEN_ALT_GREETING_HELP",FLAG_SEEN_RECENTLY_VIEWED_TOOLTIP:"CATEGORY.FLAG_SEEN_RECENTLY_VIEWED_TOOLTIP"},HOME:{FLAG_HAS_CLOSED_PUSH_DOWN_BANNER:"HOME.FLAG_HAS_CLOSED_PUSH_DOWN_BANNER"},CU3:{PHOTO_SELECTIONS_BY_PROJECT:"PHOTO_SELECTIONS_BY_PROJECT",PHOTO_SELECTIONS_BY_PROJECT_ID:"PHOTO_SELECTIONS_BY_PROJECT_",FIRST_TIME_TOOLTIP_SKUS:"FIRST_TIME_TOOLTIP_SKUS",TWO_TIME_TOOLTIP_SKUS:"TWO_TIME_TOOLTIP_SKUS",FIRST_TIME_STAMP_TOOLTIP_SKUS:"FIRST_TIME_STAMP_TOOLTIP_SKUS",TWO_TIME_STAMP_TOOLTIP_SKUS:"TWO_TIME_STAMP_TOOLTIP_SKUS"},NOTIFICATION:{SEGMENT_OPT_OUT:{WEDDING:"NOTIFICATION.SEGMENT_OPT_OUT.WEDDING"}},COMMUNITY:{CHALLENGE_HUB:{SHOW_SUBMISSIONS_PANEL_EXPANDED:"COMMUNITY.CHALLENGE_HUB.SHOW_SUBMISSIONS_PANEL_EXPANDED",SHOW_WINNERS_PANEL_EXPANDED:"COMMUNITY.CHALLENGE_HUB.SHOW_WINNERS_PANEL_EXPANDED",SHOW_LEADERBOARD_PANEL_EXPANDED:"COMMUNITY.CHALLENGE_HUB.SHOW_LEADERBOARD_PANEL_EXPANDED",SORTED_BY_SELECTED_OPTION:"COMMUNITY.CHALLENGE_HUB.SUBMISSIONS.SORTED_BY_SELECTED_OPTION"}}};t.PHOTO_UPLOAD_STATUS={SUCCESS:0,FAILURE_EXTENSION_NOT_VALID:1};t.ART_FRAME={};t.ART_FRAME.BLACK=1;t.ART_FRAME.WHITE=2;t.ART_FRAME.WOOD=3;t.ART_FRAME.BLACK_TIER2=4;t.ART_FRAME.WHITE_TIER2=5;t.ART_FRAME.RECLAIMED_BARN=6;t.ART_FRAME.CHARCOAL_STAIN=7;t.ART_FRAME.COTTAGE_WHITE=8;t.ART_FRAME.INDIGO_STAIN=9;t.ART_FRAME.HAND_CARVED_NATURAL=10;t.ART_FRAME.HAND_CARVED_WHITE=11;t.ART_FRAME.ARROWHEAD=12;t.ART_FRAME.FILIGREE=13;t.ART_FRAME.OVAL=14;t.ART_FRAME.BRUSHED_SILVER=15;t.ART_FRAME.CHAMPAGNE_SILVER=16;t.ART_FRAME.MATTE_COPPER=17;t.ART_FRAME.MATTE_BRASS=18;t.ART_FRAME.MATTE_BLACK=19;t.ART_FRAME.COMMON_FRAME_OPTIONS={};t.ART_FRAME.COMMON_FRAME_OPTIONS[t.ART_FRAME.BLACK]="Black Premium Wood";t.ART_FRAME.COMMON_FRAME_OPTIONS[t.ART_FRAME.WHITE]="White Premium Wood";t.ART_FRAME.COMMON_FRAME_OPTIONS[t.ART_FRAME.WOOD]="Natural Premium Wood";t.ART_FRAME.COMMON_FRAME_OPTIONS[t.ART_FRAME.RECLAIMED_BARN]="Reclaimed Barn Wood";t.ART_FRAME.COMMON_FRAME_OPTIONS[t.ART_FRAME.CHARCOAL_STAIN]="Distressed Charcoal Stain";t.ART_FRAME.COMMON_FRAME_OPTIONS[t.ART_FRAME.COTTAGE_WHITE]="Distressed Cottage White";t.ART_FRAME.COMMON_FRAME_OPTIONS[t.ART_FRAME.INDIGO_STAIN]="Distressed Indigo Stain";t.ART_FRAME.COMMON_FRAME_OPTIONS[t.ART_FRAME.HAND_CARVED_NATURAL]="Natural French Farmhouse";t.ART_FRAME.COMMON_FRAME_OPTIONS[t.ART_FRAME.HAND_CARVED_WHITE]="Whitewashed French Farmhouse";t.ART_FRAME.COMMON_FRAME_OPTIONS[t.ART_FRAME.ARROWHEAD]="Whitwashed Herringbone";t.ART_FRAME.COMMON_FRAME_OPTIONS[t.ART_FRAME.FILIGREE]="Antique Filigree";t.ART_FRAME.COMMON_FRAME_OPTIONS[t.ART_FRAME.OVAL]="Black Oval";t.ART_FRAME.COMMON_FRAME_OPTIONS[t.ART_FRAME.BRUSHED_SILVER]="Brushed Silver";t.ART_FRAME.COMMON_FRAME_OPTIONS[t.ART_FRAME.CHAMPAGNE_SILVER]="Champagne Silver";t.ART_FRAME.COMMON_FRAME_OPTIONS[t.ART_FRAME.MATTE_COPPER]="Matte Copper";t.ART_FRAME.COMMON_FRAME_OPTIONS[t.ART_FRAME.MATTE_BRASS]="Matte Brass";t.ART_FRAME.COMMON_FRAME_OPTIONS[t.ART_FRAME.MATTE_BLACK]="Matte Black";t.CATEGORY={};t.CATEGORY.CALENDAR="calendar";t.CATEGORY.WEDDING="wedding";t.CATEGORY.NOTEBOOK="notebook";t.CATEGORY.BUSINESS="business";t.CATEGORY.ENVELOPES="envelopes";t.ART_FRAME.FRAME_OPTIONS_INCOMPATIBLE_WITH_SIGNATURE=[t.ART_FRAME.OVAL];var s={WHITE:1,KRAFT:2,SILVER:3};t.ENVELOPE_STANDARD_TEMPLATE={COLOR:"#000000FF",STROKE_COLOR:null,ALIGN:"center"};t.ENVELOPE_COLOR_ID={};t.ENVELOPE_COLOR_ID.WHITE=1140;t.ENVELOPE_COLOR_ID.KRAFT=2119;t.ENVELOPE_COLOR_ID.SILVER=2118;t.ENVELOPE_OPTION_IDX_TO_COLOR={1:t.ENVELOPE_COLOR_ID.WHITE,2:t.ENVELOPE_COLOR_ID.KRAFT,3:t.ENVELOPE_COLOR_ID.SILVER};var l={white:s.WHITE,"speckletone kraft":s.KRAFT,silver:s.SILVER};t.TemplateType={FRONT:0,INTERIOR:1,BACKER:2,FOLDED:1,MINIBOOK:5,LINER:6,LABEL:7,ENVELOPE_BACK:8,ENVELOPE_FRONT_RAP:13,ENVELOPE_FRONT_RCP:14,ENVELOPE_FRONT_RAP_RCP:15,ENVELOPE_OPEN:16,NOTEBOOK_FRONT_OUTER_COVER:9,NOTEBOOK_FRONT_INSIDE_COVER:10,NOTEBOOK_BACK_INSIDE_COVER:11,NOTEBOOK_BACK_OUTER_COVER:12,BOOKLETTE_INTERIOR:17};t.TemplateType.MAIN_TYPES=[t.TemplateType.FRONT,t.TemplateType.BACKER,t.TemplateType.INTERIOR];t.TemplateType.RAP_TYPES=[t.TemplateType.ENVELOPE_FRONT_RAP,t.TemplateType.ENVELOPE_BACK];t.TemplateType.RCP_TYPES=[t.TemplateType.ENVELOPE_FRONT_RCP,t.TemplateType.ENVELOPE_FRONT_RAP_RCP,t.TemplateType.ENVELOPE_OPEN];t.TemplateType.ENVELOPE_TYPES=[t.TemplateType.ENVELOPE_BACK,t.TemplateType.ENVELOPE_FRONT_RAP,t.TemplateType.ENVELOPE_FRONT_RCP,t.TemplateType.ENVELOPE_FRONT_RAP_RCP,t.TemplateType.ENVELOPE_OPEN];t.MAX_SIDE_LENGTH_PDP=550;t.MAX_SIDE_LENGTH_ORDERS_PAGE=150;t.OCCASION_DATE={};t.OCCASION_DATE.OCCASION_TYPE={WEDDING_DATE:1,CHILD_BIRTHDAY:2};t.OCCASION_DATE.DATA_SOURCE={EMAIL_PREFERENCE_CENTER:1,GENERIC_SAMPLE_KIT:2,GENERIC_SAMPLE_KIT_WEDDING:3,GENERIC_SAMPLE_KIT_SAVETHEDATE:4,GENERIC_SAMPLE_KIT_LETTERPRESS:5,GENERIC_SAMPLE_KIT_HOLIDAYFOIL:6,GENERIC_SAMPLE_KIT_BIRTH_ANNOUNCEMENT:7,LANDING_PAGE:8,CUSTOM_COLOR_SAMPLE:9};t.ORDERS_PAGE_KEEPSAKE_SCALING_FACTOR=.7;t.ORDER_CONFIRM_MAX_IMAGE_WIDTH=120;t.ORDER_CONFIRM_FRAMED_IMAGE_SCALING_FACTOR=.26;t.ORDER_CONFIRM_FRAMED_KEEPSAKE_ORDER_LIST_SCALING_FACTOR=.17;t.ORDER_CONFIRM_KEEPSAKE_MAX_IMAGE_WIDTH=260;t.ORDER_CONFIRM_UPSELL_MAX_IMAGE_WIDTH=215;t.ORDER_CONFIRM_UPSELL_SCALING_FACTOR=.48;t.ORDER_CONFIRM_FRAMED_KEEPSAKE_SCALING_FACTOR=.329;t.ORDER_CONFIRM_MAX_KEEPSAKE_QUANTITY=10;t.PRINT_HEIGHT_TO_SIGNATURE_HEIGHT={5:.4,7:.4,8:.4,10:.4,11:.4,14:.4,16:.5,18:.5,20:.5,24:.5,30:.6,40:.6,43:.6,54:.6,59:.6};t.PRINT_SIZE_TO_SIGNATURE_MARGINS={portrait:{"5x7":[.5,.2],"8x10":[.75,.35],"11x14":[.75,.35],"16x20":[1.25,.65],"18x24":[1.75,1.15],"30x40":[2.5,1.8],"40x54":[2.5,1.8],"40x60":[2.5,1.8],"43x59":[2.5,1.8]},landscape:{"7x5":[.5,.2],"10x8":[.75,.35],"14x11":[.75,.35],"20x16":[1.25,.65],"24x18":[1.75,1.15],"40x30":[2.5,1.8],"54x40":[2.5,1.8],"60x40":[2.5,1.8],"59x43":[2.5,1.8]},square:{"8x8":[.75,.35],"11x11":[.75,.35],"16x16":[1.25,.65],"24x24":[2,1.4],"30x30":[2.5,1.8],"43x43":[2.5,1.8]}};t.FRAMED_PRODUCT_IMAGE_PREVIEW_SIZES_PDP={portrait:{"5x7":{1:[334,468],2:[334,468],3:[334,468],4:[298,417],5:[298,417],6:[283,396],7:[283,396],8:[283,396],9:[283,396],10:[320,449],11:[320,449],12:[320,449],13:[320,449],14:[280,392],15:[374,518],16:[374,518],17:[374,518],18:[374,518],19:[374,518]},"8x10":{1:[395,491],2:[395,491],3:[395,491],4:[364,452],5:[364,452],6:[349,433],7:[349,433],8:[349,433],9:[349,433],10:[382,476],11:[382,476],12:[382,476],13:[382,476],14:[337,422],15:[423,526],16:[423,526],17:[423,526],18:[423,526],19:[423,526]},"11x14":{1:[398,509],2:[398,509],3:[398,509],4:[373,478],5:[373,478],6:[362,463],7:[362,463],8:[362,463],9:[362,463],10:[390,479],11:[390,479],12:[390,479],13:[390,479],14:[354,451],15:[421,533],16:[421,533],17:[421,533],18:[421,533],19:[421,533]},"16x20":{1:[421,522],2:[421,522],3:[421,522],4:[402,499],5:[402,499],6:[393,487],7:[393,487],8:[393,487],9:[393,487],10:[408,510],11:[408,510],12:[408,510],13:[408,510],14:[367,458],15:[428,534],16:[428,534],17:[428,534],18:[428,534],19:[428,534]},"18x24":{1:[374,500],2:[374,500],3:[381,509],4:[362,484],5:[362,484],6:[361,482],7:[348,465],8:[348,465],9:[348,465],10:[370,494],11:[370,494],12:[370,494],13:[370,494],15:[404,538],16:[404,538],17:[404,538],18:[404,538],19:[404,538]},"30x40":{1:[394,521],2:[394,521],3:[399,529],4:[386,510],5:[386,510],6:[386,510],7:[376,498],8:[376,498],9:[376,498],10:[379,506],11:[379,506],12:[379,506],13:[379,506],15:[404,538],16:[404,538],17:[404,538],18:[404,538],19:[404,538]},"40x54":{1:[390,526],2:[390,526],3:[390,526],4:[390,526],5:[390,526],6:[390,526],7:[390,526],8:[390,526],9:[390,526],10:[390,526],11:[390,526],12:[390,526],13:[390,526],15:[401,541],16:[401,541],17:[401,541],18:[401,541],19:[401,541]}},landscape:{"7x5":{1:[467,334],2:[467,334],3:[465,333],4:[419,300],5:[419,300],6:[396,283],7:[396,283],8:[396,283],9:[396,283],10:[449,320],11:[449,320],12:[449,320],13:[449,320],15:[518,374],16:[518,374],17:[518,374],18:[518,374],19:[518,374]},"10x8":{1:[491,395],2:[491,395],3:[490,395],4:[450,363],5:[450,363],6:[433,349],7:[433,349],8:[433,349],9:[433,349],10:[476,382],11:[476,382],12:[476,382],13:[476,382],15:[526,423],16:[526,423],17:[526,423],18:[526,423],19:[526,423]},"14x11":{1:[506,396],2:[506,396],3:[510,399],4:[479,374],5:[479,374],6:[462,362],7:[462,362],8:[462,362],9:[462,362],10:[479,390],11:[479,390],12:[479,390],13:[479,390],15:[533,421],16:[533,421],17:[533,421],18:[533,421],19:[533,421]},"20x16":{1:[522,421],2:[522,421],3:[521,420],4:[500,404],5:[500,404],6:[487,393],7:[487,393],8:[487,393],9:[487,393],10:[510,408],11:[510,408],12:[510,408],13:[510,408],15:[534,428],16:[534,428],17:[534,428],18:[534,428],19:[534,428]},"24x18":{1:[500,374],2:[500,374],3:[509,382],4:[483,362],5:[483,362],6:[483,362],7:[465,348],8:[465,348],9:[465,348],10:[494,370],11:[494,370],12:[494,370],13:[494,370],15:[538,404],16:[538,404],17:[538,404],18:[538,404],19:[538,404]},"40x30":{1:[529,399],2:[529,399],3:[522,394],4:[508,384],5:[508,384],6:[511,386],7:[498,376],8:[498,376],9:[498,376],10:[506,379],11:[506,379],12:[506,379],13:[506,379],15:[538,404],16:[538,404],17:[538,404],
18:[538,404],19:[538,404]},"54x40":{1:[526,390],2:[526,390],3:[526,390],4:[526,390],5:[526,390],6:[526,390],7:[526,390],8:[526,390],9:[526,390],10:[526,390],11:[526,390],12:[526,390],13:[526,390],15:[541,401],16:[541,401],17:[541,401],18:[541,401],19:[541,401]}},square:{"8x8":{1:[387,387],2:[387,387],3:[386,386],4:[350,350],5:[350,350],6:[333,333],7:[333,333],8:[333,333],9:[333,333],10:[375,375],11:[375,375],12:[375,375],13:[375,375],15:[424,424],16:[424,424],17:[424,424],18:[424,424],19:[424,424]},"11x11":{1:[404,404],2:[404,404],3:[404,404],4:[373,373],5:[373,373],6:[360,360],7:[360,360],8:[360,360],9:[360,360],10:[395,395],11:[395,395],12:[395,395],13:[395,395],15:[432,432],16:[432,432],17:[432,432],18:[432,432],19:[432,432]},"16x16":{1:[418,418],2:[418,418],3:[419,419],4:[396,396],5:[396,396],6:[385,385],7:[385,385],8:[385,385],9:[385,385],10:[420,420],11:[420,420],12:[420,420],13:[420,420],15:[431,431],16:[431,431],17:[431,431],18:[431,431],19:[431,431]},"24x24":{1:[416,416],2:[416,416],3:[416,416],4:[394,394],5:[394,394],6:[379,379],7:[379,379],8:[379,379],9:[379,379],10:[408,408],11:[408,408],12:[408,408],13:[408,408],15:[432,432],16:[432,432],17:[432,432],18:[432,432],19:[432,432]},"30x30":{1:[417,417],2:[417,417],3:[423,423],4:[404,404],5:[404,404],6:[404,404],7:[392,392],8:[392,392],9:[392,392],10:[419,419],11:[419,419],12:[419,419],13:[419,419],15:[435,435],16:[435,435],17:[435,435],18:[435,435],19:[435,435]},"43x43":{1:[421,421],2:[421,421],3:[424,424],4:[411,411],5:[411,411],6:[412,412],7:[402,402],8:[402,402],9:[402,402],10:[429,429],11:[429,429],12:[429,429],13:[429,429],15:[438,438],16:[438,438],17:[438,438],18:[438,438],19:[438,438]}}};t.FRAMED_PRODUCT_IMAGE_PREVIEW_SIZES={portrait:{"5x7":{1:[130.6,183],2:[130.6,183],3:[130.6,183],4:[116.5,163],5:[116.5,163],6:[110.7,154.8],7:[110.7,154.8],8:[110.7,154.8],9:[110.7,154.8],10:[125.1,175.6],11:[125.1,175.6],12:[125.1,175.6],13:[125.1,175.6],14:[109.5,153.3],15:[146.2,202.5],16:[146.2,202.5],17:[146.2,202.5],18:[146.2,202.5],19:[146.2,202.5]},"8x10":{1:[154.4,192],2:[154.4,192],3:[154.4,192],4:[142.3,176.7],5:[142.3,176.7],6:[136.5,169.3],7:[136.5,169.3],8:[136.5,169.3],9:[136.5,169.3],10:[149.4,186.1],11:[149.4,186.1],12:[149.4,186.1],13:[149.4,186.1],14:[131.8,165],15:[165.4,205.7],16:[165.4,205.7],17:[165.4,205.7],18:[165.4,205.7],19:[165.4,205.7]},"11x14":{1:[155.6,199],2:[155.6,199],3:[155.6,199],4:[145.8,186.9],5:[145.8,186.9],6:[141.5,181],7:[141.5,181],8:[141.5,181],9:[141.5,181],10:[152.5,187.3],11:[152.5,187.3],12:[152.5,187.3],13:[152.5,187.3],14:[138.4,176.3],15:[164.6,208.4],16:[164.6,208.4],17:[164.6,208.4],18:[164.6,208.4],19:[164.6,208.4]},"16x20":{1:[164.6,204.1],2:[164.6,204.1],3:[164.6,204.1],4:[157.2,195.1],5:[157.2,195.1],6:[153.7,190.4],7:[153.7,190.4],8:[153.7,190.4],9:[153.7,190.4],10:[159.5,199.4],11:[159.5,199.4],12:[159.5,199.4],13:[159.5,199.4],14:[143.5,179.1],15:[167.3,208.8],16:[167.3,208.8],17:[167.3,208.8],18:[167.3,208.8],19:[167.3,208.8]},"18x24":{1:[146.2,195.5],2:[146.2,195.5],3:[149,199],4:[141.5,189.2],5:[141.5,189.2],6:[141.2,188.5],7:[136.1,181.8],8:[136.1,181.8],9:[136.1,181.8],10:[144.7,193.2],11:[144.7,193.2],12:[144.7,193.2],13:[144.7,193.2],15:[158,210.4],16:[158,210.4],17:[158,210.4],18:[158,210.4],19:[158,210.4]},"30x40":{1:[154.1,203.7],2:[154.1,203.7],3:[156,206.8],4:[150.9,199.4],5:[150.9,199.4],6:[150.9,199.4],7:[147,194.7],8:[147,194.7],9:[147,194.7],10:[148.2,197.8],11:[148.2,197.8],12:[148.2,197.8],13:[148.2,197.8],15:[158,210.4],16:[158,210.4],17:[158,210.4],18:[158,210.4],19:[158,210.4]},"40x54":{1:[152.5,205.7],2:[152.5,205.7],3:[152.5,205.7],4:[152.5,205.7],5:[152.5,205.7],6:[152.5,205.7],7:[152.5,205.7],8:[152.5,205.7],9:[152.5,205.7],10:[152.5,205.7],11:[152.5,205.7],12:[152.5,205.7],13:[152.5,205.7],15:[156.8,211.5],16:[156.8,211.5],17:[156.8,211.5],18:[156.8,211.5],19:[156.8,211.5]}},landscape:{"7x5":{1:[182.6,130.6],2:[182.6,130.6],3:[181.8,130.2],4:[163.8,117.3],5:[163.8,117.3],6:[154.8,110.7],7:[154.8,110.7],8:[154.8,110.7],9:[154.8,110.7],10:[175.6,125.1],11:[175.6,125.1],12:[175.6,125.1],13:[175.6,125.1],15:[202.5,146.2],16:[202.5,146.2],17:[202.5,146.2],18:[202.5,146.2],19:[202.5,146.2]},"10x8":{1:[192,154.4],2:[192,154.4],3:[191.6,154.4],4:[176,141.9],5:[176,141.9],6:[169.3,136.5],7:[169.3,136.5],8:[169.3,136.5],9:[169.3,136.5],10:[186.1,149.4],11:[186.1,149.4],12:[186.1,149.4],13:[186.1,149.4],15:[205.7,165.4],16:[205.7,165.4],17:[205.7,165.4],18:[205.7,165.4],19:[205.7,165.4]},"14x11":{1:[197.8,154.8],2:[197.8,154.8],3:[199.4,156],4:[187.3,146.2],5:[187.3,146.2],6:[180.6,141.5],7:[180.6,141.5],8:[180.6,141.5],9:[180.6,141.5],10:[187.3,152.5],11:[187.3,152.5],12:[187.3,152.5],13:[187.3,152.5],15:[208.4,164.6],16:[208.4,164.6],17:[208.4,164.6],18:[208.4,164.6],19:[208.4,164.6]},"20x16":{1:[204.1,164.6],2:[204.1,164.6],3:[203.7,164.2],4:[195.5,158],5:[195.5,158],6:[190.4,153.7],7:[190.4,153.7],8:[190.4,153.7],9:[190.4,153.7],10:[199.4,159.5],11:[199.4,159.5],12:[199.4,159.5],13:[199.4,159.5],15:[208.8,167.3],16:[208.8,167.3],17:[208.8,167.3],18:[208.8,167.3],19:[208.8,167.3]},"24x18":{1:[195.5,146.2],2:[195.5,146.2],3:[199,149.4],4:[188.9,141.5],5:[188.9,141.5],6:[188.9,141.5],7:[181.8,136.1],8:[181.8,136.1],9:[181.8,136.1],10:[193.2,144.7],11:[193.2,144.7],12:[193.2,144.7],13:[193.2,144.7],15:[210.4,158],16:[210.4,158],17:[210.4,158],18:[210.4,158],19:[210.4,158]},"40x30":{1:[206.8,156],2:[206.8,156],3:[204.1,154.1],4:[198.6,150.1],5:[198.6,150.1],6:[199.8,150.9],7:[194.7,147],8:[194.7,147],9:[194.7,147],10:[197.8,148.2],11:[197.8,148.2],12:[197.8,148.2],13:[197.8,148.2],15:[210.4,158],16:[210.4,158],17:[210.4,158],18:[210.4,158],19:[210.4,158]},"54x40":{1:[205.7,152.5],2:[205.7,152.5],3:[205.7,152.5],4:[205.7,152.5],5:[205.7,152.5],6:[205.7,152.5],7:[205.7,152.5],8:[205.7,152.5],9:[205.7,152.5],10:[205.7,152.5],11:[205.7,152.5],12:[205.7,152.5],13:[205.7,152.5],15:[211.5,156.8],16:[211.5,156.8],17:[211.5,156.8],18:[211.5,156.8],19:[211.5,156.8]}},square:{"8x8":{1:[151.3,151.3],2:[151.3,151.3],3:[150.9,150.9],4:[136.8,136.8],5:[136.8,136.8],6:[130.2,130.2],7:[130.2,130.2],8:[130.2,130.2],9:[130.2,130.2],10:[146.6,146.6],11:[146.6,146.6],12:[146.6,146.6],13:[146.6,146.6],15:[165.8,165.8],16:[165.8,165.8],17:[165.8,165.8],18:[165.8,165.8],19:[165.8,165.8]},"11x11":{1:[158,158],2:[158,158],3:[158,158],4:[145.8,145.8],5:[145.8,145.8],6:[140.8,140.8],7:[140.8,140.8],8:[140.8,140.8],9:[140.8,140.8],10:[154.4,154.4],11:[154.4,154.4],12:[154.4,154.4],13:[154.4,154.4],15:[168.9,168.9],16:[168.9,168.9],17:[168.9,168.9],18:[168.9,168.9],19:[168.9,168.9]},"16x16":{1:[163.4,163.4],2:[163.4,163.4],3:[163.8,163.8],4:[154.8,154.8],5:[154.8,154.8],6:[150.5,150.5],7:[150.5,150.5],8:[150.5,150.5],9:[150.5,150.5],10:[164.2,164.2],11:[164.2,164.2],12:[164.2,164.2],13:[164.2,164.2],15:[168.5,168.5],16:[168.5,168.5],17:[168.5,168.5],18:[168.5,168.5],19:[168.5,168.5]},"24x24":{1:[162.7,162.7],2:[162.7,162.7],3:[162.7,162.7],4:[154.1,154.1],5:[154.1,154.1],6:[148.2,148.2],7:[148.2,148.2],8:[148.2,148.2],9:[148.2,148.2],10:[159.5,159.5],11:[159.5,159.5],12:[159.5,159.5],13:[159.5,159.5],15:[168.9,168.9],16:[168.9,168.9],17:[168.9,168.9],18:[168.9,168.9],19:[168.9,168.9]},"30x30":{1:[163,163],2:[163,163],3:[165.4,165.4],4:[158,158],5:[158,158],6:[158,158],7:[153.3,153.3],8:[153.3,153.3],9:[153.3,153.3],10:[163.8,163.8],11:[163.8,163.8],12:[163.8,163.8],13:[163.8,163.8],15:[170.1,170.1],16:[170.1,170.1],17:[170.1,170.1],18:[170.1,170.1],19:[170.1,170.1]},"43x43":{1:[164.6,164.6],2:[164.6,164.6],3:[165.8,165.8],4:[160.7,160.7],5:[160.7,160.7],6:[161.1,161.1],7:[157.2,157.2],8:[157.2,157.2],9:[157.2,157.2],10:[167.7,167.7],11:[167.7,167.7],12:[167.7,167.7],13:[167.7,167.7],15:[171.3,171.3],16:[171.3,171.3],17:[171.3,171.3],18:[171.3,171.3],19:[171.3,171.3]}}};t.FRAME_IMAGE_SIZES={portrait:{"40x54":[448,570],"30x40":[448,570],"18x24":[457,570],"16x20":[483,570],"11x14":[468,570],"8x10":[489,570],"5x7":[460,570]},landscape:{"54x40":[570,448],"40x30":[570,448],"24x18":[570,457],"20x16":[570,475],"14x11":[570,473],"10x8":[570,486],"7x5":[570,460]},square:{"44x44":[470,470],"43x43":[470,470],"30x30":[470,470],"24x24":[470,470],"16x16":[470,470],"11x11":[470,470],"8x8":[470,470]}};t.FRAME_IMAGE_PREVIEW_SIZES={portrait:{"40x54":[169,215],"30x40":[169,215],"18x24":[172,215],"16x20":[182,215],"11x14":[177,215],"8x10":[184,215],"5x7":[174,215]},landscape:{"54x40":[215,169],"40x30":[215,169],"24x18":[215,172],"20x16":[215,179],"14x11":[215,178],"10x8":[215,183],"7x5":[215,174]},square:{"44x44":[215,215],"43x43":[215,215],"30x30":[215,215],"24x24":[215,215],"16x16":[215,215],"11x11":[215,215],"8x8":[215,215]}};t.FRAME_IMAGE_PREVIEW_SIZES_SMALL={portrait:{"40x54":[105,150],"30x40":[105,150],"18x24":[107,150],"16x20":[113,150],"11x14":[110,150],"8x10":[114,150],"5x7":[108,150]},landscape:{"54x40":[150,105],"40x30":[150,105],"24x18":[150,107],"20x16":[150,113],"14x11":[150,110],"10x8":[150,114],"7x5":[150,108]},square:{"44x44":[150,150],"43x43":[150,150],"30x30":[150,150],"24x24":[150,150],"16x16":[150,150],"11x11":[150,150],"8x8":[150,150]}};t.SIGNATURE_HEIGHT_RATIO=.289;t.ARTIST_SIGNATURE_WIDTH_TO_HEIGHT_RATIO=415/120;t.EXTENSION.PNG=".png";t.EXTENSION.GMC=".gmc";t.DESIGNER_SIGNATURE.STOCK_SIG_PREFIX="stock-artist";t.DESIGNER_SIGNATURE.ARTIST_SIG_PREFIX="artist";t.CHECKOUT.SHIPPING_PROCESS_MESSAGE={PROOFED_ITEMS:"Delivery estimates include proofing, printing, and shipping.",NON_PROOFED_ITEMS:"Delivery estimates include processing and shipping.",BNPL_ITEMS:"We won't print (or ship) your order until after you've finished personalizing it. "+"You'll be able to change your shipping option later, if needed."};t.SHIPPING.SHIPPING_OPTION_MESSAGE={DELIVERY_INFO:"Estimated delivery by ",BNPL_ITEM:"After you finish personalizing, receive your order in an estimated "};return{AB_HIDE_STANDARD_RCP_KINDS:o,S7_HOSTNAME:n,S7_ENDPOINT:i,S7_IMAGE_ENDPOINT:r,RGB_HEX_STRING_LENGTH:a,EnvelopeColorOption:s,EnvelopeColorOptionNameToId:l}});M=M||{};M.Date=M.Date||{};M.Date.WEEKDAYS=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];M.Date.MONTHS=["January","February","March","April","May","June","July","August","September","October","November","December"];M.Date.toDisplayString=function(e){if(typeof moment!=="undefined"){return moment(e).format("dddd, MMMM DD")}else{var t=e.getDay();var n=M.Date.WEEKDAYS[t];var i=e.getMonth();var r=M.Date.MONTHS[i];if(n&&r){return n+", "+r+" "+e.getDate()}}};M.Date.toStringDayMonth=function(e){var t=e.getMonth();var n=M.Date.MONTHS[t];if(n){return n+" "+e.getDate()}};M.Date.midnight=function(){var e=new Date;e.setHours(0);e.setMinutes(0);e.setSeconds(0);e.setMilliseconds(0);return e};M.Date.generateUnixTimestamp=function(e){e=e||new Date;var t=e.getTime();t=parseInt(t/1e3,10);return t};M.Date.getUTC=function(e){var t=e.getTimezoneOffset()*60*1e3;var n=new Date(e.getTime()+t);return n};var module;UMD(module,{"minted:m":["M"],"minted:vendor/underscore-1.8.2.min":"_","minted:base":[]})(this,function(e,t){var n=e.M;n.SKU=n.SKU||{};n.SKU.MINI_CARDS_TYPE=["HMC"];n.SKU.MAGNET_PRODUCT_TYPES=["SMG","BMG"];n.SKU.CUSTOMIZABLE_WRAPPING_PAPER_TYPES=["CWR"];n.SKU.WRAPPING_PAPER_TYPES=["CWR","NWR","MWR"];n.SKU.ROOM_SIGN_TYPES=["RDS"];n.SKU.ORNAMENT_TYPES=["HOC"];n.SKU.PHOTO_BACKDROP_KINDS=["PBD"];n.SKU.PLACECARD_TYPES=["PLC","PCF"];n.SKU.LETTERPRESS_TYPES=["LPI","LRC","LDR","LRV","LTY"];n.SKU.BOOKLETTE_TYPES=["HBK"];n.SKU.TABLE_NUMBER_TYPES=["TBL","TBF"];n.SKU.NOTEBOOK_TYPES=["NBK","MNB"];n.SKU.MARKETPLACE_TYPES=["MPI","MBP","MSI","MBI","MMC","MWM","MWS","MCS","MMS","MBS","MTS","MOT","MCP","MGA","MKA","MNA","MWA","MGT","MHO","MFC","MWR","MNB"];n.SKU.BUSINESS_CARD_TYPES=["BSC","BCF","MBC"];n.SKU.STICKER_TYPES=["CST","CNL","MST","MSL","NST","NSL","WST"];n.SKU.getProductKind=function(e){n.required(e);return e.split("-")[2]};n.SKU.isMagnetSku=function(e){return n.SKU.isMagnetKind(n.SKU.getProductKind(e))};n.SKU.isOrnamentSku=function(e){return n.SKU.isOrnamentKind(n.SKU.getProductKind(e))};n.SKU.isWrappingPaper=function(e){return n.SKU.isWrappingPaperKind(n.SKU.getProductKind(e))};n.SKU.isPhotoBackdrop=function(e){return t.contains(n.SKU.PHOTO_BACKDROP_KINDS,n.SKU.getProductKind(e))};n.SKU.isPlacecard=function(e){return n.SKU.isPlacecardKind(n.SKU.getProductKind(e))};n.SKU.isMiniCardKind=function(e){return t.contains(n.SKU.MINI_CARDS_TYPE,e)};n.SKU.isMagnetKind=function(e){return t.contains(n.SKU.MAGNET_PRODUCT_TYPES,e)};n.SKU.isWrappingPaperKind=function(e){return t.contains(n.SKU.WRAPPING_PAPER_TYPES,e)};n.SKU.isCustomizableWrappingPaperKind=function(e){return t.contains(n.SKU.CUSTOMIZABLE_WRAPPING_PAPER_TYPES,e)};n.SKU.isRoomSignKind=function(e){return t.contains(n.SKU.ROOM_SIGN_TYPES,e)};n.SKU.isOrnamentKind=function(e){return t.contains(n.SKU.ORNAMENT_TYPES,e)};n.SKU.isPlacecardKind=function(e){return t.contains(n.SKU.PLACECARD_TYPES,e)};n.SKU.isNotebook=function(e){var i=n.SKU.getProductKind(e);return t.contains(n.SKU.NOTEBOOK_TYPES,i)};n.SKU.isUniqueWeddingProgram=function(e){return n.SKU.getProductKind(e)=="PDY"};n.SKU.isBusinessCard=function(e){var i=n.SKU.getProductKind(e);return t.contains(n.SKU.BUSINESS_CARD_TYPES,i)};n.SKU.isLetterPress=function(e){var i=n.SKU.getProductKind(e);return t.contains(n.SKU.LETTERPRESS_TYPES,i)};n.SKU.isBooklette=function(e){var i=n.SKU.getProductKind(e);return t.contains(n.SKU.BOOKLETTE_TYPES,i)};n.SKU.isCustomSticker=function(e){var i=n.SKU.getProductKind(e);return t.contains(n.SKU.STICKER_TYPES,i)};n.SKU.isTableNumber=function(e){var i=n.SKU.getProductKind(e);return t.contains(n.SKU.TABLE_NUMBER_TYPES,i)};n.SKU.isMarketplace=function(e){if(e){var i=n.SKU.getProductKind(e);return t.contains(n.SKU.MARKETPLACE_TYPES,i)}return false};return{}});var module;UMD(module,{"minted:m":["M"]})(this,function(e){var t=e.M;t.String=t.String||{};t.String.replaceAt=function(e,t,n){var i=e.split("");i[t]=n;return i.join("")};t.String.startsWith=function(e,t){return e.substring(0,t.length)===t};t.String.titleize=function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})};t.String.NotStringException=function(e){this.name="NotStringException";this.message=e|"The value is not a string"};t.String.NotStringException.prototype=new Error;t.String.NotStringException.constructor=Error;t.String.combineWithNewLine=function(){var e=0,n=arguments.length,i="";if(arguments.length<2){throw new t.IllegalNumberOfArgumentsException("Function requires more then 1 arguments",arguments)}for(;e<n;e++){if(!_.isString(arguments[e])){throw new t.String.NotStringException("Function requires all arguments "+"to be strings: "+arguments[e])}i+=arguments[e]+(e<n-1?"\n":"")}return i};t.String.splitAtFirstLine=function(e){var n="",i="",r="",a=/(^.*$)/gm;if(!e){throw new t.IllegalNumberOfArgumentsException("Function requires at least "+"one string as an argument")}if(!_.isString(e)){throw new t.String.NotStringException("The function requires the argument "+"to be a string: "+e)}r=e.match(a);n=r[0];i=r.slice(1).join("\n");return[n,i]};t.String.cutContentAtLines=function(e,t){var n=e.split("\n");return n.slice(0,t).join("\n")};t.String.padLeft=function(e,t,n){return Array(t-String(e).length+1).join(n||" ")+e};t.String.isOnlyDigits=function(e){return/^\d+$/.test(e)};return{}});M.Flag=M.Flag||{};M.Flag.PINBOARD_FIRST_RUN_HELP_BUBBLE_ALREADY_SHOWN=0;M.Flag.ART_PDP_FIRST_RUN_PINBOARD_BUBBLE_SHOWN=1;M.Flag.STOREFRONT_MANAGE_SELECT_CATEGORY_BUBBLE_SHOWN=2;M.Flag.STOREFRONT_MANAGE_DRAG_DROP_BUBBLE_SHOWN=3;M.Flag.STOREFRONT_MANAGE_FEATURED_ITEMS_BUBBLE_SHOWN=4;M.Flag.STOREFRONT_MANAGE_MULTIPLE_ITEMS_BUBBLE_SHOWN=5;M.Flag.EMAIL_DIALOG_SIGNED_UP=6;M.Flag.HOLIDAY_2012_NEW_VISITOR_BANNER_CLOSED=7;M.Flag.HOLIDAY_2012_BANNER_CLOSED=8;M.Flag.GENERIC_SAMPLE_KIT_CLOSED=9;M.Flag.SEEN_PARTY_UPSELL=10;M.Flag.CU3_LETTERPRESS_SEEN_INK_COLOR_TOOLTIP=11;M.Flag.TOGGLE_DESKTOP_SITE=12;M.Flag.CLOSED_HOMEPAGE_PUSH_DOWN=13;M.Flag.SEEN_FANCY_RCP_TOOLTIP=14;M.Flag.setFlagInCookie=function(e,t,n){var i=e;while(i.length%4>>>0!=0){i=i+"="}i=i.replace(/-/g,"+").replace(/_/g,"/");i=Webtoolkit.Base64.decode(i,true);var r=t/8>>>0;var a=t%8>>>0;var o=1<<(7-a>>>0)>>>0;if(r>=i.length){i=i+Array(r-i.length+2).join(String.fromCharCode(0));if(r+1!=i.length){throw"Assertion failure"}}if(r>=i.length){throw"Assertion failure"}if(n){i=i.substring(0,r)+String.fromCharCode(i.charCodeAt(r)|o)+i.substring(r+1)}else{i=i.substring(0,r)+String.fromCharCode(i.charCodeAt(r)&~o)+i.substring(r+1)}i=i.replace(/\000*$/,"");if(i.length==0){i=String.fromCharCode(0)}i=Webtoolkit.Base64.encode(i,true);i=i.replace(/=*$/,"");i=i.replace(/\+/g,"-").replace(/\//g,"_");return i};M.Flag.getFlagInCookie=function(e,t){var n=e;while(n.length%4>>>0!=0){n=n+"="}n=n.replace(/-/g,"+").replace(/_/g,"/");n=Webtoolkit.Base64.decode(n,true);var i=t/8>>>0;var r=t%8>>>0;var a=1<<(7-r>>>0)>>>0;if(i>=n.length){return false}return(n.charCodeAt(i)&a)!=0};M.Flag.setFlag=function(e,t){var n="",i=$.cookie("f");if(i){n=i}$.cookie("f",M.Flag.setFlagInCookie(n,e,t),{expires:365*10,path:"/"})};M.Flag.getFlag=function(e){var t="",n=$.cookie("f");if(n){t=n}return M.Flag.getFlagInCookie(t,e)};var module;UMD(module,{"minted:m":["M"],"minted:vendor/backbone-1.0.0.min":"Backbone","minted:vendor/underscore-1.8.2.min":"_"})(this,function(e,t,n){var i=e.M;"use strict";i.StorageManager=function(){function e(e,t){this.options=n.extend({},this.defaultOptions,t);this.storage=e;this.configuredKeys={};this._length()}var t={QUOTA_EXCEEDED_ERR:22};e.prototype.mintedSessionExpireTime=1800;e.prototype.defaultOptions={invalidExpire:-1,conservativePurge:true};e.localStorage=function(t){var n;t||(t={});var i=t.BackupStorage;if(!i){i=e.Storage}try{n=window.localStorage}catch(r){}if(!n){n=new i}return new e(n,t)};e.prototype._verifyFormat=function(e){return e&&typeof e==="object"&&"value"in e&&"expire"in e};e.prototype._getFullItem=function(e){var t=this.storage.getItem(e);var n;if(t){try{n=JSON.parse(t)}catch(i){}}else{n={value:null,expire:null}}if(!this._verifyFormat(n)){console.warn(e+" is not properly formatted. Converting format.");n={value:typeof n!=="undefined"?n:t,expire:this._parseExpire(this.options.invalidExpire||this.options.defaultExpire)}}return n};e.prototype.get=function(e){return this._getFullItem(e).value};e.prototype.getItem=e.prototype.get;e.prototype._parseExpire=function(e){var t;if(e){if(e.getTime){t=e.getTime()}else if(typeof e==="number"){t=(new Date).getTime()+e*1e3}else{throw new Error("expire must be either a Date or a Number")}}return t};e.prototype.configureKey=function(e,t){this.configuredKeys[e]=t};e.prototype.set=function(e,n,i){var r=this._parseExpire(i||this.configuredKeys[e]||this.options.defaultExpire);if(r==null){throw new Error("expire is a required argument")}try{this.storage.setItem(e,JSON.stringify({expire:r,value:n}));this._length()}catch(a){if(a.code===t.QUOTA_EXCEEDED_ERR){var o=this.purge();if(o){this.setItem.apply(this,arguments)}}else{throw a}}};e.prototype.setItem=e.prototype.set;e.prototype.remove=function(e){this.storage.removeItem(e);this._length()};e.prototype.removeItem=e.prototype.remove;e.prototype.clear=function(){this.storage.clear();this.length=this.storage.length};e.prototype.purge=function(){var e=new Date;var t=false;for(var n=0,i=this.length;n<i;n++){var r=this.storage.key(n);var a=this._getFullItem(r);if(e>a.expire){console.warn("Purging key: ",r);this.removeItem(r);t=true;if(this.options.conservativePurge){break}}}return t};_isSameDay=function(e,t){e=new Date(e);t=new Date(t);if(e.getDate()==t.getDate()&&e.getMonth()==t.getMonth()&&e.getYear()==t.getYear()){return true}return false};e.prototype.purgeItem=function(e){var t=new Date;var n=false;var i=this._getFullItem(e);if(t>i.expire||!_isSameDay(t,i.expire)){_serverLogger.warn("Purging key: ",e);this.removeItem(e);n=true}return n};e.prototype._length=function(){return this.length=this.storage.length};return e}();i.StorageManager.Storage=t.Model.extend({initialize:function(){var e=n.bind(function(){this._keys=n.keys(this.attributes);this.length=this._keys.length},this);this.bind("change",e);e()},setItem:function(e,t){var n={};n[e]=""+t;this.set(n)},getItem:function(e){return this.get(e)},removeItem:function(e){this.unset(e)},key:function(e){return this._keys[e]}});i.localStorageManager=i.StorageManager.localStorage({defaultExpire:-1});return{}});var module;UMD(module,{"minted:vendor/underscore-1.8.2.min":"_","minted:m":["M"]})(this,function(e,t){var n=t.M;n=n||{};n.Url=n.Url||{};n.Url=function(){};n.Url.getWindowUrl=function(){return window.location.href};n.Url.setWindowUrl=function(e){window.location.href=e};n.Url.ParseUrl=function(e){var t=document.createElement("a");t.href=e;var i=t.pathname;var r=e.href||e.charAt(0)==="/";if(r&&i.charAt(0)!=="/"){i="/"+i}var a=t.search||t.hash||"";a=a.substr(a.indexOf("?")+1);return{a:t,protocol:t.protocol,hostname:t.hostname,port:t.port,pathname:i,search:t.search,hash:t.hash,host:t.host,query:n.Url.ParseQuery(a)}};n.Url.UnparseUrl=function(e){e.search=n.Url.UnparseQuery(e.query);return e.protocol.replace(/^([^:]*):?$/,"$1://")+e.hostname+(e.port?":"+e.port:"")+e.pathname+(e.search?e.search.replace(/^\??(.*)$/,"?$1"):"")+(e.hash?e.hash.replace(/^#?(.*)$/,"#$1"):"")};n.Url.SetParam=function(e,t,i){var r=n.Url.ParseUrl(e);r.query[t]=i;return n.Url.UnparseUrl(r)};n.Url.ParseQuery=function(t){var n={};if(t){e.each(t.split(/^\?|&/g),function(t,i){var r=t.split("=");if(r.length==2){var a=decodeURIComponent(r[0]);var o=decodeURIComponent(r[1]);if(n.hasOwnProperty(a)){if(!e.isArray(n[a])){n[a]=[n[a]]}n[a].push(o)}else{n[a]=o}}})}return n};n.Url.parseCurrentQuery=function(){return n.Url.ParseQuery(window.location.search)};n.Url.UnparseQuery=function(t,n){var i=e.keys(t);if(n){i=i.sort()}return e.chain(i).map(function(i){i=encodeURIComponent(i);var r=t[i];if(!e.isArray(r)){r=[r]}if(n){r=r.sort()}return e.chain(r).map(function(e){if(e){return i+"="+encodeURIComponent(e)}else{return null}}).compact().value().join("&")}).compact().value().join("&")};n.Url.setParamIf=function(e,t,i,r,a){var o=e.split("?")[1]||"";var s=n.Url.ParseQuery(o);if(t){s[i]=r}else{s[i]=a}o=n.Url.UnparseQuery(s);return e.split("?")[0]+"?"+o};n.Url.joinPaths=function(){var t=/\/$/;var n=/^\//;return function(){var i="";e.each(arguments,function(e){if(!i){i=e}else{i=i.replace(t,"/")+e.replace(n,"")}});return i}}();n.Url.HandleRedirect=function(e){window.location=e};n.Url.RedirectToLogin=function(){window.location="/login?destination="+encodeURIComponent(window.location)};return{Url:n.Url}});(function(e,t){"object"===typeof exports?module.exports=t(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"===typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],t):e.URI=t(e.punycode,e.IPv6,e.SecondLevelDomains,e)})(this,function(e,t,n,i){function r(e,t){if(!(this instanceof r))return new r(e,t);void 0===e&&(e="undefined"!==typeof location?location.href+"":"");this.href(e);return void 0!==t?this.absoluteTo(t):this}function a(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function o(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function s(e){return"Array"===o(e)}function l(e,t){var n,i;if(s(t)){n=0;for(i=t.length;n<i;n++)if(!l(e,t[n]))return!1;return!0}var r=o(t);n=0;for(i=e.length;n<i;n++)if("RegExp"===r){if("string"===typeof e[n]&&e[n].match(t))return!0}else if(e[n]===t)return!0;return!1}function _(e,t){if(!s(e)||!s(t)||e.length!==t.length)return!1;e.sort();t.sort();for(var n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function c(e){return escape(e)}function u(e){return encodeURIComponent(e).replace(/[!'()*]/g,c).replace(/\*/g,"%2A")}var d=i&&i.URI;r.version="1.12.0";var h=r.prototype,f=Object.prototype.hasOwnProperty;r._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:r.duplicateQueryParameters,escapeQuerySpace:r.escapeQuerySpace}};r.duplicateQueryParameters=!1;r.escapeQuerySpace=!0;r.protocol_expression=/^[a-z][a-z0-9.+-]*$/i;r.idn_expression=/[^a-z0-9\.-]/i;r.punycode_expression=/(xn--)/i;r.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;r.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/;r.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u2018\u2019]))/gi;r.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?\u00ab\u00bb\u201c\u201d\u201e\u2018\u2019]+$/};r.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"};r.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/;r.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src"};r.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();return"input"===t&&"image"!==e.type?void 0:r.domAttributes[t]}};r.encode=u;r.decode=decodeURIComponent;r.iso8859=function(){r.encode=escape;r.decode=unescape};r.unicode=function(){r.encode=u;r.decode=decodeURIComponent};r.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}}};r.encodeQuery=function(e,t){var n=r.encode(e+"");return t?n.replace(/%20/g,"+"):n};r.decodeQuery=function(e,t){e+="";try{return r.decode(t?e.replace(/\+/g,"%20"):e)}catch(n){return e}};r.recodePath=function(e){e=(e+"").split("/");for(var t=0,n=e.length;t<n;t++)e[t]=r.encodePathSegment(r.decode(e[t]));return e.join("/")};r.decodePath=function(e){e=(e+"").split("/");for(var t=0,n=e.length;t<n;t++)e[t]=r.decodePathSegment(e[t]);return e.join("/")};var p={encode:"encode",decode:"decode"},E,g=function(e,t){return function(n){return r[t](n+"").replace(r.characters[e][t].expression,function(n){return r.characters[e][t].map[n]})}};for(E in p)r[E+"PathSegment"]=g("pathname",p[E]);r.encodeReserved=g("reserved","encode");r.parse=function(e,t){var n;t||(t={});n=e.indexOf("#");-1<n&&(t.fragment=e.substring(n+1)||null,e=e.substring(0,n));n=e.indexOf("?");-1<n&&(t.query=e.substring(n+1)||null,e=e.substring(0,n));"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=r.parseAuthority(e,t)):(n=e.indexOf(":"),-1<n&&(t.protocol=e.substring(0,n)||null,t.protocol&&!t.protocol.match(r.protocol_expression)?t.protocol=void 0:"file"===t.protocol?e=e.substring(n+3):"//"===e.substring(n+1,n+3)?(e=e.substring(n+3),e=r.parseAuthority(e,t)):(e=e.substring(n+1),t.urn=!0)));t.path=e;return t};r.parseHost=function(e,t){var n=e.indexOf("/"),i;-1===n&&(n=e.length);"["===e.charAt(0)?(i=e.indexOf("]"),t.hostname=e.substring(1,i)||null,t.port=e.substring(i+2,n)||null):e.indexOf(":")!==e.lastIndexOf(":")?(t.hostname=e.substring(0,n)||null,t.port=null):(i=e.substring(0,n).split(":"),t.hostname=i[0]||null,t.port=i[1]||null);t.hostname&&"/"!==e.substring(n).charAt(0)&&(n++,e="/"+e);return e.substring(n)||"/"};r.parseAuthority=function(e,t){e=r.parseUserinfo(e,t);return r.parseHost(e,t)};r.parseUserinfo=function(e,t){var n=e.indexOf("/"),i=-1<n?e.lastIndexOf("@",n):e.indexOf("@");-1<i&&(-1===n||i<n)?(n=e.substring(0,i).split(":"),t.username=n[0]?r.decode(n[0]):null,n.shift(),t.password=n[0]?r.decode(n.join(":")):null,e=e.substring(i+1)):(t.username=null,t.password=null);return e};r.parseQuery=function(e,t){if(!e)return{};e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"");if(!e)return{};for(var n={},i=e.split("&"),a=i.length,o,s,l=0;l<a;l++)o=i[l].split("="),s=r.decodeQuery(o.shift(),t),o=o.length?r.decodeQuery(o.join("="),t):null,n[s]?("string"===typeof n[s]&&(n[s]=[n[s]]),n[s].push(o)):n[s]=o;return n};r.build=function(e){var t="";e.protocol&&(t+=e.protocol+":");e.urn||!t&&!e.hostname||(t+="//");t+=r.buildAuthority(e)||"";"string"===typeof e.path&&("/"!==e.path.charAt(0)&&"string"===typeof e.hostname&&(t+="/"),t+=e.path);"string"===typeof e.query&&e.query&&(t+="?"+e.query);"string"===typeof e.fragment&&e.fragment&&(t+="#"+e.fragment);return t};r.buildHost=function(e){var t="";if(e.hostname)r.ip6_expression.test(e.hostname)?t=e.port?t+("["+e.hostname+"]:"+e.port):t+e.hostname:(t+=e.hostname,e.port&&(t+=":"+e.port));else return"";return t};r.buildAuthority=function(e){return r.buildUserinfo(e)+r.buildHost(e)};r.buildUserinfo=function(e){var t="";e.username&&(t+=r.encode(e.username),e.password&&(t+=":"+r.encode(e.password)),t+="@");return t};r.buildQuery=function(e,t,n){var i="",a,o,l,_;for(o in e)if(f.call(e,o)&&o)if(s(e[o]))for(a={},l=0,_=e[o].length;l<_;l++)void 0!==e[o][l]&&void 0===a[e[o][l]+""]&&(i+="&"+r.buildQueryParameter(o,e[o][l],n),!0!==t&&(a[e[o][l]+""]=!0));else void 0!==e[o]&&(i+="&"+r.buildQueryParameter(o,e[o],n));return i.substring(1)};r.buildQueryParameter=function(e,t,n){return r.encodeQuery(e,n)+(null!==t?"="+r.encodeQuery(t,n):"")};r.addQuery=function(e,t,n){if("object"===typeof t)for(var i in t)f.call(t,i)&&r.addQuery(e,i,t[i]);else if("string"===typeof t)void 0===e[t]?e[t]=n:("string"===typeof e[t]&&(e[t]=[e[t]]),s(n)||(n=[n]),e[t]=e[t].concat(n));else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter")};r.removeQuery=function(e,t,n){var i;if(s(t))for(n=0,i=t.length;n<i;n++)e[t[n]]=void 0;else if("object"===typeof t)for(i in t)f.call(t,i)&&r.removeQuery(e,i,t[i]);else if("string"===typeof t)if(void 0!==n)if(e[t]===n)e[t]=void 0;else{if(s(e[t])){i=e[t];var a={},o,l;if(s(n))for(o=0,l=n.length;o<l;o++)a[n[o]]=!0;else a[n]=!0;o=0;for(l=i.length;o<l;o++)void 0!==a[i[o]]&&(i.splice(o,1),l--,o--);e[t]=i}}else e[t]=void 0;else throw new TypeError("URI.addQuery() accepts an object, string as the first parameter")};r.hasQuery=function(e,t,n,i){if("object"===typeof t){for(var a in t)if(f.call(t,a)&&!r.hasQuery(e,a,t[a]))return!1;return!0}if("string"!==typeof t)throw new TypeError("URI.hasQuery() accepts an object, string as the name parameter");switch(o(n)){case"Undefined":return t in e;case"Boolean":return e=Boolean(s(e[t])?e[t].length:e[t]),n===e;case"Function":return!!n(e[t],t,e);case"Array":return s(e[t])?(i?l:_)(e[t],n):!1;case"RegExp":return s(e[t])?i?l(e[t],n):!1:Boolean(e[t]&&e[t].match(n));case"Number":n=String(n);case"String":return s(e[t])?i?l(e[t],n):!1:e[t]===n;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}};r.commonPath=function(e,t){
var n=Math.min(e.length,t.length),i;for(i=0;i<n;i++)if(e.charAt(i)!==t.charAt(i)){i--;break}if(1>i)return e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"";if("/"!==e.charAt(i)||"/"!==t.charAt(i))i=e.substring(0,i).lastIndexOf("/");return e.substring(0,i+1)};r.withinString=function(e,t,n){n||(n={});var i=n.start||r.findUri.start,a=n.end||r.findUri.end,o=n.trim||r.findUri.trim,s=/[a-z0-9-]=["']?$/i;for(i.lastIndex=0;;){var l=i.exec(e);if(!l)break;l=l.index;if(n.ignoreHtml){var _=e.slice(Math.max(l-3,0),l);if(_&&s.test(_))continue}var _=l+e.slice(l).search(a),c=e.slice(l,_).replace(o,"");n.ignore&&n.ignore.test(c)||(_=l+c.length,c=t(c,l,_,e),e=e.slice(0,l)+c+e.slice(_),i.lastIndex=l+c.length)}i.lastIndex=0;return e};r.ensureValidHostname=function(t){if(t.match(r.invalid_hostname_characters)){if(!e)throw new TypeError("Hostname '"+t+"' contains characters other than [A-Z0-9.-] and Punycode.js is not available");if(e.toASCII(t).match(r.invalid_hostname_characters))throw new TypeError("Hostname '"+t+"' contains characters other than [A-Z0-9.-]")}};r.noConflict=function(e){if(e)return e={URI:this.noConflict()},URITemplate&&"function"==typeof URITemplate.noConflict&&(e.URITemplate=URITemplate.noConflict()),t&&"function"==typeof t.noConflict&&(e.IPv6=t.noConflict()),SecondLevelDomains&&"function"==typeof SecondLevelDomains.noConflict&&(e.SecondLevelDomains=SecondLevelDomains.noConflict()),e;i.URI===this&&(i.URI=d);return this};h.build=function(e){if(!0===e)this._deferred_build=!0;else if(void 0===e||this._deferred_build)this._string=r.build(this._parts),this._deferred_build=!1;return this};h.clone=function(){return new r(this)};h.valueOf=h.toString=function(){return this.build(!1)._string};p={protocol:"protocol",username:"username",password:"password",hostname:"hostname",port:"port"};g=function(e){return function(t,n){if(void 0===t)return this._parts[e]||"";this._parts[e]=t||null;this.build(!n);return this}};for(E in p)h[E]=g(p[E]);p={query:"?",fragment:"#"};g=function(e,t){return function(n,i){if(void 0===n)return this._parts[e]||"";null!==n&&(n+="",n.charAt(0)===t&&(n=n.substring(1)));this._parts[e]=n;this.build(!i);return this}};for(E in p)h[E]=g(E,p[E]);p={search:["?","query"],hash:["#","fragment"]};g=function(e,t){return function(n,i){var r=this[e](n,i);return"string"===typeof r&&r.length?t+r:r}};for(E in p)h[E]=g(p[E][1],p[E][0]);h.pathname=function(e,t){if(void 0===e||!0===e){var n=this._parts.path||(this._parts.hostname?"/":"");return e?r.decodePath(n):n}this._parts.path=e?r.recodePath(e):"/";this.build(!t);return this};h.path=h.pathname;h.href=function(e,t){var n;if(void 0===e)return this.toString();this._string="";this._parts=r._parts();var i=e instanceof r,a="object"===typeof e&&(e.hostname||e.path||e.pathname);e.nodeName&&(a=r.getDomAttribute(e),e=e[a]||"",a=!1);!i&&a&&void 0!==e.pathname&&(e=e.toString());if("string"===typeof e)this._parts=r.parse(e,this._parts);else if(i||a)for(n in i=i?e._parts:e,i)f.call(this._parts,n)&&(this._parts[n]=i[n]);else throw new TypeError("invalid input");this.build(!t);return this};h.is=function(e){var t=!1,i=!1,a=!1,o=!1,s=!1,l=!1,_=!1,c=!this._parts.urn;this._parts.hostname&&(c=!1,i=r.ip4_expression.test(this._parts.hostname),a=r.ip6_expression.test(this._parts.hostname),t=i||a,s=(o=!t)&&n&&n.has(this._parts.hostname),l=o&&r.idn_expression.test(this._parts.hostname),_=o&&r.punycode_expression.test(this._parts.hostname));switch(e.toLowerCase()){case"relative":return c;case"absolute":return!c;case"domain":case"name":return o;case"sld":return s;case"ip":return t;case"ip4":case"ipv4":case"inet4":return i;case"ip6":case"ipv6":case"inet6":return a;case"idn":return l;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return _}return null};var m=h.protocol,A=h.port,T=h.hostname;h.protocol=function(e,t){if(void 0!==e&&e&&(e=e.replace(/:(\/\/)?$/,""),!e.match(r.protocol_expression)))throw new TypeError("Protocol '"+e+"' contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return m.call(this,e,t)};h.scheme=h.protocol;h.port=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e&&(0===e&&(e=null),e&&(e+="",":"===e.charAt(0)&&(e=e.substring(1)),e.match(/[^0-9]/))))throw new TypeError("Port '"+e+"' contains characters other than [0-9]");return A.call(this,e,t)};h.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var n={};r.parseHost(e,n);e=n.hostname}return T.call(this,e,t)};h.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?r.buildHost(this._parts):"";r.parseHost(e,this._parts);this.build(!t);return this};h.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?r.buildAuthority(this._parts):"";r.parseAuthority(e,this._parts);this.build(!t);return this};h.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.username)return"";var n=r.buildUserinfo(this._parts);return n.substring(0,n.length-1)}"@"!==e[e.length-1]&&(e+="@");r.parseUserinfo(e,this._parts);this.build(!t);return this};h.resource=function(e,t){var n;if(void 0===e)return this.path()+this.search()+this.hash();n=r.parse(e);this._parts.path=n.path;this._parts.query=n.query;this._parts.fragment=n.fragment;this.build(!t);return this};h.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||""}n=this._parts.hostname.length-this.domain().length;n=this._parts.hostname.substring(0,n);n=RegExp("^"+a(n));e&&"."!==e.charAt(e.length-1)&&(e+=".");e&&r.ensureValidHostname(e);this._parts.hostname=this._parts.hostname.replace(n,e);this.build(!t);return this};h.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;"boolean"===typeof e&&(t=e,e=void 0);if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.match(/\./g);if(n&&2>n.length)return this._parts.hostname;n=this._parts.hostname.length-this.tld(t).length-1;n=this._parts.hostname.lastIndexOf(".",n-1)+1;return this._parts.hostname.substring(n)||""}if(!e)throw new TypeError("cannot set domain empty");r.ensureValidHostname(e);!this._parts.hostname||this.is("IP")?this._parts.hostname=e:(n=RegExp(a(this.domain())+"$"),this._parts.hostname=this._parts.hostname.replace(n,e));this.build(!t);return this};h.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;"boolean"===typeof e&&(t=e,e=void 0);if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var i=this._parts.hostname.lastIndexOf("."),i=this._parts.hostname.substring(i+1);return!0!==t&&n&&n.list[i.toLowerCase()]?n.get(this._parts.hostname)||i:i}if(e)if(e.match(/[^a-zA-Z0-9-]/))if(n&&n.is(e))i=RegExp(a(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(i,e);else throw new TypeError("TLD '"+e+"' contains characters other than [A-Z0-9]");else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");i=RegExp(a(this.tld())+"$");this._parts.hostname=this._parts.hostname.replace(i,e)}else throw new TypeError("cannot set TLD empty");this.build(!t);return this};h.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var n=this._parts.path.length-this.filename().length-1,n=this._parts.path.substring(0,n)||(this._parts.hostname?"/":"");return e?r.decodePath(n):n}n=this._parts.path.length-this.filename().length;n=this._parts.path.substring(0,n);n=RegExp("^"+a(n));this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e));e&&"/"!==e.charAt(e.length-1)&&(e+="/");e=r.recodePath(e);this._parts.path=this._parts.path.replace(n,e);this.build(!t);return this};h.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var n=this._parts.path.lastIndexOf("/"),n=this._parts.path.substring(n+1);return e?r.decodePathSegment(n):n}n=!1;"/"===e.charAt(0)&&(e=e.substring(1));e.match(/\.?\//)&&(n=!0);var i=RegExp(a(this.filename())+"$");e=r.recodePath(e);this._parts.path=this._parts.path.replace(i,e);n?this.normalizePath(t):this.build(!t);return this};h.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var n=this.filename(),i=n.lastIndexOf(".");if(-1===i)return"";n=n.substring(i+1);n=/^[a-z0-9%]+$/i.test(n)?n:"";return e?r.decodePathSegment(n):n}"."===e.charAt(0)&&(e=e.substring(1));if(n=this.suffix())i=e?RegExp(a(n)+"$"):RegExp(a("."+n)+"$");else{if(!e)return this;this._parts.path+="."+r.recodePath(e)}i&&(e=r.recodePath(e),this._parts.path=this._parts.path.replace(i,e));this.build(!t);return this};h.segment=function(e,t,n){var i=this._parts.urn?":":"/",r=this.path(),a="/"===r.substring(0,1),r=r.split(i);void 0!==e&&"number"!==typeof e&&(n=t,t=e,e=void 0);if(void 0!==e&&"number"!==typeof e)throw Error("Bad segment '"+e+"', must be 0-based integer");a&&r.shift();0>e&&(e=Math.max(r.length+e,0));if(void 0===t)return void 0===e?r:r[e];if(null===e||void 0===r[e])if(s(t)){r=[];e=0;for(var o=t.length;e<o;e++)if(t[e].length||r.length&&r[r.length-1].length)r.length&&!r[r.length-1].length&&r.pop(),r.push(t[e])}else{if(t||"string"===typeof t)""===r[r.length-1]?r[r.length-1]=t:r.push(t)}else t||"string"===typeof t&&t.length?r[e]=t:r.splice(e,1);a&&r.unshift("");return this.path(r.join(i),n)};h.segmentCoded=function(e,t,n){var i,a;"number"!==typeof e&&(n=t,t=e,e=void 0);if(void 0===t){e=this.segment(e,t,n);if(s(e))for(i=0,a=e.length;i<a;i++)e[i]=r.decode(e[i]);else e=void 0!==e?r.decode(e):void 0;return e}if(s(t))for(i=0,a=t.length;i<a;i++)t[i]=r.decode(t[i]);else t="string"===typeof t?r.encode(t):t;return this.segment(e,t,n)};var v=h.query;h.query=function(e,t){if(!0===e)return r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"===typeof e){var n=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace),i=e.call(this,n);this._parts.query=r.buildQuery(i||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);this.build(!t);return this}return void 0!==e&&"string"!==typeof e?(this._parts.query=r.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):v.call(this,e,t)};h.setQuery=function(e,t,n){var i=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("object"===typeof e)for(var a in e)f.call(e,a)&&(i[a]=e[a]);else if("string"===typeof e)i[e]=void 0!==t?t:null;else throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");this._parts.query=r.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof e&&(n=t);this.build(!n);return this};h.addQuery=function(e,t,n){var i=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);r.addQuery(i,e,void 0===t?null:t);this._parts.query=r.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof e&&(n=t);this.build(!n);return this};h.removeQuery=function(e,t,n){var i=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);r.removeQuery(i,e,t);this._parts.query=r.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace);"string"!==typeof e&&(n=t);this.build(!n);return this};h.hasQuery=function(e,t,n){var i=r.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return r.hasQuery(i,e,t,n)};h.setSearch=h.setQuery;h.addSearch=h.addQuery;h.removeSearch=h.removeQuery;h.hasSearch=h.hasQuery;h.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()};h.normalizeProtocol=function(e){"string"===typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e));return this};h.normalizeHostname=function(n){this._parts.hostname&&(this.is("IDN")&&e?this._parts.hostname=e.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!n));return this};h.normalizePort=function(e){"string"===typeof this._parts.protocol&&this._parts.port===r.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e));return this};h.normalizePath=function(e){if(this._parts.urn||!this._parts.path||"/"===this._parts.path)return this;var t,n=this._parts.path,i="",a,o;"/"!==n.charAt(0)&&(t=!0,n="/"+n);n=n.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/");t&&(i=n.substring(1).match(/^(\.\.\/)+/)||"")&&(i=i[0]);for(;;){a=n.indexOf("/..");if(-1===a)break;else if(0===a){n=n.substring(3);continue}o=n.substring(0,a).lastIndexOf("/");-1===o&&(o=a);n=n.substring(0,o)+n.substring(a+3)}t&&this.is("relative")&&(n=i+n.substring(1));n=r.recodePath(n);this._parts.path=n;this.build(!e);return this};h.normalizePathname=h.normalizePath;h.normalizeQuery=function(e){"string"===typeof this._parts.query&&(this._parts.query.length?this.query(r.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e));return this};h.normalizeFragment=function(e){this._parts.fragment||(this._parts.fragment=null,this.build(!e));return this};h.normalizeSearch=h.normalizeQuery;h.normalizeHash=h.normalizeFragment;h.iso8859=function(){var e=r.encode,t=r.decode;r.encode=escape;r.decode=decodeURIComponent;this.normalize();r.encode=e;r.decode=t;return this};h.unicode=function(){var e=r.encode,t=r.decode;r.encode=u;r.decode=unescape;this.normalize();r.encode=e;r.decode=t;return this};h.readable=function(){var t=this.clone();t.username("").password("").normalize();var n="";t._parts.protocol&&(n+=t._parts.protocol+"://");t._parts.hostname&&(t.is("punycode")&&e?(n+=e.toUnicode(t._parts.hostname),t._parts.port&&(n+=":"+t._parts.port)):n+=t.host());t._parts.hostname&&t._parts.path&&"/"!==t._parts.path.charAt(0)&&(n+="/");n+=t.path(!0);if(t._parts.query){for(var i="",a=0,o=t._parts.query.split("&"),s=o.length;a<s;a++){var l=(o[a]||"").split("="),i=i+("&"+r.decodeQuery(l[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"));void 0!==l[1]&&(i+="="+r.decodeQuery(l[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}n+="?"+i.substring(1)}return n+=r.decodeQuery(t.hash(),!0)};h.absoluteTo=function(e){var t=this.clone(),n=["protocol","username","password","hostname","port"],i,a;if(this._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");e instanceof r||(e=new r(e));t._parts.protocol||(t._parts.protocol=e._parts.protocol);if(this._parts.hostname)return t;for(i=0;a=n[i];i++)t._parts[a]=e._parts[a];t._parts.path?".."===t._parts.path.substring(-2)&&(t._parts.path+="/"):(t._parts.path=e._parts.path,t._parts.query||(t._parts.query=e._parts.query));"/"!==t.path().charAt(0)&&(e=e.directory(),t._parts.path=(e?e+"/":"")+t._parts.path,t.normalizePath());t.build();return t};h.relativeTo=function(e){var t=this.clone().normalize(),n,i,a,o;if(t._parts.urn)throw Error("URNs do not have any generally defined hierarchical components");e=new r(e).normalize();n=t._parts;i=e._parts;a=t.path();o=e.path();if("/"!==a.charAt(0))throw Error("URI is already relative");if("/"!==o.charAt(0))throw Error("Cannot calculate a URI relative to another relative URI");n.protocol===i.protocol&&(n.protocol=null);if(n.username===i.username&&n.password===i.password&&null===n.protocol&&null===n.username&&null===n.password&&n.hostname===i.hostname&&n.port===i.port)n.hostname=null,n.port=null;else return t.build();if(a===o)return n.path="",t.build();e=r.commonPath(t.path(),e.path());if(!e)return t.build();i=i.path.substring(e.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");n.path=i+n.path.substring(e.length);return t.build()};h.equals=function(e){var t=this.clone();e=new r(e);var n={},i={},a={},o;t.normalize();e.normalize();if(t.toString()===e.toString())return!0;n=t.query();i=e.query();t.query("");e.query("");if(t.toString()!==e.toString()||n.length!==i.length)return!1;n=r.parseQuery(n,this._parts.escapeQuerySpace);i=r.parseQuery(i,this._parts.escapeQuerySpace);for(o in n)if(f.call(n,o)){if(!s(n[o])){if(n[o]!==i[o])return!1}else if(!_(n[o],i[o]))return!1;a[o]=!0}for(o in i)if(f.call(i,o)&&!a[o])return!1;return!0};h.duplicateQueryParameters=function(e){this._parts.duplicateQueryParameters=!!e;return this};h.escapeQuerySpace=function(e){this._parts.escapeQuerySpace=!!e;return this};return r});var module;UMD(module,{"minted:vendor/underscore-1.8.2.min":"_","minted:m":["M"],"minted:vendor/jquery-1.9.1.min":"$","minted:vendor/stacktrace":"printStackTrace","minted:constants":[],"minted:storage_manager":[],"minted:vendor/jquery.cookie-1.0":[],"minted:url":[]})(this,function(e,t,n,r){var a=t.M;e.templateSettings={interpolate:/<@=([\s\S]+?)@>/gm,evaluate:/<@([\s\S]+?)@>/gm,escape:/<@-([\s\S]+?)@>/gm};String.prototype.capitalize=function(){var e=this;return e.charAt(0).toUpperCase()+e.slice(1)};String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};String.prototype.substrFromIndex=function(e,t){idx=this.lastIndexOf(e)+1;if(t===undefined){return this.substr(idx)}else{return this.substr(idx,t)}};String.prototype.truncate=function(e){var t=this;e=e-3;var n=t.substr(0,e);if(n!=t){t=n.trim()+"..."}return t};String.prototype.toTitleCase=function(){return this.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})};a.subElement=function(e,t,r){var a=document.createElement(t);var o=n(a);if(typeof r=="undefined"){r=r||{}}if(r.id){o.attr("id",r.id)}if(r.src){o.attr("src",r.src)}if(r.html){o.html(r.html)}var s=[];if(typeof r.classes=="string"){s=r.classes.split(" ")}else if(typeof r.classes=="object"){s=r.classes}for(i=0;i<s.length;i++){o.addClass("class",s[i])}if(e!=null){n(e).append(a)}return a};if(typeof Object.create!=="function"){Object.create=function(e){function t(){}t.prototype=e;return new t}}a.incrementPageCountCookie=function(){var e="pageCount",t=parseInt(n.cookie(e),10);if(isNaN(t)){t=0}t++;a.incrementPageCountCookie=function(){return t};n.cookie(e,t,"/");return t};a.isIframe=function(){return window.self!=window.top};a.isTouch=function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch};a.getBrowserVersionInt=function(e){var t=0;if(e=="iOS"){if(/iPhone|iPod|iPad/.test(navigator.platform)){var n=navigator.appVersion.match(/OS (\d+)(_(\d+))*/);if(n){return parseInt(n[1],10)}else{return 0}}else{return 0}}var i=navigator.userAgent;if(i.indexOf(e)<0){return 0}var r=new RegExp(e+"[^0123456789]*(\\d+)");var n=i.match(r);if(n){t=parseInt(n[1],10)}return t};a.getBrowserVersion=function(e){if(e=="iOS"){if(/iPhone|iPod|iPad/.test(navigator.platform)){return navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/)[1]}else{return"not found"}}var t=navigator.userAgent;if(t.indexOf(e)<0){return"not found"}var n=t.indexOf(e)+e.length;var i=t.indexOf(" ",n);var r=t.indexOf(".",n);var a=t.length;if(i!=-1){a=i}return t.substr(n,a-n)};a.getBrowserType=function(){var e={chrome:false,mozilla:false,opera:false,msie:false,safari:false,iOS:false,webkit:false};e.chrome=navigator.userAgent.indexOf("Chrome")>-1?true:false;e.mozilla=navigator.userAgent.indexOf("Mozilla")>-1?true:false;e.opera=navigator.userAgent.indexOf("Opera")>-1?true:false;e.msie=navigator.userAgent.indexOf("MSIE")>-1?true:false;e.safari=navigator.userAgent.indexOf("Safari")>-1?true:false;e.iOS=/(iPad|iPhone|iPod)/g.test(navigator.userAgent)?true:false;e.webkit=/WebKit/.test(navigator.userAgent)?true:false;return e};a.satisfiesBrowserRequirements=function(e){if(navigator.userAgent.indexOf("Chrome/")>-1){if(e.chrome!==undefined&&a.getBrowserVersionInt("Chrome/")>=e.chrome){return true}}else if(navigator.userAgent.indexOf("Firefox/")>-1){if(e.firefox!==undefined&&a.getBrowserVersionInt("Firefox/")>=e.firefox){return true}}else if(navigator.userAgent.indexOf("Safari/")>-1){if(e.safari!==undefined&&a.getBrowserVersionInt("Version/")>=e.safari){return true}}else if(navigator.userAgent.indexOf("MSIE ")>-1){if(e.ie!==undefined&&a.getBrowserVersionInt("MSIE ")>=e.ie){return true}}return false};function o(){var e=navigator.userAgent.indexOf("GomezAgent")>-1;var t=navigator.userAgent.indexOf("LoadStorm")>-1;var n=navigator.userAgent.indexOf("Neustar WPM")>-1;return!(e||t||n)}a.gaTrackViewWrapper=function(e){try{if(!o()){return}_gaq.push(["_trackPageview",e]);console.debug("fired ga page view: "+e)}catch(t){}};var s=a.gaTrackViewWrapper;a.GA=a.GA||{};a.GA.trackEvent=function(e,t,n,i){try{if(!o()){return}if(typeof n=="undefined"){_gaq.push(["_trackEvent",e,t])}else if(typeof i=="undefined"){_gaq.push(["_trackEvent",e,t,n])}else if(typeof i=="number"){_gaq.push(["_trackEvent",e,t,n,i])}}catch(r){}};a.GA.trackEventRedirect=function(t,n,i,r,o){a.GA.trackEvent(t,n,i,r);var s=function(){window.location=o};e.delay(s,a.GA.EVENT_TRACKING_REDIRECT_DELAY)};a.GA.trackEventNonInteractive=function(e,t,n,i){try{if(!o()){return}if(typeof n=="undefined"){_gaq.push(["_trackEvent",e,t,undefined,undefined,true])}else if(typeof i=="undefined"){_gaq.push(["_trackEvent",e,t,n,undefined,true])}else{_gaq.push(["_trackEvent",e,t,n,i,true])}}catch(r){}};var l=function(e,t,n,i){a.GA.trackEvent(e,t,n,i)};a.GA.trackCustomVariable=function(e,t,n,i){try{if(!o()){return}_gaq.push(["_setCustomVar",e,t,n,i])}catch(r){}};a.sendPageLoadEvents=function(e,t){var n={};var i={};n["target"]=i["feature"]=e;n["action"]=i["event"]=a.GA.TRACK_EVENT_ACTION.PAGE_LOAD;if(typeof t!=="undefined"){n["label"]=i["label"]=t}a.sendTrackAPIAndGAEvent(n,i)};a.sendTrackAPI=function(e){a.required(e["feature"]);a.required(e["event"]);n.get("/track",e)};a.createTrackRedirectUrl=function(t,i){var r,o,s,l;a.required(i["feature"]);a.required(i["event"]);i["t_api"]=1;baseUrl=t.split("#")[0];r=t.split("#")[1];l=baseUrl.split("?");o=a.Url.ParseQuery(l[1]);e.extend(o,i);s=n.param(o);return l[0]+"?"+s+(r?"#"+r:"")};a.appendTrackParameters=function(e,t){var i=n(e);var r=i.attr("href");if(r){newUrl=a.createTrackRedirectUrl(r,t);i.attr("href",newUrl)}};a.trackRedirect=function(e,t){var n=a.createTrackRedirectUrl(e,t);window.location.href=n};a.sendTrackAPIAndGAEvent=function(e,t,n){n=n||undefined;try{if(e){if(n){a.GA.trackEventRedirect(e["target"],e["action"],e["label"],e["value"],n)}else{a.GA.trackEvent(e["target"],e["action"],e["label"],e["value"])}}}catch(i){}try{if(t){a.sendTrackAPI(t)}}catch(i){}};function _(e,t){if(n(e).length>0){var i=n(e);var r=i.val();if(typeof t=="undefined"){r=t}i.focus(function(){i.val("")});i.change(function(){i.unbind("focus");i.unbind("blur")});i.blur(function(){i.val(r)})}}function c(e,t){var i=n(e).text();var r=i.indexOf(" ");var a=n.trim(n(e).text().substring(r));if(n(e).hasClass("toggleBlockShowing")){n(t).hide();n(e).text("show "+a);n(e).removeClass("toggleBlockShowing");n(e).addClass("toggleBlockHidden")}else{n(e).text("hide "+a);n(e).addClass("toggleBlockShowing");n(e).removeClass("toggleBlockHidden");n(t).show()}}function u(e,t){n(t).text(n(e).val())}function d(e,t,n){return e==1?t:n}function h(e){return e.replace(/ /g,"")}function f(){if(a.COOKIE&&n.cookie(a.COOKIE.SEM_USER)){return true}else{return false}}function p(){var e=a.Url.parseCurrentQuery();if(e["utm_source"]=="google"&&e["utm_medium"]=="ppc"&&e["utm_term"]!="minted"){n.cookie(a.COOKIE.SEM_USER,true,{expires:30,path:"/"})}}function E(){if(a.COOKIE&&n.cookie(a.COOKIE.DISPLAY_ADVERTISING_USER)){return true}else{return false}}function g(){var e=a.Url.parseCurrentQuery();if(e["utm_medium"]=="onlineadv"&&e["utm_term"]!="minted"){n.cookie(a.COOKIE.DISPLAY_ADVERTISING_USER,true,{expires:30,path:"/"})}}(function(e){e.fn.center=function(t,n,i){if(typeof t=="undefined"){t=window}if(typeof n=="undefined"){n=0}if(typeof i=="undefined"){i=0}return this.each(function(){var r=Math.round(e(t).height()/2-e(this).outerHeight()/2);var a=Math.round(e(t).width()/2-e(this).outerWidth()/2);r+=i;a+=n;e(this).css({position:"absolute",margin:0,top:(r>0?r:0)+"px",left:(a>0?a:0)+"px"})})}})(n);function m(e){var t=location.href+e;var n=document.title;window.open("http://www.facebook.com/sharer.php?u="+encodeURIComponent(t)+"&t="+encodeURIComponent(n),"sharer","toolbar=0,status=0,width=975,height=565,resizable=1");return false}function A(e){window.open(e,"shareOnFacebook","toolbar=0,status=0,width=600,height=300,resizable=1");return false}a.required=function(e,t){a.assert(e!==undefined,"Required Parameter not supplied.",(t||0)+1)};a.IllegalNumberOfArgumentsException=function(e,t){this.name="IllegalNumberOfArgumentsException";this.message=e||"Wrong number of arguments: "+t};a.IllegalNumberOfArgumentsException.prototype=new Error;a.IllegalNumberOfArgumentsException.constructor=Error;a.IllegalArgumentTypeException=function(e,t){this.name="IllegalArgumentTypeException";this.message=e||"Wrong type of arguments: "+t};a.IllegalNumberOfArgumentsException.prototype=new Error;a.IllegalNumberOfArgumentsException.constructor=Error;a.assert=function(e,t,n){var i=t?": "+t:"";if(!e){a.throwWithStack("Assertion Error"+i,(n||0)+1)}};var T=a.assert;a.throwWithStack=function(e,t){var n=(t||0)+1;var i=new Error(e);try{throw i}catch(a){var o=r({e:a}).slice(n).join("\n");throw new Error(a.message+" at "+o)}};a.isValidEmail=function(e){var t=/[^ ]+@[^ ]+/;return t.test(e)};a.displayRecentBlogPosts=function(){var e=n("#blogPosts");if(e.length>0){n.ajax({method:"GET",url:"/api/blogposts",dataType:"json",success:function(t,i,r){for(var a=0,o=t.length;a<o;a++){var s=n("<li>");var l=n("<a>");l.attr("href",t[a].url);l.attr("rel","bookmark");l.attr("title",t[a].title);l.text(t[a].title);s.append(l);e.append(s)}}})}};a.setCaretAtEnd=function(e){var t=e.value.length;var n=document.selection;if(!n){if(e.selectionStart||e.selectionStart=="0"){e.selectionStart=t;e.selectionEnd=t}}e.focus()};a.CreateTrackingPixel=function(e,t,i){var r;if(t){r=n(t)}else{r=n("<img>")}r.attr("src",e);for(var a in i){r.attr(a,i[a])}r.hide();n("body").append(r)};a.AddScriptTag=function(e,t){var n=document.createElement("script");n.type="text/javascript";if(e){n.src=e}n.async=true;for(var i in t){n[i]=t[i]}var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r)};a.sprite_placeholder=function(){return a.img_src("/static/images/sprite_placeholder.png")};a.GetGreetingUrlParamFromName=function(e){if(!e)return;return e.toUpperCase().trim().replace(" ","").replace("_","")};a.addTrackingPixel=function(){var e=a.landingPageName||"other";var t=a.productSku;var n=a.productPrice;if(t&&n){window.google_tag_params={ecomm_prodid:t,ecomm_pagetype:e,ecomm_totalvalue:n}}else{window.google_tag_params={ecomm_pagetype:e}}};n(document).ready(function(){n("a[resetsearch]").bind("click",function(){var e=n(this).attr("href");n("body").data("searchJumpUrl",e);n.get("/search?resetFilters=1&noredir=1",{targetUrl:e},function(e){var t=n("body").data("searchJumpUrl");document.location=t;return false});return false});if(!f()){p()}if(!E()){g()}a.addTrackingPixel();a.incrementPageCountCookie();if(!window.isSEMCookieSet){window.isSEMCookieSet=f;window.isDisplayAdvertisingCookieSet=E}var e=new a.View.EmailDialog;e.renderIfNotLoggedIn()});function v(){l("saved designs","view saved designs")}function C(e){n(e).focus();n(e).select()}a.bindCloseEvent=function(e,t){window.onbeforeunload=function(){if(t()){return e}else{return null}}};a.unbindCloseEvent=function(){window.onbeforeunload=null};(function(){var t=[];var i=function(e){t.push(e);var n=t.length-1;e.bind("dialogclose dialogdestroy",function(){t.splice(n,1)})};a.closeDialogOnMaskClick=function(t){var r=n(t);r.bind("dialogopen",e.bind(i,null,r))};var r=".ui-widget-overlay";var o=function(){e.each(t,function(e){e.dialog("close")})};var s='a[href^="/search?"][href*="designerID="]';var l='a[href^="/store/"],'+'a[href^="/storefront/"]';var _=function(e){if(!n(e.target).hasClass("noPopover")){e.preventDefault();var t=n(e.target);if(!t.is("a")){t=t.parents("a")}a.View.DesignerStorefront.Popover.setLocationAndRender(t.attr("href"))}};var c=/(checkout|revieworder)/.test(window.location.href);n(document).ready(e.once(function(){var e=n(document.body);if(e.on){e.on("click",r,o);if(!c){e.on("click",s,_);e.on("click",l,_)}}else if(e.delegate){e.delegate(r,"click",o);if(!c){e.delegate(s,"click",_);e.delegate(l,"click",_)}}else if(e.live){n(r).live("click",o);if(!c){n(s).live("click",_);n(l).live("click",_)}}}))})();a.shouldIntroduceFilters=function(e){var t=a.LOCAL_STORAGE_KEYS.CATEGORY.INTRODUCE_FILTERS,n;if(arguments.length===0){n=a.localStorageManager.get(t);if(n==null){console.warn('Resetting localStorage["'+t+'"] to current session id.');return a.shouldIntroduceFilters(false)}return n}else if(e){a.localStorageManager.remove(t)}else{a.localStorageManager.set(t,false)}return e};a.template=function(t){var n=null;return function(){if(n==null){n=e.template(t)}return n.apply(this,arguments)}};return{emitGATracking:o,gaTrackViewWrapper:s,gaTrackEventWrapper:l,textboxFocusHelper:_,toggleBlock:c,copyContent:u,plural:d,stripSpaces:h,isSEMCookieSet:f,setSEMCookie:p,isDisplayAdvertisingCookieSet:E,setDisplayAdvertisingCookie:g,fbs_click:m,facebook_feed_click:A,assert:T,saveddesign:v,selectAllText:C}});M=M||{};M.Number=M.Number||{};M.Number.intToWord=function(e){var t={0:"zero",1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine"};return t[e]};M.Number.prettyMoneyFormat=function(e){if(!e){return"($0.00)"}var t=Number(e);if(isNaN(t)||t===0){return"($0.00)"}if(t<0){return"($"+Math.abs(t).toFixed(2)+" less)"}return"($"+t.toFixed(2)+" more)"};M.Number.moneyFormat=function(e){if(!e){return"$0.00"}var t=Number(e);if(isNaN(t)||t===0){return"$0.00"}if(t<0){return"-$"+Math.abs(t).toFixed(2)}return"$"+t.toFixed(2)};var module;UMD(module,{"minted:m":["M"],"minted:vendor/jquery-1.9.1.min":"$"})(this,function(e,t){var n=e.M;n.html={};n.html.htmlEscape=function(e){if(e){e=t("<div/>").text(e).html()}return e};n.html.htmlAttributeEscape=function(e){if(e){e=n.html.htmlEscape(e).replace(/'/g,"&#39;").replace(/"/g,"&quot;")}return e};n.html.unicodeStripControlCharacters=function(e){if(e){var t=new RegExp("[\x00- --"+"\u2028\u2029\ufeff]+","g");return e.replace(t," ")}return""};return{}});$(document).ready(function(){function e(e){var t=e.find('input[type="email"]');var n=e.data("user-type");var i=e.data("extra-context");var r=e.data("reentry-point");var a=JSON.stringify({email:t.val(),type:n,reentryPoint:r,extraContext:i});$.post("/email-signup",{data:a},function(e){t.val(e);gaTrackEventWrapper("registration","mailing list registration",window.location.pathname,n)},"text")}var t=$(".emailSignupModule");if(t.length>0){t.each(function(){var t=$(this);var n=t.find(".btnSignup");var i=t.find('input[type="text"]');n.bind("click",function(){e(t)});i.bind("focus",function(){$(this).val("")});i.bind("keydown",function(e){if(e.keyCode==13){e.returnValue=false;return false}});i.bind("keypress",function(n){if(n.keyCode==13){e(t);return false}})})}});(function(e,t,n){"use strict";var i=function(e){n("body").append(e)};var r=document.write;var a=function(){document.write=i};var o=function(){document.write=r};var s=[];var l=false;var _=function(){if(!l){l=true;u()}};var c=function(){if(l){l=false}};var u=function(){var e=s.pop();if(!e){c();return}else{p(e,u)}};var d=function(e){s.push(e)};var h=1058317835;var f="hkDbCNXRmAgQi8zS-AM";e.googleConversion=function(e){d(e);if(E&&!l){_()}};var p=function(e,t){var i=e==f;window.google_conversion_id=h;window.google_conversion_label=e;if(i){window.google_custom_params=window.google_tag_params;window.google_remarketing_only=true;window.google_conversion_language=undefined;window.google_conversion_format=undefined;

window.google_conversion_color=undefined;window.google_conversion_value=undefined}else{window.google_custom_params=undefined;window.google_remarketing_only=undefined;window.google_conversion_language="en";window.google_conversion_format="3";window.google_conversion_color="ffffff";window.google_conversion_value=0}try{a();n.ajax({url:"//www.googleadservices.com/pagead/conversion.js",dataType:"script",cache:true,complete:function(){o();t()}})}catch(r){o();throw r}};var E=false;n(window).load(function(){E=true;_()})})(M,_,$);var BlockUIView=Backbone.View.extend({tagName:"div",render:function(){var e=this;this.el=$(this.el);this.el.html(e.options.message);this.el.dialog({autoOpen:true,modal:true,resizable:false,draggable:false,width:300,minHeight:0,dialogClass:"no-title block-ui",zIndex:3e3,close:function(){e.remove()}});return this}});var isIphone=false;var isAndroidPhone=false;var isTierTablet=false;var isTierIphone=false;var isTierRichCss=false;var isTierGenericMobile=false;var engineWebKit="webkit";var deviceIphone="iphone";var deviceIpod="ipod";var deviceIpad="ipad";var deviceMacPpc="macintosh";var deviceAndroid="android";var deviceGoogleTV="googletv";var deviceXoom="xoom";var deviceHtcFlyer="htc_flyer";var deviceNuvifone="nuvifone";var deviceSymbian="symbian";var deviceS60="series60";var deviceS70="series70";var deviceS80="series80";var deviceS90="series90";var deviceWinPhone7="windows phone os 7";var deviceWinMob="windows ce";var deviceWindows="windows";var deviceIeMob="iemobile";var devicePpc="ppc";var enginePie="wm5 pie";var deviceBB="blackberry";var vndRIM="vnd.rim";var deviceBBStorm="blackberry95";var deviceBBBold="blackberry97";var deviceBBBoldTouch="blackberry 99";var deviceBBTour="blackberry96";var deviceBBCurve="blackberry89";var deviceBBCurveTouch="blackberry 938";var deviceBBTorch="blackberry 98";var deviceBBPlaybook="playbook";var devicePalm="palm";var deviceWebOS="webos";var deviceWebOShp="hpwos";var engineBlazer="blazer";var engineXiino="xiino";var deviceKindle="kindle";var engineSilk="silk";var vndwap="vnd.wap";var wml="wml";var deviceTablet="tablet";var deviceBrew="brew";var deviceDanger="danger";var deviceHiptop="hiptop";var devicePlaystation="playstation";var deviceNintendoDs="nitro";var deviceNintendo="nintendo";var deviceWii="wii";var deviceXbox="xbox";var deviceArchos="archos";var engineOpera="opera";var engineNetfront="netfront";var engineUpBrowser="up.browser";var engineOpenWeb="openweb";var deviceMidp="midp";var uplink="up.link";var engineTelecaQ="teleca q";var devicePda="pda";var mini="mini";var mobile="mobile";var mobi="mobi";var maemo="maemo";var linux="linux";var qtembedded="qt embedded";var mylocom2="com2";var manuSonyEricsson="sonyericsson";var manuericsson="ericsson";var manuSamsung1="sec-sgh";var manuSony="sony";var manuHtc="htc";var svcDocomo="docomo";var svcKddi="kddi";var svcVodafone="vodafone";var disUpdate="update";var uagent="";if(navigator&&navigator.userAgent)uagent=navigator.userAgent.toLowerCase();function DetectIphone(){if(uagent.search(deviceIphone)>-1){if(DetectIpad()||DetectIpod())return false;else return true}else return false}function DetectIpod(){if(uagent.search(deviceIpod)>-1)return true;else return false}function DetectIpad(){if(uagent.search(deviceIpad)>-1&&DetectWebkit())return true;else return false}function DetectIphoneOrIpod(){if(uagent.search(deviceIphone)>-1||uagent.search(deviceIpod)>-1)return true;else return false}function DetectIos(){if(DetectIphoneOrIpod()||DetectIpad())return true;else return false}function DetectAndroid(){if(uagent.search(deviceAndroid)>-1||DetectGoogleTV())return true;if(uagent.search(deviceHtcFlyer)>-1)return true;else return false}function DetectAndroidPhone(){if(DetectAndroid()&&uagent.search(mobile)>-1)return true;if(DetectOperaAndroidPhone())return true;if(uagent.search(deviceHtcFlyer)>-1)return true;else return false}function DetectAndroidTablet(){if(!DetectAndroid())return false;if(DetectOperaMobile())return false;if(uagent.search(deviceHtcFlyer)>-1)return false;if(uagent.search(mobile)>-1)return false;else return true}function DetectAndroidWebKit(){if(DetectAndroid()&&DetectWebkit())return true;else return false}function DetectGoogleTV(){if(uagent.search(deviceGoogleTV)>-1)return true;else return false}function DetectWebkit(){if(uagent.search(engineWebKit)>-1)return true;else return false}function DetectS60OssBrowser(){if(DetectWebkit()){if(uagent.search(deviceS60)>-1||uagent.search(deviceSymbian)>-1)return true;else return false}else return false}function DetectSymbianOS(){if(uagent.search(deviceSymbian)>-1||uagent.search(deviceS60)>-1||uagent.search(deviceS70)>-1||uagent.search(deviceS80)>-1||uagent.search(deviceS90)>-1)return true;else return false}function DetectWindowsPhone7(){if(uagent.search(deviceWinPhone7)>-1)return true;else return false}function DetectWindowsMobile(){if(DetectWindowsPhone7())return false;if(uagent.search(deviceWinMob)>-1||uagent.search(deviceIeMob)>-1||uagent.search(enginePie)>-1)return true;if(uagent.search(devicePpc)>-1&&!(uagent.search(deviceMacPpc)>-1))return true;if(uagent.search(manuHtc)>-1&&uagent.search(deviceWindows)>-1)return true;else return false}function DetectBlackBerry(){if(uagent.search(deviceBB)>-1)return true;if(uagent.search(vndRIM)>-1)return true;else return false}function DetectBlackBerryTablet(){if(uagent.search(deviceBBPlaybook)>-1)return true;else return false}function DetectBlackBerryWebKit(){if(DetectBlackBerry()&&uagent.search(engineWebKit)>-1)return true;else return false}function DetectBlackBerryTouch(){if(DetectBlackBerry()&&(uagent.search(deviceBBStorm)>-1||uagent.search(deviceBBTorch)>-1||uagent.search(deviceBBBoldTouch)>-1||uagent.search(deviceBBCurveTouch)>-1))return true;else return false}function DetectBlackBerryHigh(){if(DetectBlackBerryWebKit())return false;if(DetectBlackBerry()){if(DetectBlackBerryTouch()||uagent.search(deviceBBBold)>-1||uagent.search(deviceBBTour)>-1||uagent.search(deviceBBCurve)>-1)return true;else return false}else return false}function DetectBlackBerryLow(){if(DetectBlackBerry()){if(DetectBlackBerryHigh()||DetectBlackBerryWebKit())return false;else return true}else return false}function DetectPalmOS(){if(uagent.search(devicePalm)>-1||uagent.search(engineBlazer)>-1||uagent.search(engineXiino)>-1){if(DetectPalmWebOS())return false;else return true}else return false}function DetectPalmWebOS(){if(uagent.search(deviceWebOS)>-1)return true;else return false}function DetectWebOSTablet(){if(uagent.search(deviceWebOShp)>-1&&uagent.search(deviceTablet)>-1)return true;else return false}function DetectGarminNuvifone(){if(uagent.search(deviceNuvifone)>-1)return true;else return false}function DetectSmartphone(){if(DetectIphoneOrIpod()||DetectAndroidPhone()||DetectS60OssBrowser()||DetectSymbianOS()||DetectWindowsMobile()||DetectWindowsPhone7()||DetectBlackBerry()||DetectPalmWebOS()||DetectPalmOS()||DetectGarminNuvifone())return true;return false}function DetectArchos(){if(uagent.search(deviceArchos)>-1)return true;else return false}function DetectBrewDevice(){if(uagent.search(deviceBrew)>-1)return true;else return false}function DetectDangerHiptop(){if(uagent.search(deviceDanger)>-1||uagent.search(deviceHiptop)>-1)return true;else return false}function DetectMaemoTablet(){if(uagent.search(maemo)>-1)return true;if(uagent.search(linux)>-1&&uagent.search(deviceTablet)>-1&&!DetectWebOSTablet()&&!DetectAndroid())return true;else return false}function DetectSonyMylo(){if(uagent.search(manuSony)>-1){if(uagent.search(qtembedded)>-1||uagent.search(mylocom2)>-1)return true;else return false}else return false}function DetectOperaMobile(){if(uagent.search(engineOpera)>-1){if(uagent.search(mini)>-1||uagent.search(mobi)>-1)return true;else return false}else return false}function DetectOperaAndroidPhone(){if(uagent.search(engineOpera)>-1&&uagent.search(deviceAndroid)>-1&&uagent.search(mobi)>-1)return true;else return false}function DetectOperaAndroidTablet(){if(uagent.search(engineOpera)>-1&&uagent.search(deviceAndroid)>-1&&uagent.search(deviceTablet)>-1)return true;else return false}function DetectSonyPlaystation(){if(uagent.search(devicePlaystation)>-1)return true;else return false}function DetectNintendo(){if(uagent.search(deviceNintendo)>-1||uagent.search(deviceWii)>-1||uagent.search(deviceNintendoDs)>-1)return true;else return false}function DetectXbox(){if(uagent.search(deviceXbox)>-1)return true;else return false}function DetectGameConsole(){if(DetectSonyPlaystation())return true;if(DetectNintendo())return true;if(DetectXbox())return true;else return false}function DetectKindle(){if(uagent.search(deviceKindle)>-1&&!DetectAndroid())return true;else return false}function DetectAmazonSilk(){if(uagent.search(engineSilk)>-1)return true;else return false}function DetectMobileQuick(){if(DetectTierTablet())return false;if(DetectSmartphone())return true;if(uagent.search(deviceMidp)>-1||DetectBrewDevice())return true;if(DetectOperaMobile())return true;if(uagent.search(engineNetfront)>-1)return true;if(uagent.search(engineUpBrowser)>-1)return true;if(uagent.search(engineOpenWeb)>-1)return true;if(DetectDangerHiptop())return true;if(DetectMaemoTablet())return true;if(DetectArchos())return true;if(uagent.search(devicePda)>-1&&!(uagent.search(disUpdate)>-1))return true;if(uagent.search(mobile)>-1)return true;if(DetectKindle()||DetectAmazonSilk())return true;return false}function DetectMobileLong(){if(DetectMobileQuick())return true;if(DetectGameConsole())return true;if(DetectSonyMylo())return true;if(uagent.search(manuSamsung1)>-1||uagent.search(manuSonyEricsson)>-1||uagent.search(manuericsson)>-1)return true;if(uagent.search(svcDocomo)>-1)return true;if(uagent.search(svcKddi)>-1)return true;if(uagent.search(svcVodafone)>-1)return true;return false}function DetectTierTablet(){if(DetectIpad()||DetectAndroidTablet()||DetectBlackBerryTablet()||DetectWebOSTablet())return true;else return false}function DetectTierIphone(){if(DetectIphoneOrIpod())return true;if(DetectAndroidPhone())return true;if(DetectBlackBerryWebKit()&&DetectBlackBerryTouch())return true;if(DetectWindowsPhone7())return true;if(DetectPalmWebOS())return true;if(DetectGarminNuvifone())return true;else return false}function DetectTierRichCss(){if(DetectMobileQuick()){if(DetectTierIphone()||DetectKindle())return false;if(DetectWebkit())return true;if(DetectS60OssBrowser())return true;if(DetectBlackBerryHigh())return true;if(DetectWindowsMobile())return true;if(uagent.search(engineTelecaQ)>-1)return true;else return false}else return false}function DetectTierOtherPhones(){if(DetectMobileLong()){if(DetectTierIphone()||DetectTierRichCss())return false;else return true}else return false}function InitDeviceScan(){isIphone=DetectIphoneOrIpod();isAndroidPhone=DetectAndroidPhone();isTierIphone=DetectTierIphone();isTierTablet=DetectTierTablet();isTierRichCss=DetectTierRichCss();isTierGenericMobile=DetectTierOtherPhones()}InitDeviceScan();M.View=M.View||{};lightbox_templates={standard:{html:""+'<div class="emailDialogContent">'+'  <input type="text" name="email" value="email"'+'    class="emailDialogEmail" />'+'  <a class="submitButton button primary h30"><span>Submit</span></a>'+"</div>",background:"http://cdn3.minted.com/files/content/landing/lightbox-main.jpg"},wedding:{html:""+'<div class="emailDialogContent">'+'  <input type="text" name="email" value="email"'+'    class="emailDialogEmail" />'+'  <a class="submitButton button primary h30"><span>Wedding</span></a>'+"</div>",background:"http://cdn3.minted.com/files/content/landing/lightbox-main.jpg"},baby_and_kids:{html:""+'<div class="emailDialogContent">'+'  <input type="text" name="email" value="email"'+'    class="emailDialogEmail" />'+'  <a class="submitButton button primary h30"><span>Baby</span></a>'+"</div>",background:"http://cdn3.minted.com/files/content/landing/lightbox-main.jpg"}};M.View.EmailDialog=Backbone.View.extend({gaEventTarget:"emailLightbox",gaEventActionInitial:"lightbox_triggered",gaEventActionSignedUp:"lightbox_signedup",className:"emailDialogLightbox",initialize:function(){_.bindAll(this,"render");this.$el=$(this.el);this.isDialogCreated=false;this.cookieNamePageCounter="emailDialogPageCount";this.cookieNameCooldown="emailDialogCooldown";this.path=document.location.pathname.slice(1).split("/");this.queryParameters=M.Url.parseCurrentQuery();this.whitelistedLandingPages=["home","category","product"];this.whitelistedPaths=["wedding-planning","minted-coupon-codes"];this.blacklistedPaths=["sem","el"];this.emailInputKeyDown=_.once(this.emailInputKeyDown)},events:{"click .submitButton":"submitButtonClicked","click .emailDialogEmail":"emailInputClicked","keydown .emailDialogEmail":"emailInputKeyDown"},autoCloseDialog:function(){var e=this;$(".ui-widget-overlay").bind("click",function(){e.cancelButtonClicked();M.sendTrackAPI({feature:M.GA.TRACK_EVENT_CATEGORY.EMAIL_LIGHTBOX,event:M.GA.TRACK_EVENT_ACTION.CLOSE,method:"off_box_click"})})},render:function(){var e=this;if(!e.isDialogCreated){lightbox_type=e.getLightboxType();e.isDialogCreated=true;e.$el.empty();var t=lightbox_templates[lightbox_type].html;e.$el.append(t);e.$el.dialog({title:"",autoOpen:false,resizable:false,draggable:false,dialogClass:"emailDialogLightbox",height:266,width:408,modal:true,minHeight:0,open:function(){e.autoCloseDialog()}})}var n=$(".emailDialogContent").parentsUntil(".ui-dialog").parent();var i=lightbox_templates[lightbox_type].background;n.css({background:"url('"+i+"')"});n.find(".ui-icon").html("X").css({color:"white",display:"block","text-indent":"0"});n.find(".ui-dialog-titlebar-close").css({"background-image":"none"});$(".ui-dialog-titlebar-close").click(function(){e.cancelButtonClicked();M.sendTrackAPI({feature:M.GA.TRACK_EVENT_CATEGORY.EMAIL_LIGHTBOX,event:M.GA.TRACK_EVENT_ACTION.CLOSE,method:"x_click"})});e.showDialog();$(".emailDialogEmail").blur();$(".emailDialogLightbox").height(250);$(".emailDialogLightbox").css("z-index",2003);gaTrackEventWrapper(e.gaEventTarget,e.gaEventActionInitial);M.sendTrackAPI({feature:M.GA.TRACK_EVENT_CATEGORY.EMAIL_LIGHTBOX,event:M.GA.TRACK_EVENT_ACTION.TRIGGER})},showDialog:function(){this.$el.dialog("open")},showConfirmationDialog:function(e,t){var n=this;n.$el.dialog("open");M.Flag.setFlag(M.Flag.EMAIL_DIALOG_SIGNED_UP,true);var i=$(".emailDialogContent").parentsUntil(".ui-dialog").parent();var r="http://cdn3.minted.com/files/content/landing/lightbox-confirm-background.jpg";var a=$(".emailDialogContent");if(e){a.html('<p>Use Code: <b style="color:yellow">'+e+"</b>"+" to receive FREE SHIPPING on your first purchase. One time use only, expires on "+t+"</p>")}else{a.html("<p>Your free shipping offer has expired.</p>")}a.css({"margin-top":"120px","font-size":"14pt","text-align":"center",color:"#ffffff"});i.css({background:"url('"+r+"')"});gaTrackEventWrapper(n.gaEventTarget,n.gaEventActionSignedUp)},renderIfNotLoggedIn:function(){var e=this;if(M.currentUser&&M.currentUser.uid==0){e.renderIfAppropriate();return}if(M.loggedInUser&&M.loggedInUser.get("userId")&&M.loggedInUser.get("userId")==0){e.renderIfAppropriate();return}if(!M.logInUser){M.loggedInUser=new M.Model.Base.LoggedInUser}if(!M.loggedInUser.get("userId")){M.loggedInUser.bind("change:userId",function(){if(M.loggedInUser.get("userId")==0){e.renderIfAppropriate()}})}},renderIfAppropriate:function(){var e=this;if(!M.BABY_GATE_ENABLED){e.incrementPageCounter()}var t={};t["onFirstPageView"]=e.getPageCounter()<2;t["isSignedUp"]=M.Flag.getFlag(M.Flag.EMAIL_DIALOG_SIGNED_UP);t["babyGateEnabled"]=M.BABY_GATE_ENABLED;t["isCooldown"]=e.isCooldownActive();t["isDisabled"]=M.View.DISABLE_EMAIL_DIALOG===true;t["isSEMUser"]=isSEMCookieSet();t["isDisplayAdvertisingUser"]=isDisplayAdvertisingCookieSet();t["notEnabledForThisBrowser"]=!e.isEnabledForThisBrowser();t["isOnMarketingUpsellPage"]=e.isOnMarketingUpsellPage();t["notOnWhitelistedPage"]=!e.isOnWhitelistedPage();t["isOnBlacklistedPath"]=e.isOnBlacklistedPath();if(_.any(t)){return false}setTimeout(function(){e.render()},3e3);return true},getPageCounter:function(){var e=this;var t=parseInt($.cookie(e.cookieNamePageCounter));if(isNaN(t)){t=0}return t},incrementPageCounter:function(){var e=this;var t=e.getPageCounter();t=t+1;$.cookie(e.cookieNamePageCounter,t,{expires:1,path:"/"})},startCooldown:function(){var e=this;$.cookie(e.cookieNameCooldown,true,{expires:10,path:"/"})},isCooldownActive:function(){var e=this;var t=$.cookie(e.cookieNameCooldown);return t!==null&&t!==undefined},isEnabledForThisBrowser:function(){var e=DetectMobileQuick();var t=M.visitorHost===M.MOGOTEST_IP;return!e&&!t},isOnKittenPage:function(){return this.queryParameters["it_category"]!==undefined},isOnWhitelistedLandingPage:function(){return _.contains(this.whitelistedLandingPages,M.landingPageName)},isOnPath:function(e){var t=this;return _.any(e,function(e){e=e.split("/");for(var n=0;n<e.length;n++){if(e[n]!==t.path[n]){return false}}return true})},isOnWhitelistedPath:function(){return this.isOnPath(this.whitelistedPaths)},isOnWhitelistedPage:function(){return this.isOnKittenPage()||this.isOnWhitelistedLandingPage()||this.isOnWhitelistedPath()},isOnBlacklistedPath:function(){return this.isOnPath(this.blacklistedPaths)},isOnMarketingUpsellPage:function(){return this.queryParameters["lb"]==="off"},submitButtonClicked:function(){var e=this;var t=new BlockUIView({message:'<span><img alt="spinner" '+'src="/static/images/spinner_20.gif" /><p>signing up</p></span>'});t.render();$.ajax({url:"/dialog/email",type:"POST",data:{email:$(".emailDialogEmail").val(),extra_context:"email_lightbox_b"},success:function(n,i,r){t.remove();if(n.error_message){alert(n.error_message);M.sendTrackAPI({feature:M.GA.TRACK_EVENT_CATEGORY.EMAIL_LIGHTBOX,event:M.GA.TRACK_EVENT_ACTION.SUBMIT_CLICK,outcome:"error"})}else{e.showConfirmationDialog(n.promo_code,n.expiration_date);M.sendTrackAPI({feature:M.GA.TRACK_EVENT_CATEGORY.EMAIL_LIGHTBOX,event:M.GA.TRACK_EVENT_ACTION.SUBMIT_CLICK,outcome:"success"})}},error:function(){t.remove();alert("Sorry, something is temporarily wrong with our email signup."+" Please try again later!");M.sendTrackAPI({feature:M.GA.TRACK_EVENT_CATEGORY.EMAIL_LIGHTBOX,event:M.GA.TRACK_EVENT_ACTION.SUBMIT_CLICK,outcome:"error"})}})},cancelButtonClicked:function(){var e=this;e.$el.dialog("close");e.startCooldown()},emailInputClicked:function(){var e=$(".emailDialogEmail");if(e.val()==="email"){e.val("").css("color","black")}},emailInputKeyDown:function(){M.sendTrackAPI({feature:M.GA.TRACK_EVENT_CATEGORY.EMAIL_LIGHTBOX,event:M.GA.TRACK_EVENT_ACTION.EMAIL_INPUT_KEYDOWN})},getLightboxType:function(){if(M.lightboxType===undefined||lightbox_templates[M.lightboxType]===undefined){return"standard"}return M.lightboxType}});var M=M||{};M.View=M.View||{};M.View.Base=M.View.Base||{};(function(e,t,n,i){"use strict";e.View.Base.UserNav=i.View.extend({initialize:function(){this.$el=n(".userNavAnchor")},render:function(){var n=this.$el;var i=e.Template.Base.LoginNav;if(this.model.get("firstName")&&this.model.get("userId")){i=e.Template.Base.UserNav}var r=t.clone(this.model.attributes);r.DiIsEnabled=this.options.DiIsEnabled;n.html(i(r))}})})(M,_,$,Backbone);var M=M||{};M.Model=M.Model||{};M.Model.Base=M.Model.Base||{};M.Model.Base.LoggedInUser=Backbone.Model.extend({defaults:{userId:0},isSignedIn:function(){return this.get("userId")!==0}});(function(e,t,n,i){"use strict";e.View=e.View||{};e.View.Order=e.View.Order||{};e.View.Order.OrderStatus=t.View.extend({template:e.Template.Base.StatusNotifications,currentOrderIndex:0,maxOrderIndex:0,ORDER_FADE_TIME:400,SLIDE_ANIMATION_TIME:400,events:{"click .leftArrow.active":"switchOrderLeft","click .rightArrow.active":"switchOrderRight","click .notificationButton":"buttonClickEvt","click .orderDetailsLink":"orderLinkClickEvt"},initialize:function(){this.$el=n(this.el);this.model.bind("change",this.render.bind(this))},render:function(){var e="";if(this.model.isUserLoggedIn()&&this.$el.length){var t=this.model.get("data");if(t.length){e=this.template({data:t,shouldRenderVisitorVersion:this.model.isKnownVisitor()&&!this.model.isLoggedInUser()});this.maxOrderIndex=t.length-1;this.$el.html(e);this.$el.attr("style","display: none");i.delay(function(){this.$el.slideDown(this.SLIDE_ANIMATION_TIME)}.bind(this),this.SLIDE_ANIMATION_TIME);this.barShownEvt()}}return this},highlightArrows:function(){this.$el.find(".leftArrow").addClass("active");this.$el.find(".rightArrow").addClass("active");if(this.currentOrderIndex===0){this.$el.find(".leftArrow").removeClass("active")}else if(this.currentOrderIndex===this.maxOrderIndex){this.$el.find(".rightArrow").removeClass("active")}},animateOrders:function(){var e=this.$el.find(".singleOrder");e.stop(true,true).fadeOut(this.ORDER_FADE_TIME).promise().done(function(){n(e[this.currentOrderIndex]).fadeIn(this.ORDER_FADE_TIME)}.bind(this));this.$el.find("#currentOrderNumber").html(this.currentOrderIndex+1)},switchOrderLeft:function(){if(this.currentOrderIndex===0){return}this.currentOrderIndex-=1;this.highlightArrows();this.animateOrders()},switchOrderRight:function(){if(this.currentOrderIndex===this.maxOrderIndex){return}this.currentOrderIndex+=1;this.highlightArrows();this.animateOrders()},barShownEvt:function(){var t=this.model.get("data")[this.currentOrderIndex];var n=t["button_text"].replace(/\s+/g,"_");e.GA.trackEvent(e.GA.TRACK_EVENT_CATEGORY.NOTIFICATION,e.GA.TRACK_EVENT_ACTION.ORDER_STATUS_SHOWN,n)},buttonClickEvt:function(){var t=this.model.get("data")[this.currentOrderIndex];var n=t["button_text"].replace(/\s+/g,"_");var i={};var r={};i["target"]=r["feature"]=e.GA.TRACK_EVENT_CATEGORY.NOTIFICATION;i["action"]=r["event"]=e.GA.TRACK_EVENT_ACTION.ORDER_BUTTON_CLICK;i["label"]=r["label"]=n;r["order_number"]=t.po_number;e.sendTrackAPIAndGAEvent(i,r)},orderLinkClickEvt:function(){var t=this.model.get("data")[this.currentOrderIndex];var n=t["button_text"].replace(/\s+/g,"_");e.GA.trackEvent(e.GA.TRACK_EVENT_CATEGORY.NOTIFICATION,e.GA.TRACK_EVENT_ACTION.ORDER_NUMBER_CLICK,n)}});e.View.Order.OrderStatus.getDetailsLinkUrl=function(e){var t="/order/detail/";t+=e["po_number"];t+="?ref=notificationctr";t+="&it_category=notification__number";t+="&it_id="+e["button_text"].replace(/\s+/g,"_");return t};e.View.Order.OrderStatus.checkUserLoggedIn=function(t){return e.loggedInUser.get("firstName")===null&&e.loggedInUser.get("userId")===0};e.View.Order.OrderStatus.getButtonClickUrl=function(t){var n=t["CTA_url"];if(t["eventLabel"]!=="Shipped"){n+="?ref=notificationctr";n+="&it_category=notification__button";n+="&it_id="+t["button_text"].replace(/\s+/g,"_")}if(e.View.Order.OrderStatus.checkUserLoggedIn()){n="/login?destination="+n}return n};e.View.Order.OrderStatus.friendlyTextMapping={"Order Processing":"we're processing your order","Proof In Progress":"your proof is in progress","Awaiting Your Approval":"your proof is ready for review","Production In Progress":"we're producing your order",Shipped:"your order has shipped!","Needs Attention":"your order is missing content","Order Parked":"finish personalizing your design","Multiple Shipments":"your order has shipped!","Multiple Proofs":"your order needs attention","Download Ready":"your file is ready to download","Downloads Ready":"your files are ready to download","Sent to Guests":"your invitation was sent to guests"}})(M,Backbone,jQuery,_);(function(e,t,n,i){"use strict";e.Model=e.Model||{};e.Model.Order=e.Model.Order||{};e.Model.Order.OrderStatus=t.Model.extend({urlRoot:"/order/detail/status/",refreshRate:3e5,initialize:function(){this.get("userModel").bind("change",this.onUserIdChange.bind(this));if(this.isUserLoggedIn()){this.startPolling()}},url:function(){return this.urlRoot+this.get("userModel").get("userId")},isKnownVisitor:function(){return this.get("isVisitor")},isLoggedInUser:function(){return this.get("userModel").get("userId")!==0},isUserLoggedIn:function(){return this.isLoggedInUser()||this.isKnownVisitor()},startPolling:function(){this.fetch();this.refreshInterval=window.setInterval(this.fetch.bind(this),this.refreshRate)},stopPolling:function(){window.clearInterval(this.refreshInterval)},onUserIdChange:function(){if(!this.isUserLoggedIn()){this.stopPolling()}else{this.startPolling()}}})})(M,Backbone,jQuery,_);var module;UMD(module,{"minted:m":["M"],"minted:vendor/backbone-1.0.0.min":"Backbone","minted:vendor/jquery-1.9.1.min":"$","minted:vendor/underscore-1.8.2.min":"_","templito:dropdown_picker":[]})(this,function(e,t,n,i){"use strict";M.View=M.View||{};M.View.DropdownPicker=t.View.extend({tagName:"div",className:"dropdownPicker",events:{"click .dropdownPickerItem":"itemClickHandler","click .dropdownPickerTrigger":"triggerClickHandler"},template:M.Template.DropdownPicker.DropdownPicker,initialize:function(){M.required(this.model);this.$el=n(this.el);i.bindAll(this,"render");this.model.bind("change:selectedSortOption",this.render);this.disableFirstOption=this.options.disableFirstOption||false},render:function(){var e;var t=this.model.get("sortOptionsList");var n=this.model.get("selectedSortOption");var r=t[0]["display_str"];for(var a in t){if(t[a]["option_val"]==n){r=t[a]["display_str"];if(this.disableFirstOption){t=i.without(t,t[0])}break}}e=this.template({sortOptionsList:t,selectedOptionDisplayStr:r,pickerLabel:this.options.pickerLabel});this.$el.empty();this.$el.append(e);this.$el.find(".dropdownPickerDataSource").hide();return this},itemClickHandler:function(e){var t=n(e.target).attr("val");this.model.set({selectedSortOption:t});this.closeDropdown()},disable:function(){this.disabled=true},enable:function(){this.disabled=false},triggerClickHandler:function(){if(this.disabled){return}var e=this.$el.find(".dropdownPickerDataSource");var t=e.is(":visible");if(!t){this.$el.find(".dropdownPickerDataSource").show();var i='<div class="backdropDiv"></div>';n(i).insertAfter(e).on("click",this.backdropClickHandler)}else{this.closeDropdown()}},closeDropdown:function(){var e=this.$el.find(".dropdownPickerDataSource");e.hide()},backdropClickHandler:function(){var e=n(this).parent().find(".dropdownPickerDataSource");e.hide();n(this).remove()}});return{DropdownPicker:M.View.DropdownPicker}});var module;UMD(module,{"minted:m":["M"],"minted:vendor/backbone-1.0.0.min":"Backbone","minted:vendor/underscore-1.8.2.min":"_","templito:community/util":[]})(this,function(e,t,n){"use strict";M.Model=M.Model||{};M.Model.DropdownPicker=t.Model.extend({initialize:function(){M.required(this.get("sortOptionsList"));M.required(this.get("selectedSortOption"))},getSelectedSortOption:function(){return this.get("selectedSortOption")}});return{DropdownPicker:M.Model.DropdownPicker}});var module;UMD(module,{"minted:m":["M"],"minted:vendor/backbone-1.0.0.min":"Backbone","minted:vendor/jquery-1.9.1.min":"$","minted:vendor/moment.min.js":"moment","minted:vendor/underscore-1.8.2.min":"_","templito:community/util":[]})(this,function(e,t,n,i,r){"use strict";var a=e.M;a.Community=a.Community||{};a.Community.Model=a.Community.Model||{};a.Community.Model.Challenge=t.Model.extend({initialize:function(){a.required(this.get("state"))},getFormattedTitle:function(){return this.get("title").truncate(40)},getDeadlineLabelText:function(){return a.COMMUNITY.CHALLENGE.STATUS_TEXT_DICT[this.get("state")]["deadlineLabelText"]},getActionButtonUrl:function(){if(this.get("state")==a.Config["ChallengeConfig"].state.submission.id){return"/contest?id="+this.get("id")}return""},getBannerDateStr:function(e){if(typeof e==="undefined"){e="dddd, MMMM DD, YYYY"}var t=this.get("state");var n=null;if(t===a.Config["ChallengeConfig"].state.setup.id){n=this.get("submission_start_date")}else if(t===a.Config["ChallengeConfig"].state.submission.id){n=this.get("submission_end_date")}else if(t===a.Config["ChallengeConfig"].state.submission_closed.id){n=this.get("nominate_start_date")}else if(t===a.Config["ChallengeConfig"].state.nominate.id){n=this.get("nominate_end_date")}else if(t===a.Config["ChallengeConfig"].state.nominate_select.id){n=this.get("voting_start_date")}else if(t===a.Config["ChallengeConfig"].state.vote.id){n=this.get("voting_end_date")}else if(t===a.Config["ChallengeConfig"].state.vote_closed.id){n=null}else if(t===a.Config["ChallengeConfig"].state.published.id){n=this.get("publish_date")}if(n){return i(n).format(e)}return""}});return{}});var module;UMD(module,{"minted:m":["M"],"minted:vendor/backbone-1.0.0.min":"Backbone","minted:vendor/jquery-1.9.1.min":"$","minted:vendor/underscore-1.8.2.min":"_","templito:community/util":[]})(this,function(e,t,n,i){"use strict";var r=e.M;r.Community=r.Community||{};r.Community.Collection=r.Community.Collection||{};r.Community.Collection.ChallengeList=t.Collection.extend({model:r.Community.Model.Challenge});return{}});var module;UMD(module,{"minted:m":["M"],"minted:vendor/backbone-1.0.0.min":"Backbone","minted:vendor/jquery-1.9.1.min":"$"})(this,function(e,t,n){"use strict";var i=e.M;i.Community=i.Community||{};i.Community.Model=i.Community.Model||{};i.Community.Model.SecondaryNavOverlay=t.Model.extend({initialize:function(){i.required(this.get("fetchUrl"))},url:function(){return this.get("fetchUrl")}});return{}});var module;UMD(module,{"minted:m":["M"],"minted:vendor/backbone-1.0.0.min":"Backbone","minted:vendor/jquery-1.9.1.min":"$","minted:vendor/underscore-1.8.2.min":"_","templito:community/util":[]})(this,function(e,t,n,i){"use strict";var r=e.M;r.Community=r.Community||{};r.Community.View=r.Community.View||{};r.Community.View.Util=r.Community.View.Util||{};r.Community.View.Util.Common=r.Community.View.Util.Common||{};r.Community.View.Util.Common.scrollToSection=function(e){n("html, body").animate({scrollTop:e},500,"easeInOutExpo")};r.Community.View.Util.DefaultFadingSpeed=280;r.Community.View.Util.Common.addHoverToggleAnimation=function(e,t,n,i){if(!i){i=r.Community.View.Util.DefaultFadingSpeed}e.hover(function(){n.fadeIn(i);t.stop();t.fadeOut(i)},function(){n.stop();n.fadeOut(i);t.fadeIn(i)})};return{}});var module;UMD(module,{"minted:m":["M"],"minted:vendor/backbone-1.0.0.min":"Backbone","minted:vendor/jquery-1.9.1.min":"$","minted:vendor/underscore-1.8.2.min":"_","templito:community/util":[]})(this,function(e,t,n,i){"use strict";var r=e.M;r.Community.View=r.Community.View||{};r.Community.View.Util=r.Community.View.Util||{};r.Community.View.Util.NavChallengeItem=t.View.extend({className:"navChallengeItem",template:r.Template.Community.Util.NavChallengeItem,HOVER_FADING_SPEED_MILLIS:280,initialize:function(){this.$el=n(this.el);this.render()},render:function(){this.$el.html(this.template({model:this.model.toJSON(),buttonText:this.options.buttonText}));var e=this.$el.find(".navChallengeBlock");var t=this.model.get("nav_hover_img_url");var n='url("http://'+r.MINTEDCDN_HTTP_HOST+"/"+t+'")';e.css("background-image",n);var i=this.model.getFormattedTitle();var a=this.$el.find(".navChallengeTitle");a.text(i);var o=this.$el.find(".navChallengeCategory");var s=this.$el.find(".navChallengeButton");r.Community.View.Util.Common.addHoverToggleAnimation(e,o,s,this.HOVER_FADING_SPEED_MILLIS);return this}});return{}});var module;UMD(module,{"minted:m":["M"],"minted:vendor/backbone-1.0.0.min":"Backbone","minted:vendor/jquery-1.9.1.min":"$","minted:vendor/underscore-1.8.2.min":"_","minted:community/model/challenge":[],"minted:community/collection/challenge_list":[],"minted:community/view/util/nav_challenge_item":[],"minted:community/model/secondary_nav_overlay":[],"templito:community/util":[]})(this,function(e,t,n,i){"use strict";var r=e.M;r.Community.View=r.Community.View||{};r.Community.View.Util=r.Community.View.Util||{};r.Community.View.Util.SecondaryNavOverlay=t.View.extend({template:r.Template.Community.Util.SecondaryNavOverlay,minNumContestsToDisplay:2,displayCount:3,initialize:function(){r.required(this.options.model);r.required(this.options.$parentContainer);this.$el=n(this.el);this._appendChallenges();this.options.$parentContainer.append(this.$el)},render:function(){this.$el.html(this.template(this.options));return this},_appendChallenges:function(){var e=this;this.model.fetch({
data:n.param({display_threshold:this.displayCount+1}),success:function(t,n,i){var r=n.length;if(r>=e.minNumContestsToDisplay){e.render();e._renderChallenges(n.slice(0,e.displayCount));if(r>e.displayCount){var a=e.$el.find(".navOverlayLink");a.css("display","block")}}}})},_renderChallenges:function(e){var t=this;var n=this.$el.find(".navOverlayContainer");var a=new r.Community.Collection.ChallengeList(e);i.each(a.models,function(e){var i=new r.Community.View.Util.NavChallengeItem({model:e,buttonText:t.options.buttonText});n.append(i.el)})}});return{}});M.View=M.View||{};M.View.DesignerStorefront=M.View.DesignerStorefront||{};(function(e,t,n,i){"use strict";var r=960;var a=33;var o=null;var s=window.location.href;var l=window.location.pathname;var _=false;e.View.DesignerStorefront.Popover=i.View.extend({template:e.Template.DesignerStorefront.Popover,initialize:function(){this.$el=n(this.el);t.bindAll(this,"_resizeDialog","_iframeLoad","openDialog","closeDialog");n(window).bind("resize",this._resizeDialog)},render:function(){this.renderDialog();if(!this.$elClose){this.renderCloseButton()}this._resizeDialog();return this},renderDialog:function(){var e=this;this.$el.html(this.template({src:this.iframeSrc()}));this.$el.dialog({autoOpen:true,modal:true,width:960,minHeight:0,resizable:false,draggable:false,dialogClass:"ui-dialog-full-width ui-dialog-designer-storefront",position:{my:"center top",at:"center top",of:window},open:this.openDialog,close:this.closeDialog});this.$elParent=this.$el.parents(".ui-dialog-designer-storefront");this.$elOverlay=this.$elParent.next(".ui-widget-overlay");if(!this.$elOverlay.length){this.$elOverlay=this.$elParent.prev(".ui-widget-overlay")}this.$elOverlay.css({"background-color":"#999","z-index":this._getDialogZIndex()-1});this.$elOverlay.click(function(){e.$el.dialog("close")});this.$iframe=this.$el.find("iframe");this.$iframe.load(this._iframeLoad)},renderCloseButton:function(){var e=this;this.$elClose=n('<div class="closeButtonWrap">').css({padding:"10px","background-color":"#FFF",position:"fixed","z-index":this._getDialogZIndex()+1,top:"0px",right:"20px","box-shadow":"0 0 2px #999",cursor:"pointer"});this.$elClose.append(n('<div class="ui-dialog-titlebar-close-storefront"></div>'));this.$elParent.after(this.$elClose);this.$elClose.click(function(){e.$el.dialog("close")})},openDialog:function(){n("body").css("overflow","hidden")},closeDialog:function(){this.$el.remove();this.$elClose.remove();n("body").css("overflow","");o=null;if(this.historyIndex&&!_){window.history.go(-this.historyIndex)}n("title").text(this.options.title)},iframeSrc:function(){var e=new URI(this.options.url);return e.setSearch("t",Date.now()).resource()},pushStateSrc:function(){var e=new URI(this.options.url),t=e.segment();if(t[0]==="store"&&t[1]==="o"){e.segment(1,"")}return e.resource()},_iframeLoad:function(){this.$iframe.fadeIn(500);this.$el.find(".loading").remove();if(this.$iframe[0].contentWindow.$){this.$iframe[0].contentWindow.$("body").css("overflow-x","hidden")}this.updateHistoryIndex(_);this.constructor.pushOrReplaceState();this._resizeDialog()},_resizeDialog:t.debounce(function(){if(!this.$el||!this.$el.length){return}var e=Math.floor((n("body").outerWidth()-r)/2);if(e<0){e=0}this.$elParent.css("left",e);this.$el.height(n(window).height())},a),updateHistoryIndex:function(e){if(e&&window.history.state&&window.history.state.historyIndex){this.historyIndex=window.history.state.historyIndex}else if(e||!this.historyIndex){this.historyIndex=1}else{this.historyIndex++}},_getDialogZIndex:function(){return parseInt(this.$elParent.css("z-index"),10)},getIframeTitle:function(){return this.$iframe[0].contentWindow.$("title").text()},getHistoryStateObject:function(){return{src:this.options.url,historyIndex:this.historyIndex,title:this.getIframeTitle(),isOverlayPopStateEvent:true}}},{isNotOverlay:function(){return!!(e.IS_MOBILE||e.IS_TABLET||e.IS_MOBILE_USER_AGENT)},setLocationAndRender:function(t){var n=e.View.DesignerStorefront.Popover.isNotOverlay(),i=e.View.DesignerStorefront.Popover.getStoreUrlMatch(t,n),r=this;if(!i.then||typeof i.then!=="function"){t=i;this.renderPopover(t,n)}else{i.then(function(e){e=JSON.parse(e);if(e.vanity_url){if(n){t="/store/"+encodeURIComponent(e.vanity_url)}else{t="/store/o/"+encodeURIComponent(e.vanity_url)}}r.renderPopover(t,n)})}},renderPopover:function(t,n){e.assert(t);if(n){window.location=t}else{o=this.createOrUpdate(t);o.render()}},createOrUpdate:function(t){if(e.View.DesignerStorefront.Popover._isStoreUrl(l)){return false}if(!o){o=new e.View.DesignerStorefront.Popover({url:t,title:n("title").text()})}else{o.options.url=t}return o},_isStoreUrl:function(e){return e.match(/\/store\//)!=null||e.match(/\/storefront\//)!=null},pushOrReplaceState:function(){var e;if(!_){e=o.getHistoryStateObject();window.history.pushState(e,e.title,o.pushStateSrc(e.src))}else{e=window.history.state;window.history.replaceState(e,e.title,o.pushStateSrc(e.src))}_=false;n("title").text(e.title)},frameBust:function(e){var n=window.history.state;window.history.replaceState(n,n.title,s);t.defer(function(){window.location=e})},handlePopState:function(t){_=true;if(!e.View.DesignerStorefront.Popover.isOverlayPopStateEvent(t)){if(o){o.$el.dialog("close")}else{}_=false}else{e.View.DesignerStorefront.Popover.setLocationAndRender(t.state.src)}return false},getStoreUrlMatch:function(i,r){var a=new URI(i),o=a.segment(),s;if(o[0]==="search"){s=a.search(true);var l;if(r){l="/store/"}else{l="/store/o/"}if(s.designerVanityUrl){return l+s.designerVanityUrl}if(s.designerID){var _=s.designerID.toString();return n.ajax({url:"/store/designer-transform-id/"+encodeURIComponent(_),async:false})}}else if(o[0]==="store"){if(o[1]!=="o"){if(e.String.isOnlyDigits(o[1])){return n.ajax({url:"/store/designer-transform-id/"+encodeURIComponent(o[1]),async:false})}if(r){a.segment([o[0],t.rest(o,1)])}else{a.segment([o[0],"o",t.rest(o,1)])}}else{if(e.String.isOnlyDigits(o[2])){return n.ajax({url:"/store/designer-transform-id/"+encodeURIComponent(o[1]),async:false})}else{return a.resource()}}}return i},isOverlayPopStateEvent:function(e){return!!(e&&e.state&&e.state.isOverlayPopStateEvent)}});window.onpopstate=e.View.DesignerStorefront.Popover.handlePopState})(M,_,$,Backbone);
//# sourceMappingURL=base_new.js.map